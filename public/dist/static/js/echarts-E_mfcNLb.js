import{_ as Ve}from"./tslib-Cg4x8ZAA.js";import{i as F,m as O,e as Ni,a as J,b as Vi,c as I,d as S,f as me,g as R,h as _e,j as va,k as M,l as k,n as Fi,o as H,p as da,q as mt,Z as pa,r as Oi,C as ga,E as zi,S as Ui,R as Gi,P as Hi,s as Wi,t as Le,L as ya,B as Yi,A as ma,u as Lr,v as _a,w as W,x as V,y as ge,z as Oe,D as Br,F as Z,G as ye,H as fe,I as mr,J as _t,K as Bt,M as Sa,N as Me,O as Ki,Q as Nr,T as Xe,U as on,V as Ze,W as Xi,X as Zi,Y as qi,_ as wa,$ as ji,a0 as Ht,a1 as $i,a2 as sn,a3 as Qt}from"./zrender-BgSSqBUn.js";var Ca=20;function Qi(r,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),Ca),r=(+r).toFixed(e),t?r:+r}function un(r){if(r=+r,isNaN(r))return 0;if(r>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(r*e)/e===r)return t}return Ji(r)}function Ji(r){var e=r.toString().toLowerCase(),t=e.indexOf("e"),n=t>0?+e.slice(t+1):0,a=t>0?t:e.length,i=e.indexOf("."),o=i<0?0:a-1-i;return Math.max(0,o-n)}function eo(r,e){var t=Math.max(un(r),un(e)),n=r+e;return t>Ca?n:Qi(n,t)}var to=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ta(r){if(r instanceof Date)return r;if(F(r)){var e=to.exec(r);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(r==null)return new Date(NaN);return new Date(Math.round(r))}function ro(r){var e=parseFloat(r);return e==r&&(e!==0||!F(r)||r.indexOf("x")<=0)?e:NaN}function no(r){return!isNaN(ro(r))}function ao(){return Math.round(Math.random()*9)}function Da(r,e){return e===0?r:Da(e,r%e)}function ln(r,e){return r==null?e:e==null?r:r*e/Da(r,e)}var fn={},io=typeof console<"u"&&console.warn&&console.log;function Wt(r,e,t){if(io&&t){if(fn[e])return;fn[e]=!0}}function oo(r,e){Wt("log",r,e)}function se(r,e){Wt("warn",r,e)}function q(r,e){Wt("error",r,e)}function he(r){Wt("warn","DEPRECATED: "+r,!0)}function X(r,e,t){he((t?"["+t+"]":"")+(r+" is deprecated, use "+e+" instead."))}function _r(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t="";{var n=function(a){return a===void 0?"undefined":a===1/0?"Infinity":a===-1/0?"-Infinity":Ni(a)?"NaN":a instanceof Date?"Date("+a.toISOString()+")":J(a)?"function () { ... }":Vi(a)?a+"":null};t=O(r,function(a){if(F(a))return a;var i=n(a);if(i!=null)return i;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(a,function(o,s){var u=n(s);return u??s})}catch{return"?"}else return"?"}).join(" ")}return t}function ue(r){throw new Error(r)}var ba="series\0",so="\0_ec_\0";function ee(r){return r instanceof Array?r:r==null?[]:[r]}function cn(r,e,t){if(r){r[e]=r[e]||{},r.emphasis=r.emphasis||{},r.emphasis[e]=r.emphasis[e]||{};for(var n=0,a=t.length;n<a;n++){var i=t[n];!r.emphasis[e].hasOwnProperty(i)&&r[e].hasOwnProperty(i)&&(r.emphasis[e][i]=r[e][i])}}}var hn=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Yt(r){return R(r)&&!k(r)&&!(r instanceof Date)?r.value:r}function uo(r,e,t){var n=t==="normalMerge",a=t==="replaceMerge",i=t==="replaceAll";r=r||[],e=(e||[]).slice();var o=I();S(e,function(u,h){if(!R(u)){e[h]=null;return}u.id!=null&&!dn(u.id)&&vn(u.id),u.name!=null&&!dn(u.name)&&vn(u.name)});var s=lo(r,o,t);return(n||a)&&fo(s,r,o,e),n&&co(s,e),n||a?ho(s,e,a):i&&vo(s,e),po(s),s}function lo(r,e,t){var n=[];if(t==="replaceAll")return n;for(var a=0;a<r.length;a++){var i=r[a];i&&i.id!=null&&e.set(i.id,a),n.push({existing:t==="replaceMerge"||Ye(i)?null:i,newOption:null,keyInfo:null,brandNew:null})}return n}function fo(r,e,t,n){S(n,function(a,i){if(!(!a||a.id==null)){var o=ot(a.id),s=t.get(o);if(s!=null){var u=r[s];M(!u.newOption,'Duplicated option on id "'+o+'".'),u.newOption=a,u.existing=e[s],n[i]=null}}})}function co(r,e){S(e,function(t,n){if(!(!t||t.name==null))for(var a=0;a<r.length;a++){var i=r[a].existing;if(!r[a].newOption&&i&&(i.id==null||t.id==null)&&!Ye(t)&&!Ye(i)&&Ma("name",i,t)){r[a].newOption=t,e[n]=null;return}}})}function ho(r,e,t){S(e,function(n){if(n){for(var a,i=0;(a=r[i])&&(a.newOption||Ye(a.existing)||a.existing&&n.id!=null&&!Ma("id",n,a.existing));)i++;a?(a.newOption=n,a.brandNew=t):r.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),i++}})}function vo(r,e){S(e,function(t){r.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function po(r){var e=I();S(r,function(t){var n=t.existing;n&&e.set(n.id,t)}),S(r,function(t){var n=t.newOption;M(!n||n.id==null||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),S(r,function(t,n){var a=t.existing,i=t.newOption,o=t.keyInfo;if(R(i)){if(o.name=i.name!=null?ot(i.name):a?a.name:ba+n,a)o.id=ot(a.id);else if(i.id!=null)o.id=ot(i.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(e.get(o.id))}e.set(o.id,t)}})}function Ma(r,e,t){var n=Fe(e[r],null),a=Fe(t[r],null);return n!=null&&a!=null&&n===a}function ot(r){if(r==null)throw new Error;return Fe(r,"")}function Fe(r,e){return r==null?e:F(r)?r:_e(r)||va(r)?r+"":e}function vn(r){se("`"+r+"` is invalid id or name. Must be a string or number.")}function dn(r){return va(r)||no(r)}function xa(r){var e=r.name;return!!(e&&e.indexOf(ba))}function Ye(r){return r&&r.id!=null&&ot(r.id).indexOf(so)===0}function go(r,e,t){S(r,function(n){var a=n.newOption;R(a)&&(n.keyInfo.mainType=e,n.keyInfo.subType=yo(e,a,n.existing,t))})}function yo(r,e,t,n){var a=e.type?e.type:t?t.subType:n.determineSubType(r,e);return a}function Kt(r,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return k(e.dataIndex)?O(e.dataIndex,function(t){return r.indexOfRawIndex(t)}):r.indexOfRawIndex(e.dataIndex);if(e.name!=null)return k(e.name)?O(e.name,function(t){return r.indexOfName(t)}):r.indexOfName(e.name)}function te(){var r="__ec_inner_"+mo++;return function(e){return e[r]||(e[r]={})}}var mo=ao();function Jt(r,e,t){var n=Aa(e,t),a=n.mainTypeSpecified,i=n.queryOptionMap,o=n.others,s=o,u=t?t.defaultMainType:null;return!a&&u&&i.set(u,{}),i.each(function(h,v){var l=Xt(r,v,h,{useDefault:u===v,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});s[v+"Models"]=l.models,s[v+"Model"]=l.models[0]}),s}function Aa(r,e){var t;if(F(r)){var n={};n[r+"Index"]=0,t=n}else t=r;var a=I(),i={},o=!1;return S(t,function(s,u){if(u==="dataIndex"||u==="dataIndexInside"){i[u]=s;return}var h=u.match(/^(\w+)(Index|Id|Name)$/)||[],v=h[1],l=(h[2]||"").toLowerCase();if(!(!v||!l||e&&e.includeMainTypes&&me(e.includeMainTypes,v)<0)){o=o||!!v;var c=a.get(v)||a.set(v,{});c[l]=s}}),{mainTypeSpecified:o,queryOptionMap:a,others:i}}var Vr={useDefault:!0,enableAll:!1,enableNone:!1};function Xt(r,e,t,n){n=n||Vr;var a=t.index,i=t.id,o=t.name,s={models:null,specified:a!=null||i!=null||o!=null};if(!s.specified){var u=void 0;return s.models=n.useDefault&&(u=r.getComponent(e))?[u]:[],s}return a==="none"||a===!1?(M(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(a==="all"&&(M(n.enableAll,'`"all"` is not a valid value on index option.'),a=i=o=null),s.models=r.queryComponents({mainType:e,index:a,id:i,name:o}),s)}function Ea(r,e,t){r.setAttribute?r.setAttribute(e,t):r[e]=t}function _o(r,e){return r.getAttribute?r.getAttribute(e):r[e]}var So=".",Ie="___EC__COMPONENT__CONTAINER___",Ia="___EC__EXTENDED_CLASS___";function ce(r){var e={main:"",sub:""};if(r){var t=r.split(So);e.main=t[0]||"",e.sub=t[1]||""}return e}function wo(r){M(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r),'componentType "'+r+'" illegal')}function Co(r){return!!(r&&r[Ia])}function Fr(r,e){r.$constructor=r,r.extend=function(t){S(e,function(i){t[i]});var n=this,a;return To(n)?a=function(i){Ve(o,i);function o(){return i.apply(this,arguments)||this}return o}(n):(a=function(){(t.$constructor||n).apply(this,arguments)},Fi(a,this)),H(a.prototype,t),a[Ia]=!0,a.extend=this.extend,a.superCall=Mo,a.superApply=xo,a.superClass=n,a}}function To(r){return J(r)&&/^class\s/.test(Function.prototype.toString.call(r))}function Ra(r,e){r.extend=e.extend}var Do=Math.round(Math.random()*10);function bo(r){var e=["__\0is_clz",Do++].join("_");r.prototype[e]=!0,M(!r.isInstance,'The method "is" can not be defined.'),r.isInstance=function(t){return!!(t&&t[e])}}function Mo(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[e].apply(r,t)}function xo(r,e,t){return this.superClass.prototype[e].apply(r,t)}function Or(r){var e={};r.registerClass=function(n){var a=n.type||n.prototype.type;if(a){wo(a),n.prototype.type=a;var i=ce(a);if(!i.sub)e[i.main],e[i.main]=n;else if(i.sub!==Ie){var o=t(i);o[i.sub]=n}}return n},r.getClass=function(n,a,i){var o=e[n];if(o&&o[Ie]&&(o=a?o[a]:null),i&&!o)throw new Error(a?"Component "+n+"."+(a||"")+" is used but not imported.":n+".type should be specified.");return o},r.getClassesByMainType=function(n){var a=ce(n),i=[],o=e[a.main];return o&&o[Ie]?S(o,function(s,u){u!==Ie&&i.push(s)}):i.push(o),i},r.hasClass=function(n){var a=ce(n);return!!e[a.main]},r.getAllClassMainTypes=function(){var n=[];return S(e,function(a,i){n.push(i)}),n},r.hasSubTypes=function(n){var a=ce(n),i=e[a.main];return i&&i[Ie]};function t(n){var a=e[n.main];return(!a||!a[Ie])&&(a=e[n.main]={},a[Ie]=!0),a}}function dt(r,e){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return e=e||!1,function(n,a,i){for(var o={},s=0;s<r.length;s++){var u=r[s][1];if(!(a&&me(a,u)>=0||i&&me(i,u)<0)){var h=n.getShallow(u,e);h!=null&&(o[r[s][0]]=h)}}return o}}var Ao=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Eo=dt(Ao),Io=function(){function r(){}return r.prototype.getAreaStyle=function(e,t){return Eo(this,e,t)},r}(),Be=te(),pn=1,gn={},Ro=te(),zr=te(),ka=0,Ur=1,Gr=2,Ne="highlight",It="downplay",st="select",Rt="unselect",ut="toggleSelect";function Zt(r,e,t){r.onHoverStateChange&&(r.hoverState||0)!==t&&r.onHoverStateChange(e),r.hoverState=t}function Pa(r){Zt(r,"emphasis",Gr)}function La(r){r.hoverState===Gr&&Zt(r,"normal",ka)}function Hr(r){Zt(r,"blur",Ur)}function Ba(r){r.hoverState===Ur&&Zt(r,"normal",ka)}function ko(r){r.selected=!0}function Po(r){r.selected=!1}function yn(r,e,t){e(r,t)}function Ae(r,e,t){yn(r,e,t),r.isGroup&&r.traverse(function(n){yn(n,e,t)})}function mn(r,e){!Oa(r,e)&&!r.__highByOuter&&Ae(r,Pa)}function _n(r,e){!Oa(r,e)&&!r.__highByOuter&&Ae(r,La)}function Sr(r,e){r.__highByOuter|=1<<(e||0),Ae(r,Pa)}function wr(r,e){!(r.__highByOuter&=~(1<<(e||0)))&&Ae(r,La)}function Lo(r){Ae(r,Hr)}function Na(r){Ae(r,Ba)}function Va(r){Ae(r,ko)}function Fa(r){Ae(r,Po)}function Oa(r,e){return r.__highDownSilentOnTouch&&e.zrByTouch}function za(r){var e=r.getModel(),t=[],n=[];e.eachComponent(function(a,i){var o=zr(i),s=a==="series",u=s?r.getViewOfSeriesModel(i):r.getViewOfComponentModel(i);!s&&n.push(u),o.isBlured&&(u.group.traverse(function(h){Ba(h)}),s&&t.push(i)),o.isBlured=!1}),S(n,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(t,!1,e)})}function Cr(r,e,t,n){var a=n.getModel();t=t||"coordinateSystem";function i(h,v){for(var l=0;l<v.length;l++){var c=h.getItemGraphicEl(v[l]);c&&Na(c)}}if(r!=null&&!(!e||e==="none")){var o=a.getSeriesByIndex(r),s=o.coordinateSystem;s&&s.master&&(s=s.master);var u=[];a.eachSeries(function(h){var v=o===h,l=h.coordinateSystem;l&&l.master&&(l=l.master);var c=l&&s?l===s:v;if(!(t==="series"&&!v||t==="coordinateSystem"&&!c||e==="series"&&v)){var f=n.getViewOfSeriesModel(h);if(f.group.traverse(function(g){g.__highByOuter&&v&&e==="self"||Hr(g)}),da(e))i(h.getData(),e);else if(R(e))for(var d=mt(e),p=0;p<d.length;p++)i(h.getData(d[p]),e[d[p]]);u.push(h),zr(h).isBlured=!0}}),a.eachComponent(function(h,v){if(h!=="series"){var l=n.getViewOfComponentModel(v);l&&l.toggleBlurSeries&&l.toggleBlurSeries(u,!0,a)}})}}function Tr(r,e,t){if(!(r==null||e==null)){var n=t.getModel().getComponent(r,e);if(n){zr(n).isBlured=!0;var a=t.getViewOfComponentModel(n);!a||!a.focusBlurEnabled||a.group.traverse(function(i){Hr(i)})}}}function Bo(r,e,t){var n=r.seriesIndex,a=r.getData(e.dataType);if(!a){q("Unknown dataType "+e.dataType);return}var i=Kt(a,e);i=(k(i)?i[0]:i)||0;var o=a.getItemGraphicEl(i);if(!o)for(var s=a.count(),u=0;!o&&u<s;)o=a.getItemGraphicEl(u++);if(o){var h=Be(o);Cr(n,h.focus,h.blurScope,t)}else{var v=r.get(["emphasis","focus"]),l=r.get(["emphasis","blurScope"]);v!=null&&Cr(n,v,l,t)}}function Wr(r,e,t,n){var a={focusSelf:!1,dispatchers:null};if(r==null||r==="series"||e==null||t==null)return a;var i=n.getModel().getComponent(r,e);if(!i)return a;var o=n.getViewOfComponentModel(i);if(!o||!o.findHighDownDispatchers)return a;for(var s=o.findHighDownDispatchers(t),u,h=0;h<s.length;h++)if(Ke(s[h])||q("param should be highDownDispatcher"),Be(s[h]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:s}}function No(r,e,t){Ke(r)||q("param should be highDownDispatcher");var n=Be(r),a=Wr(n.componentMainType,n.componentIndex,n.componentHighDownName,t),i=a.dispatchers,o=a.focusSelf;i?(o&&Tr(n.componentMainType,n.componentIndex,t),S(i,function(s){return mn(s,e)})):(Cr(n.seriesIndex,n.focus,n.blurScope,t),n.focus==="self"&&Tr(n.componentMainType,n.componentIndex,t),mn(r,e))}function Vo(r,e,t){Ke(r)||q("param should be highDownDispatcher"),za(t);var n=Be(r),a=Wr(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;a?S(a,function(i){return _n(i,e)}):_n(r,e)}function Fo(r,e,t){if(Dr(e)){var n=e.dataType,a=r.getData(n),i=Kt(a,e);k(i)||(i=[i]),r[e.type===ut?"toggleSelect":e.type===st?"select":"unselect"](i,n)}}function Sn(r){var e=r.getAllData();S(e,function(t){var n=t.data,a=t.type;n.eachItemGraphicEl(function(i,o){r.isSelected(o,a)?Va(i):Fa(i)})})}function Oo(r){var e=[];return r.eachSeries(function(t){var n=t.getAllData();S(n,function(a){a.data;var i=a.type,o=t.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:t.seriesIndex};i!=null&&(s.dataType=i),e.push(s)}})}),e}function Ke(r){return!!(r&&r.__highDownDispatcher)}function zo(r){var e=gn[r];return e==null&&pn<=32&&(e=gn[r]=pn++),e}function Dr(r){var e=r.type;return e===st||e===Rt||e===ut}function wn(r){var e=r.type;return e===Ne||e===It}function Uo(r){var e=Ro(r);e.normalFill=r.style.fill,e.normalStroke=r.style.stroke;var t=r.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}te();function er(r){if(!r.__zr)return!0;for(var e=0;e<r.animators.length;e++){var t=r.animators[e];if(t.scope==="leave")return!0}return!1}var Go={};function ve(r,e){Go[r]=e}function Ho(r,e,t,n){var a=Oi(r,e);return t&&(n==="center"&&(t=Ua(t,a.getBoundingRect())),Yo(a,t)),a}function Wo(r,e,t){var n=new pa({style:{image:r,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(a){if(t==="center"){var i={width:a.width,height:a.height};n.setStyle(Ua(e,i))}}});return n}function Ua(r,e){var t=e.width/e.height,n=r.height*t,a;n<=r.width?a=r.height:(n=r.width,a=n/t);var i=r.x+r.width/2,o=r.y+r.height/2;return{x:i-n/2,y:o-a/2,width:n,height:a}}function Yo(r,e){if(r.applyTransform){var t=r.getBoundingRect(),n=t.calculateTransform(e);r.applyTransform(n)}}function Cn(r,e){var t;r.isGroup&&(t=e(r)),t||r.traverse(e)}function Ko(r,e){if(r)if(k(r))for(var t=0;t<r.length;t++)Cn(r[t],e);else Cn(r,e)}ve("circle",ga);ve("ellipse",zi);ve("sector",Ui);ve("ring",Gi);ve("polygon",Hi);ve("polyline",Wi);ve("rect",Le);ve("line",ya);ve("bezierCurve",Yi);ve("arc",ma);function Xo(r,e){var t=e&&e.getModel("textStyle");return Lr([r.fontStyle||t&&t.getShallow("fontStyle")||"",r.fontWeight||t&&t.getShallow("fontWeight")||"",(r.fontSize||t&&t.getShallow("fontSize")||12)+"px",r.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}te();var Zo=["textStyle","color"],tr=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],rr=new _a,qo=function(){function r(){}return r.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(Zo):null)},r.prototype.getFont=function(){return Xo({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},r.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<tr.length;n++)t[tr[n]]=this.getShallow(tr[n]);return rr.useStyle(t),rr.update(),rr.getBoundingRect()},r}(),Ga=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],jo=dt(Ga),$o=function(){function r(){}return r.prototype.getLineStyle=function(e){return jo(this,e)},r}(),Ha=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Qo=dt(Ha),Jo=function(){function r(){}return r.prototype.getItemStyle=function(e,t){return Qo(this,e,t)},r}(),oe=function(){function r(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}return r.prototype.init=function(e,t,n){},r.prototype.mergeOption=function(e,t){W(this.option,e,!0)},r.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},r.prototype.getShallow=function(e,t){var n=this.option,a=n==null?n:n[e];if(a==null&&!t){var i=this.parentModel;i&&(a=i.getShallow(e))}return a},r.prototype.getModel=function(e,t){var n=e!=null,a=n?this.parsePath(e):null,i=n?this._doGet(a):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new r(i,t,this.ecModel)},r.prototype.isEmpty=function(){return this.option==null},r.prototype.restoreData=function(){},r.prototype.clone=function(){var e=this.constructor;return new e(V(this.option))},r.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},r.prototype.resolveParentPath=function(e){return e},r.prototype.isAnimationEnabled=function(){if(!ge.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},r.prototype._doGet=function(e,t){var n=this.option;if(!e)return n;for(var a=0;a<e.length&&!(e[a]&&(n=n&&typeof n=="object"?n[e[a]]:null,n==null));a++);return n==null&&t&&(n=t._doGet(this.resolveParentPath(e),t.parentModel)),n},r}();Fr(oe);bo(oe);Oe(oe,$o);Oe(oe,Jo);Oe(oe,Io);Oe(oe,qo);var es=Math.round(Math.random()*10);function qt(r){return[r||"",es++].join("_")}function ts(r){var e={};r.registerSubTypeDefaulter=function(t,n){var a=ce(t);e[a.main]=n},r.determineSubType=function(t,n){var a=n.type;if(!a){var i=ce(t).main;r.hasSubTypes(t)&&e[i]&&(a=e[i](n))}return a}}function rs(r,e){r.topologicalTravel=function(i,o,s,u){if(!i.length)return;var h=t(o),v=h.graph,l=h.noEntryList,c={};for(S(i,function(m){c[m]=!0});l.length;){var f=l.pop(),d=v[f],p=!!c[f];p&&(s.call(u,f,d.originalDeps.slice()),delete c[f]),S(d.successor,p?y:g)}S(c,function(){var m="";throw m=_r("Circular dependency may exists: ",c,i,o),new Error(m)});function g(m){v[m].entryCount--,v[m].entryCount===0&&l.push(m)}function y(m){c[m]=!0,g(m)}};function t(i){var o={},s=[];return S(i,function(u){var h=n(o,u),v=h.originalDeps=e(u),l=a(v,i);h.entryCount=l.length,h.entryCount===0&&s.push(u),S(l,function(c){me(h.predecessor,c)<0&&h.predecessor.push(c);var f=n(o,c);me(f.successor,c)<0&&f.successor.push(u)})}),{graph:o,noEntryList:s}}function n(i,o){return i[o]||(i[o]={predecessor:[],successor:[]}),i[o]}function a(i,o){var s=[];return S(i,function(u){me(o,u)>=0&&s.push(u)}),s}}const ns={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},as={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var Nt="ZH",Yr="EN",lt=Yr,kt={},is=ge.domSupported?function(){var r=(document.documentElement.lang||navigator.language||navigator.browserLanguage||lt).toUpperCase();return r.indexOf(Nt)>-1?Nt:lt}():lt;function Wa(r,e){r=r.toUpperCase(),kt[r]=e}function os(r){if(F(r)){var e=kt[r.toUpperCase()]||{};return r===Nt||r===Yr?V(e):W(V(e),V(kt[lt]),!1)}else return W(V(r),V(kt[lt]),!1)}Wa(Yr,ns);Wa(Nt,as);var Tn=["a","b","c","d","e","f","g"],nr=function(r,e){return"{"+r+(e??"")+"}"};function ss(r,e,t){k(e)||(e=[e]);var n=e.length;if(!n)return"";for(var a=e[0].$vars||[],i=0;i<a.length;i++){var o=Tn[i];r=r.replace(nr(o),nr(o,0))}for(var s=0;s<n;s++)for(var u=0;u<a.length;u++){var h=e[s][a[u]];r=r.replace(nr(Tn[u],s),h)}return r}function us(r,e){return e=e||"transparent",F(r)?r:R(r)&&r.colorStops&&(r.colorStops[0]||{}).color||e}var Pt=S,ls=["left","right","top","bottom","width","height"],Ct=[["width","left","right"],["height","top","bottom"]];function Ya(r,e,t,n,a){var i=0,o=0;n==null&&(n=1/0),a==null&&(a=1/0);var s=0;e.eachChild(function(u,h){var v=u.getBoundingRect(),l=e.childAt(h+1),c=l&&l.getBoundingRect(),f,d;if(r==="horizontal"){var p=v.width+(c?-c.x+v.x:0);f=i+p,f>n||u.newline?(i=0,f=p,o+=s+t,s=v.height):s=Math.max(s,v.height)}else{var g=v.height+(c?-c.y+v.y:0);d=o+g,d>a||u.newline?(i+=s+t,o=0,d=g,s=v.width):s=Math.max(s,v.width)}u.newline||(u.x=i,u.y=o,u.markRedraw(),r==="horizontal"?i=f+t:o=d+t)})}Br(Ya,"vertical");Br(Ya,"horizontal");function Vt(r){var e=r.layoutMode||r.constructor.layoutMode;return R(e)?e:e?{type:e}:null}function Ft(r,e,t){var n=t&&t.ignoreSize;!k(n)&&(n=[n,n]);var a=o(Ct[0],0),i=o(Ct[1],1);h(Ct[0],r,a),h(Ct[1],r,i);function o(v,l){var c={},f=0,d={},p=0,g=2;if(Pt(v,function(_){d[_]=r[_]}),Pt(v,function(_){s(e,_)&&(c[_]=d[_]=e[_]),u(c,_)&&f++,u(d,_)&&p++}),n[l])return u(e,v[1])?d[v[2]]=null:u(e,v[2])&&(d[v[1]]=null),d;if(p===g||!f)return d;if(f>=g)return c;for(var y=0;y<v.length;y++){var m=v[y];if(!s(c,m)&&s(r,m)){c[m]=r[m];break}}return c}function s(v,l){return v.hasOwnProperty(l)}function u(v,l){return v[l]!=null&&v[l]!=="auto"}function h(v,l,c){Pt(v,function(f){l[f]=c[f]})}}function Ka(r){return fs({},r)}function fs(r,e){return e&&r&&Pt(ls,function(t){e.hasOwnProperty(t)&&(r[t]=e[t])}),r}var cs=te(),B=function(r){Ve(e,r);function e(t,n,a){var i=r.call(this,t,n,a)||this;return i.uid=qt("ec_cpt_model"),i}return e.prototype.init=function(t,n,a){this.mergeDefaultAndTheme(t,a)},e.prototype.mergeDefaultAndTheme=function(t,n){var a=Vt(this),i=a?Ka(t):{},o=n.getTheme();W(t,o.get(this.mainType)),W(t,this.getDefaultOption()),a&&Ft(t,i,a)},e.prototype.mergeOption=function(t,n){W(this.option,t,!0);var a=Vt(this);a&&Ft(this.option,t,a)},e.prototype.optionUpdated=function(t,n){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Co(t))return t.defaultOption;var n=cs(this);if(!n.defaultOption){for(var a=[],i=t;i;){var o=i.prototype.defaultOption;o&&a.push(o),i=i.superClass}for(var s={},u=a.length-1;u>=0;u--)s=W(s,a[u],!0);n.defaultOption=s}return n.defaultOption},e.prototype.getReferringComponents=function(t,n){var a=t+"Index",i=t+"Id";return Xt(this.ecModel,t,{index:this.get(a,!0),id:this.get(i,!0)},n)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(oe);Ra(B,oe);Or(B);ts(B);rs(B,hs);function hs(r){var e=[];return S(B.getClassesByMainType(r),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=O(e,function(t){return ce(t).main}),r!=="dataset"&&me(e,"dataset")<=0&&e.unshift("dataset"),e}var Xa="";typeof navigator<"u"&&(Xa=navigator.platform||"");var ze="rgba(0, 0, 0, 0.2)";const vs={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ze,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ze,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ze,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ze,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ze,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ze,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Xa.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};I(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]);var we="original",j="arrayRows",de="objectRows",Ce="keyedColumns",xe="typedArray",Za="unknown",Se="column",qe="row",ae={Must:1,Might:2,Not:3},ds=te();function ps(r){ds(r).datasetMap=I()}function gs(r){var e=r.get("data",!0);if(!e)return Xt(r.ecModel,"dataset",{index:r.get("datasetIndex",!0),id:r.get("datasetId",!0)},Vr).models[0]}function ys(r){return!r.get("transform",!0)&&!r.get("fromTransformResult",!0)?[]:Xt(r.ecModel,"dataset",{index:r.get("fromDatasetIndex",!0),id:r.get("fromDatasetId",!0)},Vr).models}function ms(r,e){return _s(r.data,r.sourceFormat,r.seriesLayoutBy,r.dimensionsDefine,r.startIndex,e)}function _s(r,e,t,n,a,i){var o,s=5;if(Z(r))return ae.Not;var u,h;if(n){var v=n[i];R(v)?(u=v.name,h=v.type):F(v)&&(u=v)}if(h!=null)return h==="ordinal"?ae.Must:ae.Not;if(e===j){var l=r;if(t===qe){for(var c=l[i],f=0;f<(c||[]).length&&f<s;f++)if((o=w(c[a+f]))!=null)return o}else for(var f=0;f<l.length&&f<s;f++){var d=l[a+f];if(d&&(o=w(d[i]))!=null)return o}}else if(e===de){var p=r;if(!u)return ae.Not;for(var f=0;f<p.length&&f<s;f++){var g=p[f];if(g&&(o=w(g[u]))!=null)return o}}else if(e===Ce){var y=r;if(!u)return ae.Not;var c=y[u];if(!c||Z(c))return ae.Not;for(var f=0;f<c.length&&f<s;f++)if((o=w(c[f]))!=null)return o}else if(e===we)for(var m=r,f=0;f<m.length&&f<s;f++){var g=m[f],_=Yt(g);if(!k(_))return ae.Not;if((o=w(_[i]))!=null)return o}function w(C){var T=F(C);if(C!=null&&Number.isFinite(Number(C))&&C!=="")return T?ae.Might:ae.Not;if(T&&C!=="-")return ae.Must}return ae.Not}var Ss=I();function ws(r,e,t){var n=Ss.get(e);if(!n)return t;var a=n(r);if(!a)return t;for(var i=0;i<a.length;i++)M(Ye(a[i]));return t.concat(a)}var Dn=te();te();var Kr=function(){function r(){}return r.prototype.getColorFromPalette=function(e,t,n){var a=ee(this.get("color",!0)),i=this.get("colorLayer",!0);return Ts(this,Dn,a,i,e,t,n)},r.prototype.clearColorPalette=function(){Ds(this,Dn)},r}();function Cs(r,e){for(var t=r.length,n=0;n<t;n++)if(r[n].length>e)return r[n];return r[t-1]}function Ts(r,e,t,n,a,i,o){i=i||r;var s=e(i),u=s.paletteIdx||0,h=s.paletteNameMap=s.paletteNameMap||{};if(h.hasOwnProperty(a))return h[a];var v=o==null||!n?t:Cs(n,o);if(v=v||t,!(!v||!v.length)){var l=v[u];return a&&(h[a]=l),s.paletteIdx=(u+1)%v.length,l}}function Ds(r,e){e(r).paletteIdx=0,e(r).paletteNameMap={}}var Tt,Je,bn,ar="\0_ec_inner",Mn=1,bs={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},Ms={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},Ot={};function xs(r){S(r,function(e,t){if(!B.hasClass(t)){var n=bs[t];n&&!Ot[n]&&(q("Component "+t+` is used but not imported.
import { `+n+` } from 'echarts/components';
echarts.use([`+n+"]);"),Ot[n]=!0)}})}var Xr=function(r){Ve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(t,n,a,i,o,s){i=i||{},this.option=null,this._theme=new oe(i),this._locale=new oe(o),this._optionManager=s},e.prototype.setOption=function(t,n,a){M(t!=null,"option is null/undefined"),M(t[ar]!==Mn,"please use chart.getOption()");var i=En(n);this._optionManager.setOption(t,a,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,n){return this._resetOption(t,En(n))},e.prototype._resetOption=function(t,n){var a=!1,i=this._optionManager;if(!t||t==="recreate"){var o=i.mountOption(t==="recreate");xs(o),!this.option||t==="recreate"?bn(this,o):(this.restoreData(),this._mergeOption(o,n)),a=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var s=i.getTimelineOption(this);s&&(a=!0,this._mergeOption(s,n))}if(!t||t==="recreate"||t==="media"){var u=i.getMediaOption(this);u.length&&S(u,function(h){a=!0,this._mergeOption(h,n)},this)}return a},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,n){var a=this.option,i=this._componentsMap,o=this._componentsCount,s=[],u=I(),h=n&&n.replaceMergeMainTypeMap;ps(this),S(t,function(l,c){l!=null&&(B.hasClass(c)?c&&(s.push(c),u.set(c,!0)):a[c]=a[c]==null?V(l):W(a[c],l,!0))}),h&&h.each(function(l,c){B.hasClass(c)&&!u.get(c)&&(s.push(c),u.set(c,!0))}),B.topologicalTravel(s,B.getAllClassMainTypes(),v,this);function v(l){var c=ws(this,l,ee(t[l])),f=i.get(l),d=f?h&&h.get(l)?"replaceMerge":"normalMerge":"replaceAll",p=uo(f,c,d);go(p,l,B),a[l]=null,i.set(l,null),o.set(l,0);var g=[],y=[],m=0,_,w;S(p,function(C,T){var D=C.existing,x=C.newOption;if(!x)D&&(D.mergeOption({},this),D.optionUpdated({},!1));else{var b=l==="series",E=B.getClass(l,C.keyInfo.subType,!b);if(!E){{var A=C.keyInfo.subType,L=Ms[A];Ot[A]||(Ot[A]=!0,q(L?"Series "+A+` is used but not imported.
import { `+L+` } from 'echarts/charts';
echarts.use([`+L+"]);":"Unknown series "+A))}return}if(l==="tooltip"){if(_){w||(se("Currently only one tooltip component is allowed."),w=!0);return}_=!0}if(D&&D.constructor===E)D.name=C.keyInfo.name,D.mergeOption(x,this),D.optionUpdated(x,!1);else{var $=H({componentIndex:T},C.keyInfo);D=new E(x,this,this,$),H(D,$),C.brandNew&&(D.__requireNewView=!0),D.init(x,this,this),D.optionUpdated(null,!0)}}D?(g.push(D.option),y.push(D),m++):(g.push(void 0),y.push(void 0))},this),a[l]=g,i.set(l,y),o.set(l,m),l==="series"&&Tt(this)}this._seriesIndices||Tt(this)},e.prototype.getOption=function(){var t=V(this.option);return S(t,function(n,a){if(B.hasClass(a)){for(var i=ee(n),o=i.length,s=!1,u=o-1;u>=0;u--)i[u]&&!Ye(i[u])?s=!0:(i[u]=null,!s&&o--);i.length=o,t[a]=i}}),delete t[ar],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,n){var a=this._componentsMap.get(t);if(a){var i=a[n||0];if(i)return i;if(n==null){for(var o=0;o<a.length;o++)if(a[o])return a[o]}}},e.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var a=t.index,i=t.id,o=t.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var u;return a!=null?(u=[],S(ee(a),function(h){s[h]&&u.push(s[h])})):i!=null?u=xn("id",i,s):o!=null?u=xn("name",o,s):u=ye(s,function(h){return!!h}),An(u,t)},e.prototype.findComponents=function(t){var n=t.query,a=t.mainType,i=s(n),o=i?this.queryComponents(i):ye(this._componentsMap.get(a),function(h){return!!h});return u(An(o,t));function s(h){var v=a+"Index",l=a+"Id",c=a+"Name";return h&&(h[v]!=null||h[l]!=null||h[c]!=null)?{mainType:a,index:h[v],id:h[l],name:h[c]}:null}function u(h){return t.filter?ye(h,t.filter):h}},e.prototype.eachComponent=function(t,n,a){var i=this._componentsMap;if(J(t)){var o=n,s=t;i.each(function(l,c){for(var f=0;l&&f<l.length;f++){var d=l[f];d&&s.call(o,c,d,d.componentIndex)}})}else for(var u=F(t)?i.get(t):R(t)?this.findComponents(t):null,h=0;u&&h<u.length;h++){var v=u[h];v&&n.call(a,v,v.componentIndex)}},e.prototype.getSeriesByName=function(t){var n=Fe(t,null);return ye(this._componentsMap.get("series"),function(a){return!!a&&n!=null&&a.name===n})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return ye(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},e.prototype.getSeries=function(){return ye(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,n){Je(this),S(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];t.call(n,i,a)},this)},e.prototype.eachRawSeries=function(t,n){S(this._componentsMap.get("series"),function(a){a&&t.call(n,a,a.componentIndex)})},e.prototype.eachSeriesByType=function(t,n,a){Je(this),S(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];o.subType===t&&n.call(a,o,i)},this)},e.prototype.eachRawSeriesByType=function(t,n,a){return S(this.getSeriesByType(t),n,a)},e.prototype.isSeriesFiltered=function(t){return Je(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,n){Je(this);var a=[];S(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];t.call(n,o,i)&&a.push(i)},this),this._seriesIndices=a,this._seriesIndicesMap=I(a)},e.prototype.restoreData=function(t){Tt(this);var n=this._componentsMap,a=[];n.each(function(i,o){B.hasClass(o)&&a.push(o)}),B.topologicalTravel(a,B.getAllClassMainTypes(),function(i){S(n.get(i),function(o){o&&(i!=="series"||!As(o,t))&&o.restoreData()})})},e.internalField=function(){Tt=function(t){var n=t._seriesIndices=[];S(t._componentsMap.get("series"),function(a){a&&n.push(a.componentIndex)}),t._seriesIndicesMap=I(n)},Je=function(t){if(!t._seriesIndices)throw new Error("Option should contains series.")},bn=function(t,n){t.option={},t.option[ar]=Mn,t._componentsMap=I({series:[]}),t._componentsCount=I();var a=n.aria;R(a)&&a.enabled==null&&(a.enabled=!0),Es(n,t._theme.option),W(n,vs,!1),t._mergeOption(n,null)}}(),e}(oe);function As(r,e){if(e){var t=e.seriesIndex,n=e.seriesId,a=e.seriesName;return t!=null&&r.componentIndex!==t||n!=null&&r.id!==n||a!=null&&r.name!==a}}function Es(r,e){var t=r.color&&!r.colorLayer;S(e,function(n,a){a==="colorLayer"&&t||B.hasClass(a)||(typeof n=="object"?r[a]=r[a]?W(r[a],n,!1):V(n):r[a]==null&&(r[a]=n))})}function xn(r,e,t){if(k(e)){var n=I();return S(e,function(i){if(i!=null){var o=Fe(i,null);o!=null&&n.set(i,!0)}}),ye(t,function(i){return i&&n.get(i[r])})}else{var a=Fe(e,null);return ye(t,function(i){return i&&a!=null&&i[r]===a})}}function An(r,e){return e.hasOwnProperty("subType")?ye(r,function(t){return t&&t.subType===e.subType}):r}function En(r){var e=I();return r&&S(ee(r.replaceMerge),function(t){M(B.hasClass(t),'"'+t+'" is not valid component main type in "replaceMerge"'),e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Oe(Xr,Kr);var Is=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],qa=function(){function r(e){S(Is,function(t){this[t]=fe(e[t],e)},this)}return r}(),ir={},Rs=function(){function r(){this._coordinateSystems=[]}return r.prototype.create=function(e,t){var n=[];S(ir,function(a,i){var o=a.create(e,t);n=n.concat(o||[])}),this._coordinateSystems=n},r.prototype.update=function(e,t){S(this._coordinateSystems,function(n){n.update&&n.update(e,t)})},r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},r.register=function(e,t){ir[e]=t},r.get=function(e){return ir[e]},r}(),ks=/^(min|max)?(.+)$/,Ps=function(){function r(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return r.prototype.setOption=function(e,t,n){e&&(S(ee(e.series),function(o){o&&o.data&&Z(o.data)&&mr(o.data)}),S(ee(e.dataset),function(o){o&&o.source&&Z(o.source)&&mr(o.source)})),e=V(e);var a=this._optionBackup,i=Ls(e,t,!a);this._newBaseOption=i.baseOption,a?(i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},r.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],V(e?t.baseOption:this._newBaseOption)},r.prototype.getTimelineOption=function(e){var t,n=this._timelineOptions;if(n.length){var a=e.getComponent("timeline");a&&(t=V(n[a.getCurrentIndex()]))}return t},r.prototype.getMediaOption=function(e){var t=this._api.getWidth(),n=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,o=[],s=[];if(!a.length&&!i)return s;for(var u=0,h=a.length;u<h;u++)Bs(a[u].query,t,n)&&o.push(u);return!o.length&&i&&(o=[-1]),o.length&&!Vs(o,this._currentMediaIndices)&&(s=O(o,function(v){return V(v===-1?i.option:a[v].option)})),this._currentMediaIndices=o,s},r}();function Ls(r,e,t){var n=[],a,i,o=r.baseOption,s=r.timeline,u=r.options,h=r.media,v=!!r.media,l=!!(u||s||o&&o.timeline);o?(i=o,i.timeline||(i.timeline=s)):((l||v)&&(r.options=r.media=null),i=r),v&&(k(h)?S(h,function(f){f&&!f.option&&R(f.query)&&R(f.query.option)&&q("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),f&&f.option&&(f.query?n.push(f):a||(a=f))}):q("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),c(i),S(u,function(f){return c(f)}),S(n,function(f){return c(f.option)});function c(f){S(e,function(d){d(f,t)})}return{baseOption:i,timelineOptions:u||[],mediaDefault:a,mediaList:n}}function Bs(r,e,t){var n={width:e,height:t,aspectratio:e/t},a=!0;return S(r,function(i,o){var s=o.match(ks);if(!(!s||!s[1]||!s[2])){var u=s[1],h=s[2].toLowerCase();Ns(n[h],i,u)||(a=!1)}}),a}function Ns(r,e,t){return t==="min"?r>=e:t==="max"?r<=e:r===e}function Vs(r,e){return r.join(",")===e.join(",")}var re=S,pt=R,In=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function or(r){var e=r&&r.itemStyle;if(e)for(var t=0,n=In.length;t<n;t++){var a=In[t],i=e.normal,o=e.emphasis;i&&i[a]&&(X("itemStyle.normal."+a,a),r[a]=r[a]||{},r[a].normal?W(r[a].normal,i[a]):r[a].normal=i[a],i[a]=null),o&&o[a]&&(X("itemStyle.emphasis."+a,"emphasis."+a),r[a]=r[a]||{},r[a].emphasis?W(r[a].emphasis,o[a]):r[a].emphasis=o[a],o[a]=null)}}function G(r,e,t){if(r&&r[e]&&(r[e].normal||r[e].emphasis)){var n=r[e].normal,a=r[e].emphasis;n&&(he("'normal' hierarchy in "+e+" has been removed since 4.0. All style properties are configured in "+e+" directly now."),t?(r[e].normal=r[e].emphasis=null,_t(r[e],n)):r[e]=n),a&&(he(e+".emphasis has been changed to emphasis."+e+" since 4.0"),r.emphasis=r.emphasis||{},r.emphasis[e]=a,a.focus&&(r.emphasis.focus=a.focus),a.blurScope&&(r.emphasis.blurScope=a.blurScope))}}function it(r){G(r,"itemStyle"),G(r,"lineStyle"),G(r,"areaStyle"),G(r,"label"),G(r,"labelLine"),G(r,"upperLabel"),G(r,"edgeLabel")}function N(r,e){var t=pt(r)&&r[e],n=pt(t)&&t.textStyle;if(n){he("textStyle hierarchy in "+e+" has been removed since 4.0. All textStyle properties are configured in "+e+" directly now.");for(var a=0,i=hn.length;a<i;a++){var o=hn[a];n.hasOwnProperty(o)&&(t[o]=n[o])}}}function ie(r){r&&(it(r),N(r,"label"),r.emphasis&&N(r.emphasis,"label"))}function Fs(r){if(pt(r)){or(r),it(r),N(r,"label"),N(r,"upperLabel"),N(r,"edgeLabel"),r.emphasis&&(N(r.emphasis,"label"),N(r.emphasis,"upperLabel"),N(r.emphasis,"edgeLabel"));var e=r.markPoint;e&&(or(e),ie(e));var t=r.markLine;t&&(or(t),ie(t));var n=r.markArea;n&&ie(n);var a=r.data;if(r.type==="graph"){a=a||r.nodes;var i=r.links||r.edges;if(i&&!Z(i))for(var o=0;o<i.length;o++)ie(i[o]);S(r.categories,function(h){it(h)})}if(a&&!Z(a))for(var o=0;o<a.length;o++)ie(a[o]);if(e=r.markPoint,e&&e.data)for(var s=e.data,o=0;o<s.length;o++)ie(s[o]);if(t=r.markLine,t&&t.data)for(var u=t.data,o=0;o<u.length;o++)k(u[o])?(ie(u[o][0]),ie(u[o][1])):ie(u[o]);r.type==="gauge"?(N(r,"axisLabel"),N(r,"title"),N(r,"detail")):r.type==="treemap"?(G(r.breadcrumb,"itemStyle"),S(r.levels,function(h){it(h)})):r.type==="tree"&&it(r.leaves)}}function pe(r){return k(r)?r:r?[r]:[]}function Rn(r){return(k(r)?r[0]:r)||{}}function Os(r,e){re(pe(r.series),function(n){pt(n)&&Fs(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),re(t,function(n){re(pe(r[n]),function(a){a&&(N(a,"axisLabel"),N(a.axisPointer,"label"))})}),re(pe(r.parallel),function(n){var a=n&&n.parallelAxisDefault;N(a,"axisLabel"),N(a&&a.axisPointer,"label")}),re(pe(r.calendar),function(n){G(n,"itemStyle"),N(n,"dayLabel"),N(n,"monthLabel"),N(n,"yearLabel")}),re(pe(r.radar),function(n){N(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name,he("name property in radar component has been changed to axisName")),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap,he("nameGap property in radar component has been changed to axisNameGap")),re(n.indicator,function(a){a.text&&X("text","name","radar.indicator")})}),re(pe(r.geo),function(n){pt(n)&&(ie(n),re(pe(n.regions),function(a){ie(a)}))}),re(pe(r.timeline),function(n){ie(n),G(n,"label"),G(n,"itemStyle"),G(n,"controlStyle",!0);var a=n.data;k(a)&&S(a,function(i){R(i)&&(G(i,"label"),G(i,"itemStyle"))})}),re(pe(r.toolbox),function(n){G(n,"iconStyle"),re(n.feature,function(a){G(a,"iconStyle")})}),N(Rn(r.axisPointer),"label"),N(Rn(r.tooltip).axisPointer,"label")}function zs(r,e){for(var t=e.split(","),n=r,a=0;a<t.length&&(n=n&&n[t[a]],n!=null);a++);return n}function Us(r,e,t,n){for(var a=e.split(","),i=r,o,s=0;s<a.length-1;s++)o=a[s],i[o]==null&&(i[o]={}),i=i[o];i[a[s]]==null&&(i[a[s]]=t)}function kn(r){r&&S(Gs,function(e){e[0]in r&&!(e[1]in r)&&(r[e[1]]=r[e[0]])})}var Gs=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Hs=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sr=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function et(r){var e=r&&r.itemStyle;if(e)for(var t=0;t<sr.length;t++){var n=sr[t][1],a=sr[t][0];e[n]!=null&&(e[a]=e[n],X(n,a))}}function Pn(r){r&&r.alignTo==="edge"&&r.margin!=null&&r.edgeDistance==null&&(X("label.margin","label.edgeDistance","pie"),r.edgeDistance=r.margin)}function Ln(r){r&&r.downplay&&!r.blur&&(r.blur=r.downplay,X("downplay","blur","sunburst"))}function Ws(r){r&&r.focusNodeAdjacency!=null&&(r.emphasis=r.emphasis||{},r.emphasis.focus==null&&(X("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),r.emphasis.focus="adjacency"))}function ja(r,e){if(r)for(var t=0;t<r.length;t++)e(r[t]),r[t]&&ja(r[t].children,e)}function $a(r,e){Os(r,e),r.series=ee(r.series),S(r.series,function(t){if(R(t)){var n=t.type;if(n==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow,X("clipOverflow","clip","line"));else if(n==="pie"||n==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise,X("clockWise","clockwise")),Pn(t.label);var a=t.data;if(a&&!Z(a))for(var i=0;i<a.length;i++)Pn(a[i]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(X("hoverOffset","emphasis.scaleSize"),t.emphasis.scaleSize=t.hoverOffset))}else if(n==="gauge"){var o=zs(t,"pointer.color");o!=null&&Us(t,"itemStyle.color",o)}else if(n==="bar"){et(t),et(t.backgroundStyle),et(t.emphasis);var a=t.data;if(a&&!Z(a))for(var i=0;i<a.length;i++)typeof a[i]=="object"&&(et(a[i]),et(a[i]&&a[i].emphasis))}else if(n==="sunburst"){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s,X("highlightPolicy","emphasis.focus","sunburst"))),Ln(t),ja(t.data,Ln)}else n==="graph"||n==="sankey"?Ws(t):n==="map"&&(t.mapType&&!t.map&&(X("mapType","map","map"),t.map=t.mapType),t.mapLocation&&(he("`mapLocation` is not used anymore."),_t(t,t.mapLocation)));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(X("hoverAnimation","emphasis.scale"),t.emphasis.scale=t.hoverAnimation)),kn(t)}}),r.dataRange&&(r.visualMap=r.dataRange),S(Hs,function(t){var n=r[t];n&&(k(n)||(n=[n]),S(n,function(a){kn(a)}))})}function Ys(r){var e=I();r.eachSeries(function(t){var n=t.get("stack");if(n){var a=e.get(n)||e.set(n,[]),i=t.getData(),o={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(o)}}),e.each(Ks)}function Ks(r){S(r,function(e,t){var n=[],a=[NaN,NaN],i=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";o.modify(i,function(h,v,l){var c=o.get(e.stackedDimension,l);if(isNaN(c))return a;var f,d;s?d=o.getRawIndex(l):f=o.get(e.stackedByDimension,l);for(var p=NaN,g=t-1;g>=0;g--){var y=r[g];if(s||(d=y.data.rawIndexOf(y.stackedByDimension,f)),d>=0){var m=y.data.getByRawIndex(y.stackResultDimension,d);if(u==="all"||u==="positive"&&m>0||u==="negative"&&m<0||u==="samesign"&&c>=0&&m>0||u==="samesign"&&c<=0&&m<0){c=eo(c,m),p=m;break}}}return n[0]=c,n[1]=p,n})})}var jt=function(){function r(e){this.data=e.data||(e.sourceFormat===Ce?{}:[]),this.sourceFormat=e.sourceFormat||Za,this.seriesLayoutBy=e.seriesLayoutBy||Se,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var a=t[n];a.type==null&&ms(this,n)===ae.Must&&(a.type="ordinal")}}return r}();function Xs(r){return r instanceof jt}function br(r,e,t){t=t||Qa(r);var n=e.seriesLayoutBy,a=js(r,t,n,e.sourceHeader,e.dimensions),i=new jt({data:r,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:V(e)});return i}function Zs(r){return new jt({data:r,sourceFormat:Z(r)?xe:we})}function qs(r){return new jt({data:r.data,sourceFormat:r.sourceFormat,seriesLayoutBy:r.seriesLayoutBy,dimensionsDefine:V(r.dimensionsDefine),startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount})}function Qa(r){var e=Za;if(Z(r))e=xe;else if(k(r)){r.length===0&&(e=j);for(var t=0,n=r.length;t<n;t++){var a=r[t];if(a!=null){if(k(a)||Z(a)){e=j;break}else if(R(a)){e=de;break}}}}else if(R(r)){for(var i in r)if(Bt(r,i)&&da(r[i])){e=Ce;break}}return e}function js(r,e,t,n,a){var i,o;if(!r)return{dimensionsDefine:Bn(a),startIndex:o,dimensionsDetectedCount:i};if(e===j){var s=r;n==="auto"||n==null?Nn(function(h){h!=null&&h!=="-"&&(F(h)?o==null&&(o=1):o=0)},t,s,10):o=_e(n)?n:n?1:0,!a&&o===1&&(a=[],Nn(function(h,v){a[v]=h!=null?h+"":""},t,s,1/0)),i=a?a.length:t===qe?s.length:s[0]?s[0].length:null}else if(e===de)a||(a=$s(r));else if(e===Ce)a||(a=[],S(r,function(h,v){a.push(v)}));else if(e===we){var u=Yt(r[0]);i=k(u)&&u.length||1}else e===xe&&M(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:o,dimensionsDefine:Bn(a),dimensionsDetectedCount:i}}function $s(r){for(var e=0,t;e<r.length&&!(t=r[e++]););if(t)return mt(t)}function Bn(r){if(r){var e=I();return O(r,function(t,n){t=R(t)?t:{name:t};var a={name:t.name,displayName:t.displayName,type:t.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var i=e.get(a.name);return i?a.name+="-"+i.count++:e.set(a.name,{count:1}),a})}}function Nn(r,e,t,n){if(e===qe)for(var a=0;a<t.length&&a<n;a++)r(t[a]?t[a][0]:null,a);else for(var i=t[0]||[],a=0;a<i.length&&a<n;a++)r(i[a],a)}function Qs(r){var e=r.sourceFormat;return e===de||e===Ce}var Re,ke,Pe,Vn,Fn,Js=function(){function r(e,t){var n=Xs(e)?e:Zs(e);this._source=n;var a=this._data=n.data;if(n.sourceFormat===xe){if(t==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=t,this._data=a}Fn(this,a,n)}return r.prototype.getSource=function(){return this._source},r.prototype.count=function(){return 0},r.prototype.getItem=function(e,t){},r.prototype.appendData=function(e){},r.prototype.clean=function(){},r.protoInitialize=function(){var e=r.prototype;e.pure=!1,e.persistent=!0}(),r.internalField=function(){var e;Fn=function(o,s,u){var h=u.sourceFormat,v=u.seriesLayoutBy,l=u.startIndex,c=u.dimensionsDefine,f=Vn[Zr(h,v)];if(M(f,"Invalide sourceFormat: "+h),H(o,f),h===xe)o.getItem=t,o.count=a,o.fillStorage=n;else{var d=Ja(h,v);o.getItem=fe(d,null,s,l,c);var p=ei(h,v);o.count=fe(p,null,s,l,c)}};var t=function(o,s){o=o-this._offset,s=s||[];for(var u=this._data,h=this._dimSize,v=h*o,l=0;l<h;l++)s[l]=u[v+l];return s},n=function(o,s,u,h){for(var v=this._data,l=this._dimSize,c=0;c<l;c++){for(var f=h[c],d=f[0]==null?1/0:f[0],p=f[1]==null?-1/0:f[1],g=s-o,y=u[c],m=0;m<g;m++){var _=v[m*l+c];y[o+m]=_,_<d&&(d=_),_>p&&(p=_)}f[0]=d,f[1]=p}},a=function(){return this._data?this._data.length/this._dimSize:0};Vn=(e={},e[j+"_"+Se]={pure:!0,appendData:i},e[j+"_"+qe]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[de]={pure:!0,appendData:i},e[Ce]={pure:!0,appendData:function(o){var s=this._data;S(o,function(u,h){for(var v=s[h]||(s[h]=[]),l=0;l<(u||[]).length;l++)v.push(u[l])})}},e[we]={appendData:i},e[xe]={persistent:!1,pure:!0,appendData:function(o){M(Z(o),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},e);function i(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),r}(),On=function(r,e,t,n){return r[n]},eu=(Re={},Re[j+"_"+Se]=function(r,e,t,n){return r[n+e]},Re[j+"_"+qe]=function(r,e,t,n,a){n+=e;for(var i=a||[],o=r,s=0;s<o.length;s++){var u=o[s];i[s]=u?u[n]:null}return i},Re[de]=On,Re[Ce]=function(r,e,t,n,a){for(var i=a||[],o=0;o<t.length;o++){var s=t[o].name;if(s==null)throw new Error;var u=r[s];i[o]=u?u[n]:null}return i},Re[we]=On,Re);function Ja(r,e){var t=eu[Zr(r,e)];return M(t,'Do not support get item on "'+r+'", "'+e+'".'),t}var zn=function(r,e,t){return r.length},tu=(ke={},ke[j+"_"+Se]=function(r,e,t){return Math.max(0,r.length-e)},ke[j+"_"+qe]=function(r,e,t){var n=r[0];return n?Math.max(0,n.length-e):0},ke[de]=zn,ke[Ce]=function(r,e,t){var n=t[0].name;if(n==null)throw new Error;var a=r[n];return a?a.length:0},ke[we]=zn,ke);function ei(r,e){var t=tu[Zr(r,e)];return M(t,'Do not support count on "'+r+'", "'+e+'".'),t}var ur=function(r,e,t){return r[e]},ru=(Pe={},Pe[j]=ur,Pe[de]=function(r,e,t){return r[t]},Pe[Ce]=ur,Pe[we]=function(r,e,t){var n=Yt(r);return n instanceof Array?n[e]:n},Pe[xe]=ur,Pe);function ti(r){var e=ru[r];return M(e,'Do not support get value on "'+r+'".'),e}function Zr(r,e){return r===j?r+"_"+e:r}function zt(r,e,t){if(r){var n=r.getRawDataItem(e);if(n!=null){var a=r.getStore(),i=a.getSource().sourceFormat;if(t!=null){var o=r.getDimensionIndex(t),s=a.getDimensionProperty(o);return ti(i)(n,o,s)}else{var u=n;return i===we&&(u=Yt(n)),u}}}}var nu=/\{@(.+?)\}/g,au=function(){function r(){}return r.prototype.getDataParams=function(e,t){var n=this.getData(t),a=this.getRawValue(e,t),i=n.getRawIndex(e),o=n.getName(e),s=n.getRawDataItem(e),u=n.getItemVisual(e,"style"),h=u&&u[n.getItemVisual(e,"drawType")||"fill"],v=u&&u.stroke,l=this.mainType,c=l==="series",f=n.userOutput&&n.userOutput.get();return{componentType:l,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:c?this.subType:null,seriesIndex:this.seriesIndex,seriesId:c?this.id:null,seriesName:c?this.name:null,name:o,dataIndex:i,data:s,dataType:t,value:a,color:h,borderColor:v,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},r.prototype.getFormattedLabel=function(e,t,n,a,i,o){t=t||"normal";var s=this.getData(n),u=this.getDataParams(e,n);if(o&&(u.value=o.interpolatedValue),a!=null&&k(u.value)&&(u.value=u.value[a]),!i){var h=s.getItemModel(e);i=h.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(J(i))return u.status=t,u.dimensionIndex=a,i(u);if(F(i)){var v=ss(i,u);return v.replace(nu,function(l,c){var f=c.length,d=c;d.charAt(0)==="["&&d.charAt(f-1)==="]"&&(d=+d.slice(1,f-1),isNaN(d)&&q("Invalide label formatter: @"+c+", only support @[0], @[1], @[2], ..."));var p=zt(s,e,d);if(o&&k(o.interpolatedValue)){var g=s.getDimensionIndex(d);g>=0&&(p=o.interpolatedValue[g])}return p!=null?p+"":""})}},r.prototype.getRawValue=function(e,t){return zt(this.getData(t),e)},r.prototype.formatTooltip=function(e,t,n){},r}();function ft(r){return new iu(r)}var iu=function(){function r(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return r.prototype.perform=function(e){var t=this._upstream,n=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!n&&(i=this._plan(this.context));var o=v(this._modBy),s=this._modDataCount||0,u=v(e&&e.modBy),h=e&&e.modDataCount||0;(o!==u||s!==h)&&(i="reset");function v(m){return!(m>=1)&&(m=1),m}var l;(this._dirty||i==="reset")&&(this._dirty=!1,l=this._doReset(n)),this._modBy=u,this._modDataCount=h;var c=e&&e.step;if(t?(M(t._outputDueEnd!=null),this._dueEnd=t._outputDueEnd):(M(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var f=this._dueIndex,d=Math.min(c!=null?this._dueIndex+c:1/0,this._dueEnd);if(!n&&(l||f<d)){var p=this._progress;if(k(p))for(var g=0;g<p.length;g++)this._doProgress(p[g],f,d,u,h);else this._doProgress(p,f,d,u,h)}this._dueIndex=d;var y=this._settedOutputEnd!=null?this._settedOutputEnd:d;M(y>=this._outputDueEnd),this._outputDueEnd=y}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.prototype._doProgress=function(e,t,n,a,i){Un.reset(t,n,a,i),this._callingProgress=e,this._callingProgress({start:t,end:n,count:n-t,next:Un.next},this.context)},r.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,n;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(n=t.forceFirstProgress,t=t.progress),k(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),n},r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.prototype.pipe=function(e){M(e&&!e._disposed&&e!==this),(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.prototype.getUpstream=function(){return this._upstream},r.prototype.getDownstream=function(){return this._downstream},r.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},r}(),Un=function(){var r,e,t,n,a,i={reset:function(u,h,v,l){e=u,r=h,t=v,n=l,a=Math.ceil(n/t),i.next=t>1&&n>0?s:o}};return i;function o(){return e<r?e++:null}function s(){var u=e%a*t+Math.ceil(e/a),h=e>=r?null:u<n?u:e;return e++,h}}();function Lt(r,e){var t=e&&e.type;return t==="ordinal"?r:(t==="time"&&!_e(r)&&r!=null&&r!=="-"&&(r=+Ta(r)),r==null||r===""?NaN:Number(r))}I({number:function(r){return parseFloat(r)},time:function(r){return+Ta(r)},trim:function(r){return F(r)?Lr(r):r}});var ou=function(){function r(){}return r.prototype.getRawData=function(){throw new Error("not supported")},r.prototype.getRawDataItem=function(e){throw new Error("not supported")},r.prototype.cloneRawData=function(){},r.prototype.getDimensionInfo=function(e){},r.prototype.cloneAllDimensionInfo=function(){},r.prototype.count=function(){},r.prototype.retrieveValue=function(e,t){},r.prototype.retrieveValueFromItem=function(e,t){},r.prototype.convertValue=function(e,t){return Lt(e,t)},r}();function su(r,e){var t=new ou,n=r.data,a=t.sourceFormat=r.sourceFormat,i=r.startIndex,o="";r.seriesLayoutBy!==Se&&(o='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',ue(o));var s=[],u={},h=r.dimensionsDefine;if(h)S(h,function(p,g){var y=p.name,m={index:g,name:y,displayName:p.displayName};if(s.push(m),y!=null){var _="";Bt(u,y)&&(_='dimension name "'+y+'" duplicated.',ue(_)),u[y]=m}});else for(var v=0;v<r.dimensionsDetectedCount;v++)s.push({index:v});var l=Ja(a,Se);e.__isBuiltIn&&(t.getRawDataItem=function(p){return l(n,i,s,p)},t.getRawData=fe(uu,null,r)),t.cloneRawData=fe(lu,null,r);var c=ei(a,Se);t.count=fe(c,null,n,i,s);var f=ti(a);t.retrieveValue=function(p,g){var y=l(n,i,s,p);return d(y,g)};var d=t.retrieveValueFromItem=function(p,g){if(p!=null){var y=s[g];if(y)return f(p,g,y.name)}};return t.getDimensionInfo=fe(fu,null,s,u),t.cloneAllDimensionInfo=fe(cu,null,s),t}function uu(r){var e=r.sourceFormat;if(!qr(e)){var t="";t="`getRawData` is not supported in source format "+e,ue(t)}return r.data}function lu(r){var e=r.sourceFormat,t=r.data;if(!qr(e)){var n="";n="`cloneRawData` is not supported in source format "+e,ue(n)}if(e===j){for(var a=[],i=0,o=t.length;i<o;i++)a.push(t[i].slice());return a}else if(e===de){for(var a=[],i=0,o=t.length;i<o;i++)a.push(H({},t[i]));return a}}function fu(r,e,t){if(t!=null){if(_e(t)||!isNaN(t)&&!Bt(e,t))return r[t];if(Bt(e,t))return e[t]}}function cu(r){return V(r)}var hu=I();function vu(r,e,t){var n=ee(r),a=n.length,i="";a||(i="If `transform` declared, it should at least contain one transform.",ue(i));for(var o=0,s=a;o<s;o++){var u=n[o];e=du(u,e,t,a===1?null:o),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function du(r,e,t,n){var a="";e.length||(a="Must have at least one upstream dataset.",ue(a)),R(r)||(a="transform declaration must be an object rather than "+typeof r+".",ue(a));var i=r.type,o=hu.get(i);o||(a='Can not find transform on type "'+i+'".',ue(a));var s=O(e,function(v){return su(v,o)}),u=ee(o.transform({upstream:s[0],upstreamList:s,config:V(r.config)}));if(r.print){var h=O(u,function(v){var l=n!=null?" === pipe index: "+n:"";return["=== dataset index: "+t.datasetIndex+l+" ===","- transform result data:",_r(v.data),"- transform result dimensions:",_r(v.dimensions)].join(`
`)}).join(`
`);oo(h)}return O(u,function(v,l){var c="";R(v)||(c="A transform should not return some empty results.",ue(c)),v.data||(c="Transform result data should be not be null or undefined",ue(c));var f=Qa(v.data);qr(f)||(c="Transform result data should be array rows or object rows.",ue(c));var d,p=e[0];if(p&&l===0&&!v.dimensions){var g=p.startIndex;g&&(v.data=p.data.slice(0,g).concat(v.data)),d={seriesLayoutBy:Se,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:Se,sourceHeader:0,dimensions:v.dimensions};return br(v.data,d,null)})}function qr(r){return r===j||r===de}var $t="undefined",pu=typeof Uint32Array===$t?Array:Uint32Array,gu=typeof Uint16Array===$t?Array:Uint16Array,yu=typeof Int32Array===$t?Array:Int32Array,Gn=typeof Float64Array===$t?Array:Float64Array,ri={float:Gn,int:yu,ordinal:Array,number:Array,time:Gn},lr;function Ue(r){return r>65535?pu:gu}function Ge(){return[1/0,-1/0]}function mu(r){var e=r.constructor;return e===Array?r.slice():new e(r)}function Hn(r,e,t,n,a){var i=ri[t||"float"];if(a){var o=r[e],s=o&&o.length;if(s!==n){for(var u=new i(n),h=0;h<s;h++)u[h]=o[h];r[e]=u}}else r[e]=new i(n)}var _u=function(){function r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=I()}return r.prototype.initData=function(e,t,n){M(J(e.getItem)&&J(e.count),"Invalid data provider."),this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=e.getSource(),i=this.defaultDimValueGetter=lr[a.sourceFormat];this._dimValueGetter=n||i,this._rawExtent=[];var o=Qs(a);this._dimensions=O(t,function(s){return o&&M(s.property!=null),{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},r.prototype.getProvider=function(){return this._provider},r.prototype.getSource=function(){return this._provider.getSource()},r.prototype.ensureCalculationDimension=function(e,t){var n=this._calcDimNameToIdx,a=this._dimensions,i=n.get(e);if(i!=null){if(a[i].type===t)return i}else i=a.length;return a[i]={type:t},n.set(e,i),this._chunks[i]=new ri[t||"float"](this._rawCount),this._rawExtent[i]=Ge(),i},r.prototype.collectOrdinalMeta=function(e,t){var n=this._chunks[e],a=this._dimensions[e],i=this._rawExtent,o=a.ordinalOffset||0,s=n.length;o===0&&(i[e]=Ge());for(var u=i[e],h=o;h<s;h++){var v=n[h]=t.parseAndCollect(n[h]);isNaN(v)||(u[0]=Math.min(v,u[0]),u[1]=Math.max(v,u[1]))}a.ordinalMeta=t,a.ordinalOffset=s,a.type="ordinal"},r.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],n=t.ordinalMeta;return n},r.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},r.prototype.appendData=function(e){M(!this._indices,"appendData can only be called on raw data.");var t=this._provider,n=this.count();t.appendData(e);var a=t.count();return t.persistent||(a+=n),n<a&&this._initDataFromProvider(n,a,!0),[n,a]},r.prototype.appendValues=function(e,t){for(var n=this._chunks,a=this._dimensions,i=a.length,o=this._rawExtent,s=this.count(),u=s+Math.max(e.length,t||0),h=0;h<i;h++){var v=a[h];Hn(n,h,v.type,u,!0)}for(var l=[],c=s;c<u;c++)for(var f=c-s,d=0;d<i;d++){var v=a[d],p=lr.arrayRows.call(this,e[f]||l,v.property,f,d);n[d][c]=p;var g=o[d];p<g[0]&&(g[0]=p),p>g[1]&&(g[1]=p)}return this._rawCount=this._count=u,{start:s,end:u}},r.prototype._initDataFromProvider=function(e,t,n){for(var a=this._provider,i=this._chunks,o=this._dimensions,s=o.length,u=this._rawExtent,h=O(o,function(m){return m.property}),v=0;v<s;v++){var l=o[v];u[v]||(u[v]=Ge()),Hn(i,v,l.type,t,n)}if(a.fillStorage)a.fillStorage(e,t,i,u);else for(var c=[],f=e;f<t;f++){c=a.getItem(f,c);for(var d=0;d<s;d++){var p=i[d],g=this._dimValueGetter(c,h[d],f,d);p[f]=g;var y=u[d];g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=t,this._extent=[]},r.prototype.count=function(){return this._count},r.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[e];return n?n[this.getRawIndex(t)]:NaN},r.prototype.getValues=function(e,t){var n=[],a=[];if(t==null){t=e,e=[];for(var i=0;i<this._dimensions.length;i++)a.push(i)}else a=e;for(var i=0,o=a.length;i<o;i++)n.push(this.get(a[i],t));return n},r.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[e];return n?n[t]:NaN},r.prototype.getSum=function(e){var t=this._chunks[e],n=0;if(t)for(var a=0,i=this.count();a<i;a++){var o=this.get(e,a);isNaN(o)||(n+=o)}return n},r.prototype.getMedian=function(e){var t=[];this.each([e],function(i){isNaN(i)||t.push(i)});var n=t.sort(function(i,o){return i-o}),a=this.count();return a===0?0:a%2===1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},r.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,n=t[e];if(n!=null&&n<this._count&&n===e)return e;for(var a=0,i=this._count-1;a<=i;){var o=(a+i)/2|0;if(t[o]<e)a=o+1;else if(t[o]>e)i=o-1;else return o}return-1},r.prototype.indicesOfNearest=function(e,t,n){var a=this._chunks,i=a[e],o=[];if(!i)return o;n==null&&(n=1/0);for(var s=1/0,u=-1,h=0,v=0,l=this.count();v<l;v++){var c=this.getRawIndex(v),f=t-i[c],d=Math.abs(f);d<=n&&((d<s||d===s&&f>=0&&u<0)&&(s=d,u=f,h=0),f===u&&(o[h++]=v))}return o.length=h,o},r.prototype.getIndices=function(){var e,t=this._indices;if(t){var n=t.constructor,a=this._count;if(n===Array){e=new n(a);for(var i=0;i<a;i++)e[i]=t[i]}else e=new n(t.buffer,0,a)}else{var n=Ue(this._rawCount);e=new n(this.count());for(var i=0;i<e.length;i++)e[i]=i}return e},r.prototype.filter=function(e,t){if(!this._count)return this;for(var n=this.clone(),a=n.count(),i=Ue(n._rawCount),o=new i(a),s=[],u=e.length,h=0,v=e[0],l=n._chunks,c=0;c<a;c++){var f=void 0,d=n.getRawIndex(c);if(u===0)f=t(c);else if(u===1){var p=l[v][d];f=t(p,c)}else{for(var g=0;g<u;g++)s[g]=l[e[g]][d];s[g]=c,f=t.apply(null,s)}f&&(o[h++]=d)}return h<a&&(n._indices=o),n._count=h,n._extent=[],n._updateGetRawIdx(),n},r.prototype.selectRange=function(e){var t=this.clone(),n=t._count;if(!n)return this;var a=mt(e),i=a.length;if(!i)return this;var o=t.count(),s=Ue(t._rawCount),u=new s(o),h=0,v=a[0],l=e[v][0],c=e[v][1],f=t._chunks,d=!1;if(!t._indices){var p=0;if(i===1){for(var g=f[a[0]],y=0;y<n;y++){var m=g[y];(m>=l&&m<=c||isNaN(m))&&(u[h++]=p),p++}d=!0}else if(i===2){for(var g=f[a[0]],_=f[a[1]],w=e[a[1]][0],C=e[a[1]][1],y=0;y<n;y++){var m=g[y],T=_[y];(m>=l&&m<=c||isNaN(m))&&(T>=w&&T<=C||isNaN(T))&&(u[h++]=p),p++}d=!0}}if(!d)if(i===1)for(var y=0;y<o;y++){var D=t.getRawIndex(y),m=f[a[0]][D];(m>=l&&m<=c||isNaN(m))&&(u[h++]=D)}else for(var y=0;y<o;y++){for(var x=!0,D=t.getRawIndex(y),b=0;b<i;b++){var E=a[b],m=f[E][D];(m<e[E][0]||m>e[E][1])&&(x=!1)}x&&(u[h++]=t.getRawIndex(y))}return h<o&&(t._indices=u),t._count=h,t._extent=[],t._updateGetRawIdx(),t},r.prototype.map=function(e,t){var n=this.clone(e);return this._updateDims(n,e,t),n},r.prototype.modify=function(e,t){this._updateDims(this,e,t)},r.prototype._updateDims=function(e,t,n){for(var a=e._chunks,i=[],o=t.length,s=e.count(),u=[],h=e._rawExtent,v=0;v<t.length;v++)h[t[v]]=Ge();for(var l=0;l<s;l++){for(var c=e.getRawIndex(l),f=0;f<o;f++)u[f]=a[t[f]][c];u[o]=l;var d=n&&n.apply(null,u);if(d!=null){typeof d!="object"&&(i[0]=d,d=i);for(var v=0;v<d.length;v++){var p=t[v],g=d[v],y=h[p],m=a[p];m&&(m[c]=g),g<y[0]&&(y[0]=g),g>y[1]&&(y[1]=g)}}}},r.prototype.lttbDownSample=function(e,t){var n=this.clone([e],!0),a=n._chunks,i=a[e],o=this.count(),s=0,u=Math.floor(1/t),h=this.getRawIndex(0),v,l,c,f=new(Ue(this._rawCount))(Math.min((Math.ceil(o/u)+2)*2,o));f[s++]=h;for(var d=1;d<o-1;d+=u){for(var p=Math.min(d+u,o-1),g=Math.min(d+u*2,o),y=(g+p)/2,m=0,_=p;_<g;_++){var w=this.getRawIndex(_),C=i[w];isNaN(C)||(m+=C)}m/=g-p;var T=d,D=Math.min(d+u,o),x=d-1,b=i[h];v=-1,c=T;for(var E=-1,A=0,_=T;_<D;_++){var w=this.getRawIndex(_),C=i[w];if(isNaN(C)){A++,E<0&&(E=w);continue}l=Math.abs((x-y)*(C-b)-(x-_)*(m-b)),l>v&&(v=l,c=w)}A>0&&A<D-T&&(f[s++]=Math.min(E,c),c=Math.max(E,c)),f[s++]=c,h=c}return f[s++]=this.getRawIndex(o-1),n._count=s,n._indices=f,n.getRawIndex=this._getRawIdx,n},r.prototype.minmaxDownSample=function(e,t){for(var n=this.clone([e],!0),a=n._chunks,i=Math.floor(1/t),o=a[e],s=this.count(),u=new(Ue(this._rawCount))(Math.ceil(s/i)*2),h=0,v=0;v<s;v+=i){var l=v,c=o[this.getRawIndex(l)],f=v,d=o[this.getRawIndex(f)],p=i;v+i>s&&(p=s-v);for(var g=0;g<p;g++){var y=this.getRawIndex(v+g),m=o[y];m<c&&(c=m,l=v+g),m>d&&(d=m,f=v+g)}var _=this.getRawIndex(l),w=this.getRawIndex(f);l<f?(u[h++]=_,u[h++]=w):(u[h++]=w,u[h++]=_)}return n._count=h,n._indices=u,n._updateGetRawIdx(),n},r.prototype.downSample=function(e,t,n,a){for(var i=this.clone([e],!0),o=i._chunks,s=[],u=Math.floor(1/t),h=o[e],v=this.count(),l=i._rawExtent[e]=Ge(),c=new(Ue(this._rawCount))(Math.ceil(v/u)),f=0,d=0;d<v;d+=u){u>v-d&&(u=v-d,s.length=u);for(var p=0;p<u;p++){var g=this.getRawIndex(d+p);s[p]=h[g]}var y=n(s),m=this.getRawIndex(Math.min(d+a(s,y)||0,v-1));h[m]=y,y<l[0]&&(l[0]=y),y>l[1]&&(l[1]=y),c[f++]=m}return i._count=f,i._indices=c,i._updateGetRawIdx(),i},r.prototype.each=function(e,t){if(this._count)for(var n=e.length,a=this._chunks,i=0,o=this.count();i<o;i++){var s=this.getRawIndex(i);switch(n){case 0:t(i);break;case 1:t(a[e[0]][s],i);break;case 2:t(a[e[0]][s],a[e[1]][s],i);break;default:for(var u=0,h=[];u<n;u++)h[u]=a[e[u]][s];h[u]=i,t.apply(null,h)}}},r.prototype.getDataExtent=function(e){var t=this._chunks[e],n=Ge();if(!t)return n;var a=this.count(),i=!this._indices,o;if(i)return this._rawExtent[e].slice();if(o=this._extent[e],o)return o.slice();o=n;for(var s=o[0],u=o[1],h=0;h<a;h++){var v=this.getRawIndex(h),l=t[v];l<s&&(s=l),l>u&&(u=l)}return o=[s,u],this._extent[e]=o,o},r.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],a=this._chunks,i=0;i<a.length;i++)n.push(a[i][t]);return n},r.prototype.clone=function(e,t){var n=new r,a=this._chunks,i=e&&Sa(e,function(s,u){return s[u]=!0,s},{});if(i)for(var o=0;o<a.length;o++)n._chunks[o]=i[o]?mu(a[o]):a[o];else n._chunks=a;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},r.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=V(this._extent),e._rawExtent=V(this._rawExtent)},r.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var n=this._indices.length;t=new e(n);for(var a=0;a<n;a++)t[a]=this._indices[a]}else t=new e(this._indices);return t}return null},r.prototype._getRawIdxIdentity=function(e){return e},r.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},r.internalField=function(){function e(t,n,a,i){return Lt(t[i],this._dimensions[i])}lr={arrayRows:e,objectRows:function(t,n,a,i){return Lt(t[n],this._dimensions[i])},keyedColumns:e,original:function(t,n,a,i){var o=t&&(t.value==null?t:t.value);return Lt(o instanceof Array?o[i]:o,this._dimensions[i])},typedArray:function(t,n,a,i){return t[i]}}}(),r}(),Su=function(){function r(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},r.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},r.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length,a,i;if(tt(e)){var o=e,s=void 0,u=void 0,h=void 0;if(n){var v=t[0];v.prepareSource(),h=v.getSource(),s=h.data,u=h.sourceFormat,i=[v._getVersionSign()]}else s=o.get("data",!0),u=Z(s)?xe:we,i=[];var l=this._getSourceMetaRawOption()||{},c=h&&h.metaRawOption||{},f=Me(l.seriesLayoutBy,c.seriesLayoutBy)||null,d=Me(l.sourceHeader,c.sourceHeader),p=Me(l.dimensions,c.dimensions),g=f!==c.seriesLayoutBy||!!d!=!!c.sourceHeader||p;a=g?[br(s,{seriesLayoutBy:f,sourceHeader:d,dimensions:p},u)]:[]}else{var y=e;if(n){var m=this._applyTransform(t);a=m.sourceList,i=m.upstreamSignList}else{var _=y.get("source",!0);a=[br(_,this._getSourceMetaRawOption(),null)],i=[]}}M(a&&i),this._setLocalSource(a,i)},r.prototype._applyTransform=function(e){var t=this._sourceHost,n=t.get("transform",!0),a=t.get("fromTransformResult",!0);if(M(a!=null||n!=null),a!=null){var i="";e.length!==1&&(i="When using `fromTransformResult`, there should be only one upstream dataset",Wn(i))}var o,s=[],u=[];return S(e,function(h){h.prepareSource();var v=h.getSource(a||0),l="";a!=null&&!v&&(l="Can not retrieve result by `fromTransformResult`: "+a,Wn(l)),s.push(v),u.push(h._getVersionSign())}),n?o=vu(n,s,{datasetIndex:t.componentIndex}):a!=null&&(o=[qs(s[0])]),{sourceList:o,upstreamSignList:u}},r.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var n=e[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},r.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(e)}return t},r.prototype.getSharedDataStore=function(e){M(tt(this._sourceHost),"Can only call getDataStore on series source manager.");var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},r.prototype._innerGetDataStore=function(e,t,n){var a=0,i=this._storeList,o=i[a];o||(o=i[a]={});var s=o[n];if(!s){var u=this._getUpstreamSourceManagers()[0];tt(this._sourceHost)&&u?s=u._innerGetDataStore(e,t,n):(s=new _u,s.initData(new Js(t,e.length),e)),o[n]=s}return s},r.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(tt(e)){var t=gs(e);return t?[t.getSourceManager()]:[]}else return O(ys(e),function(n){return n.getSourceManager()})},r.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,n,a;if(tt(e))t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),a=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=e;t=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),a=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:a}},r}();function tt(r){return r.mainType==="series"}function Wn(r){throw new Error(r)}function Mr(r,e){return e.type=r,e}function wu(r,e){var t=r.getData().getItemVisual(e,"style"),n=t[r.visualDrawType];return us(n)}function Cu(r){var e=r.series,t=r.dataIndex,n=r.multipleSeries,a=e.getData(),i=a.mapDimensionsAll("defaultedTooltip"),o=i.length,s=e.getRawValue(t),u=k(s),h=wu(e,t),v,l,c,f;if(o>1||u&&!o){var d=Tu(s,e,t,i,h);v=d.inlineValues,l=d.inlineValueTypes,c=d.blocks,f=d.inlineValues[0]}else if(o){var p=a.getDimensionInfo(i[0]);f=v=zt(a,t,i[0]),l=p.type}else f=v=u?s[0]:s;var g=xa(e),y=g&&e.name||"",m=a.getName(t),_=n?y:m;return Mr("section",{header:y,noHeader:n||!g,sortParam:f,blocks:[Mr("nameValue",{markerType:"item",markerColor:h,name:_,noName:!Lr(_),value:v,valueType:l,dataIndex:t})].concat(c||[])})}function Tu(r,e,t,n,a){var i=e.getData(),o=Sa(r,function(l,c,f){var d=i.getDimensionInfo(f);return l=l||d&&d.tooltip!==!1&&d.displayName!=null},!1),s=[],u=[],h=[];n.length?S(n,function(l){v(zt(i,t,l),l)}):S(r,v);function v(l,c){var f=i.getDimensionInfo(c);!f||f.otherDims.tooltip===!1||(o?h.push(Mr("nameValue",{markerType:"subItem",markerColor:a,name:f.displayName,value:l,valueType:f.type})):(s.push(l),u.push(f.type)))}return{inlineValues:s,inlineValueTypes:u,blocks:h}}var De=te();function Dt(r,e){return r.getName(e)||r.getId(e)}var Du="__universalTransitionEnabled",gt=function(r){Ve(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,n,a){this.seriesIndex=this.componentIndex,this.dataTask=ft({count:Mu,reset:xu}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,a);var i=De(this).sourceManager=new Su(this);i.prepareSource();var o=this.getInitialData(t,a);Kn(o,this),this.dataTask.context.data=o,M(o,"getInitialData returned invalid data."),De(this).dataBeforeProcessed=o,Yn(this),this._initSelectedMapFromData(o)},e.prototype.mergeDefaultAndTheme=function(t,n){var a=Vt(this),i=a?Ka(t):{},o=this.subType;B.hasClass(o)&&(o+="Series"),W(t,n.getTheme().get(this.subType)),W(t,this.getDefaultOption()),cn(t,"label",["show"]),this.fillDataTextStyle(t.data),a&&Ft(t,i,a)},e.prototype.mergeOption=function(t,n){t=W(this.option,t,!0),this.fillDataTextStyle(t.data);var a=Vt(this);a&&Ft(this.option,t,a);var i=De(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(t,n);Kn(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,De(this).dataBeforeProcessed=o,Yn(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!Z(t))for(var n=["show"],a=0;a<t.length;a++)t[a]&&t[a].label&&cn(t[a],"label",n)},e.prototype.getInitialData=function(t,n){},e.prototype.appendData=function(t){var n=this.getRawData();n.appendData(t.data)},e.prototype.getData=function(t){var n=xr(this);if(n){var a=n.context.data;return t==null||!a.getLinkedData?a:a.getLinkedData(t)}else return De(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var n=xr(this);if(n){var a=n.context;a.outputData=t,n!==this.dataTask&&(a.data=t)}De(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return I(t)},e.prototype.getSourceManager=function(){return De(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return De(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,n,a){return Cu({series:this,dataIndex:t,multipleSeries:n})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(ge.node&&!(t&&t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,n,a){var i=this.ecModel,o=Kr.prototype.getColorFromPalette.call(this,t,n,a);return o||(o=i.getColorFromPalette(t,n,a)),o},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},e.prototype.unselect=function(t,n){var a=this.option.selectedMap;if(a){var i=this.option.selectedMode,o=this.getData(n);if(i==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<t.length;s++){var u=t[s],h=Dt(o,u);a[h]=!1,this._selectedDataIndicesMap[h]=-1}}},e.prototype.toggleSelect=function(t,n){for(var a=[],i=0;i<t.length;i++)a[0]=t[i],this.isSelected(t[i],n)?this.unselect(a,n):this.select(a,n)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=mt(t),a=[],i=0;i<n.length;i++){var o=t[n[i]];o>=0&&a.push(o)}return a},e.prototype.isSelected=function(t,n){var a=this.option.selectedMap;if(!a)return!1;var i=this.getData(n);return(a==="all"||a[Dt(i,t)])&&!i.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Du])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,n){var a,i,o=this.option,s=o.selectedMode,u=n.length;if(!(!s||!u)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){R(o.selectedMap)||(o.selectedMap={});for(var h=o.selectedMap,v=0;v<u;v++){var l=n[v],c=Dt(t,l);h[c]=!0,this._selectedDataIndicesMap[c]=t.getRawIndex(l)}}else if(s==="single"||s===!0){var f=n[u-1],c=Dt(t,f);o.selectedMap=(a={},a[c]=!0,a),this._selectedDataIndicesMap=(i={},i[c]=t.getRawIndex(f),i)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(a){var i=t.getRawDataItem(a);i&&i.selected&&n.push(a)}),n.length>0&&this._innerSelect(t,n)}},e.registerClass=function(t){return B.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(B);Oe(gt,au);Oe(gt,Kr);Ra(gt,B);function Yn(r){var e=r.name;xa(r)||(r.name=bu(r)||e)}function bu(r){var e=r.getRawData(),t=e.mapDimensionsAll("seriesName"),n=[];return S(t,function(a){var i=e.getDimensionInfo(a);i.displayName&&n.push(i.displayName)}),n.join(" ")}function Mu(r){return r.model.getRawData().count()}function xu(r){var e=r.model;return e.setData(e.getRawData().cloneShallow()),Au}function Au(r,e){e.outputData&&r.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Kn(r,e){S(Ki(r.CHANGABLE_METHODS,r.DOWNSAMPLE_METHODS),function(t){r.wrapMethod(t,Br(Eu,e))})}function Eu(r,e){var t=xr(r);return t&&t.setOutputEnd((e||this).count()),e}function xr(r){var e=(r.ecModel||{}).scheduler,t=e&&e.getPipeline(r.uid);if(t){var n=t.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(r.uid))}return n}}var jr=function(){function r(){this.group=new Nr,this.uid=qt("viewComponent")}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,a){},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,a){},r.prototype.updateLayout=function(e,t,n,a){},r.prototype.updateVisual=function(e,t,n,a){},r.prototype.toggleBlurSeries=function(e,t,n){},r.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},r}();Fr(jr);Or(jr);function Iu(){var r=te();return function(e){var t=r(e),n=e.pipelineContext,a=!!t.large,i=!!t.progressiveRender,o=t.large=!!(n&&n.large),s=t.progressiveRender=!!(n&&n.progressiveRender);return(a!==o||i!==s)&&"reset"}}var ni=te(),Ru=Iu(),ct=function(){function r(){this.group=new Nr,this.uid=qt("viewChart"),this.renderTask=ft({plan:ku,reset:Pu}),this.renderTask.context={view:this}}return r.prototype.init=function(e,t){},r.prototype.render=function(e,t,n,a){throw new Error("render method must been implemented")},r.prototype.highlight=function(e,t,n,a){var i=e.getData(a&&a.dataType);if(!i){q("Unknown dataType "+a.dataType);return}Zn(i,a,"emphasis")},r.prototype.downplay=function(e,t,n,a){var i=e.getData(a&&a.dataType);if(!i){q("Unknown dataType "+a.dataType);return}Zn(i,a,"normal")},r.prototype.remove=function(e,t){this.group.removeAll()},r.prototype.dispose=function(e,t){},r.prototype.updateView=function(e,t,n,a){this.render(e,t,n,a)},r.prototype.updateLayout=function(e,t,n,a){this.render(e,t,n,a)},r.prototype.updateVisual=function(e,t,n,a){this.render(e,t,n,a)},r.prototype.eachRendered=function(e){Ko(this.group,e)},r.markUpdateMethod=function(e,t){ni(e).updateMethod=t},r.protoInitialize=function(){var e=r.prototype;e.type="chart"}(),r}();function Xn(r,e,t){r&&Ke(r)&&(e==="emphasis"?Sr:wr)(r,t)}function Zn(r,e,t){var n=Kt(r,e),a=e&&e.highlightKey!=null?zo(e.highlightKey):null;n!=null?S(ee(n),function(i){Xn(r.getItemGraphicEl(i),t,a)}):r.eachItemGraphicEl(function(i){Xn(i,t,a)})}Fr(ct,["dispose"]);Or(ct);function ku(r){return Ru(r.model)}function Pu(r){var e=r.model,t=r.ecModel,n=r.api,a=r.payload,i=e.pipelineContext.progressiveRender,o=r.view,s=a&&ni(a).updateMethod,u=i?"incrementalPrepareRender":s&&o[s]?s:"render";return u!=="render"&&o[u](e,t,n,a),Lu[u]}var Lu={incrementalPrepareRender:{progress:function(r,e){e.view.incrementalRender(r,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(r,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};function Bu(r,e,t){var n,a=0,i=0,o=null,s,u,h,v;e=e||0;function l(){i=new Date().getTime(),o=null,r.apply(u,h||[])}var c=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];n=new Date().getTime(),u=this,h=f;var p=v||e,g=v||t;v=null,s=n-(g?a:i)-p,clearTimeout(o),g?o=setTimeout(l,p):s>=0?l():o=setTimeout(l,-s),a=n};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.debounceNextCall=function(f){v=f},c}var qn=te(),jn={itemStyle:dt(Ha,!0),lineStyle:dt(Ga,!0)},Nu={lineStyle:"stroke",itemStyle:"fill"};function ai(r,e){var t=r.visualStyleMapper||jn[e];return t||jn.itemStyle}function ii(r,e){var t=r.visualDrawType||Nu[e];return t||"fill"}var Vu={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",a=r.getModel(n),i=ai(r,n),o=i(a),s=a.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var u=ii(r,n),h=o[u],v=J(h)?h:null,l=o.fill==="auto"||o.stroke==="auto";if(!o[u]||v||l){var c=r.getColorFromPalette(r.name,null,e.getSeriesCount());o[u]||(o[u]=c,t.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||J(o.fill)?c:o.fill,o.stroke=o.stroke==="auto"||J(o.stroke)?c:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",u),!e.isSeriesFiltered(r)&&v)return t.setVisual("colorFromPalette",!1),{dataEach:function(f,d){var p=r.getDataParams(d),g=H({},o);g[u]=v(p),f.setItemVisual(d,"style",g)}}}},rt=new oe,Fu={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!(r.ignoreStyleOnData||e.isSeriesFiltered(r))){var t=r.getData(),n=r.visualStyleAccessPath||"itemStyle",a=ai(r,n),i=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var u=o.getRawDataItem(s);if(u&&u[n]){rt.option=u[n];var h=a(rt),v=o.ensureUniqueItemVisual(s,"style");H(v,h),rt.option.decal&&(o.setItemVisual(s,"decal",rt.option.decal),rt.option.decal.dirty=!0),i in h&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},Ou={performRawSeries:!0,overallReset:function(r){var e=I();r.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var a=t.type+"-"+n,i=e.get(a);i||(i={},e.set(a,i)),qn(t).scope=i}}),r.eachSeries(function(t){if(!(t.isColorBySeries()||r.isSeriesFiltered(t))){var n=t.getRawData(),a={},i=t.getData(),o=qn(t).scope,s=t.visualStyleAccessPath||"itemStyle",u=ii(t,s);i.each(function(h){var v=i.getRawIndex(h);a[v]=h}),n.each(function(h){var v=a[h],l=i.getItemVisual(v,"colorFromPalette");if(l){var c=i.ensureUniqueItemVisual(v,"style"),f=n.getName(h)||h+"",d=n.count();c[u]=t.getColorFromPalette(f,o,d)}})}})}},bt=Math.PI;function zu(r,e){e=e||{},_t(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Nr,n=new Le({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(n);var a=new _a({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),i=new Le({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(i);var o;return e.showSpinner&&(o=new ma({shape:{startAngle:-bt/2,endAngle:-bt/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:bt*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:bt*3/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=a.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,h=(r.getWidth()-u*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:u),v=r.getHeight()/2;e.showSpinner&&o.setShape({cx:h,cy:v}),i.setShape({x:h-u,y:v-u,width:u*2,height:u*2}),n.setShape({x:0,y:0,width:r.getWidth(),height:r.getHeight()})},t.resize(),t}var oi=function(){function r(e,t,n,a){this._stageTaskMap=I(),this.ecInstance=e,this.api=t,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a)}return r.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(n){var a=n.overallTask;a&&a.dirty()})},r.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var n=this._pipelineMap.get(e.__pipeline.id),a=n.context,i=!t&&n.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>n.blockIndex,o=i?n.step:null,s=a&&a.modDataCount,u=s!=null?Math.ceil(s/o):null;return{step:o,modBy:u,modDataCount:s}}},r.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},r.prototype.updateStreamModes=function(e,t){var n=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&i>=n.threshold,s=e.get("large")&&i>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=n.context={progressiveRender:o,modDataCount:u,large:s}},r.prototype.restorePipelines=function(e){var t=this,n=t._pipelineMap=I();e.eachSeries(function(a){var i=a.getProgressive(),o=a.uid;n.set(o,{id:o,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),t._pipe(a,a.dataTask)})},r.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),n=this.api;S(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,{}),o="";o='"reset" and "overallReset" must not be both specified.',M(!(a.reset&&a.overallReset),o),a.reset&&this._createSeriesStageTask(a,i,t,n),a.overallReset&&this._createOverallStageTask(a,i,t,n)},this)},r.prototype.prepareView=function(e,t,n,a){var i=e.renderTask,o=i.context;o.model=t,o.ecModel=n,o.api=a,i.__block=!e.incrementalPrepareRender,this._pipe(t,i)},r.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},r.prototype.performVisualTasks=function(e,t,n){this._performStageTasks(this._visualHandlers,e,t,n)},r.prototype._performStageTasks=function(e,t,n,a){a=a||{};var i=!1,o=this;S(e,function(u,h){if(!(a.visualType&&a.visualType!==u.visualType)){var v=o._stageTaskMap.get(u.uid),l=v.seriesTaskMap,c=v.overallTask;if(c){var f,d=c.agentStubMap;d.each(function(g){s(a,g)&&(g.dirty(),f=!0)}),f&&c.dirty(),o.updatePayload(c,n);var p=o.getPerformArgs(c,a.block);d.each(function(g){g.perform(p)}),c.perform(p)&&(i=!0)}else l&&l.each(function(g,y){s(a,g)&&g.dirty();var m=o.getPerformArgs(g,a.block);m.skip=!u.performRawSeries&&t.isSeriesFiltered(g.context.model),o.updatePayload(g,n),g.perform(m)&&(i=!0)})}});function s(u,h){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(h.__pipeline.id))}this.unfinished=i||this.unfinished},r.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},r.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},r.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},r.prototype._createSeriesStageTask=function(e,t,n,a){var i=this,o=t.seriesTaskMap,s=t.seriesTaskMap=I(),u=e.seriesType,h=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(v):u?n.eachRawSeriesByType(u,v):h&&h(n,a).each(v);function v(l){var c=l.uid,f=s.set(c,o&&o.get(c)||ft({plan:Yu,reset:Ku,count:Zu}));f.context={model:l,ecModel:n,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:i},i._pipe(l,f)}},r.prototype._createOverallStageTask=function(e,t,n,a){var i=this,o=t.overallTask=t.overallTask||ft({reset:Uu});o.context={ecModel:n,api:a,overallReset:e.overallReset,scheduler:i};var s=o.agentStubMap,u=o.agentStubMap=I(),h=e.seriesType,v=e.getTargetSeries,l=!0,c=!1,f="";f='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.',M(!e.createOnAllSeries,f),h?n.eachRawSeriesByType(h,d):v?v(n,a).each(d):(l=!1,S(n.getSeries(),d));function d(p){var g=p.uid,y=u.set(g,s&&s.get(g)||(c=!0,ft({reset:Gu,onDirty:Wu})));y.context={model:p,overallProgress:l},y.agent=o,y.__block=l,i._pipe(p,y)}c&&o.dirty()},r.prototype._pipe=function(e,t){var n=e.uid,a=this._pipelineMap.get(n);!a.head&&(a.head=t),a.tail&&a.tail.pipe(t),a.tail=t,t.__idxInPipeline=a.count++,t.__pipeline=a},r.wrapStageHandler=function(e,t){return J(e)&&(e={overallReset:e,seriesType:qu(e)}),e.uid=qt("stageHandler"),t&&(e.visualType=t),e},r}();function Uu(r){r.overallReset(r.ecModel,r.api,r.payload)}function Gu(r){return r.overallProgress&&Hu}function Hu(){this.agent.dirty(),this.getDownstream().dirty()}function Wu(){this.agent&&this.agent.dirty()}function Yu(r){return r.plan?r.plan(r.model,r.ecModel,r.api,r.payload):null}function Ku(r){r.useClearVisual&&r.data.clearAllVisual();var e=r.resetDefines=ee(r.reset(r.model,r.ecModel,r.api,r.payload));return e.length>1?O(e,function(t,n){return si(n)}):Xu}var Xu=si(0);function si(r){return function(e,t){var n=t.data,a=t.resetDefines[r];if(a&&a.dataEach)for(var i=e.start;i<e.end;i++)a.dataEach(n,i);else a&&a.progress&&a.progress(e,n)}}function Zu(r){return r.data.count()}function qu(r){Ut=null;try{r(yt,ui)}catch{}return Ut}var yt={},ui={},Ut;li(yt,Xr);li(ui,qa);yt.eachSeriesByType=yt.eachRawSeriesByType=function(r){Ut=r};yt.eachComponent=function(r){r.mainType==="series"&&r.subType&&(Ut=r.subType)};function li(r,e){for(var t in e.prototype)r[t]=Xe}var $n=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const ju={color:$n,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],$n]};var U="#B9B8CE",Qn="#100C2A",Mt=function(){return{axisLine:{lineStyle:{color:U}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Jn=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],fi={darkMode:!0,color:Jn,backgroundColor:Qn,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:U},pageTextStyle:{color:U}},textStyle:{color:U},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:U}},dataZoom:{borderColor:"#71708A",textStyle:{color:U},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:U}},timeline:{lineStyle:{color:U},label:{color:U},controlStyle:{color:U,borderColor:U}},calendar:{itemStyle:{color:Qn},dayLabel:{color:U},monthLabel:{color:U},yearLabel:{color:U}},timeAxis:Mt(),logAxis:Mt(),valueAxis:Mt(),categoryAxis:Mt(),line:{symbol:"circle"},graph:{color:Jn},gauge:{title:{color:U},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:U},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fi.categoryAxis.splitLine.show=!1;var $u=function(){function r(){}return r.prototype.normalizeQuery=function(e){var t={},n={},a={};if(F(e)){var i=ce(e);t.mainType=i.main||null,t.subType=i.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};S(e,function(u,h){for(var v=!1,l=0;l<o.length;l++){var c=o[l],f=h.lastIndexOf(c);if(f>0&&f===h.length-c.length){var d=h.slice(0,f);d!=="data"&&(t.mainType=d,t[c.toLowerCase()]=u,v=!0)}}s.hasOwnProperty(h)&&(n[h]=u,v=!0),v||(a[h]=u)})}return{cptQuery:t,dataQuery:n,otherQuery:a}},r.prototype.filter=function(e,t){var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,i=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var u=t.cptQuery,h=t.dataQuery;return v(u,o,"mainType")&&v(u,o,"subType")&&v(u,o,"index","componentIndex")&&v(u,o,"name")&&v(u,o,"id")&&v(h,i,"name")&&v(h,i,"dataIndex")&&v(h,i,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,t.otherQuery,a,i));function v(l,c,f,d){return l[f]==null||c[d||f]===l[f]}},r.prototype.afterTrigger=function(){this.eventInfo=null},r}(),Ar=["symbol","symbolSize","symbolRotate","symbolOffset"],ea=Ar.concat(["symbolKeepAspect"]),Qu={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){var t=r.getData();if(r.legendIcon&&t.setVisual("legendIcon",r.legendIcon),!r.hasSymbolVisual)return;for(var n={},a={},i=!1,o=0;o<Ar.length;o++){var s=Ar[o],u=r.get(s);J(u)?(i=!0,a[s]=u):n[s]=u}if(n.symbol=n.symbol||r.defaultSymbol,t.setVisual(H({legendIcon:r.legendIcon||n.symbol,symbolKeepAspect:r.get("symbolKeepAspect")},n)),e.isSeriesFiltered(r))return;var h=mt(a);function v(l,c){for(var f=r.getRawValue(c),d=r.getDataParams(c),p=0;p<h.length;p++){var g=h[p];l.setItemVisual(c,g,a[g](f,d))}}return{dataEach:i?v:null}}},Ju={createOnAllSeries:!0,performRawSeries:!0,reset:function(r,e){if(!r.hasSymbolVisual||e.isSeriesFiltered(r))return;var t=r.getData();function n(a,i){for(var o=a.getItemModel(i),s=0;s<ea.length;s++){var u=ea[s],h=o.getShallow(u,!0);h!=null&&a.setItemVisual(i,u,h)}}return{dataEach:t.hasItemOption?n:null}}};function el(r,e,t){switch(t){case"color":var n=r.getItemVisual(e,"style");return n[r.getVisual("drawType")];case"opacity":return r.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getItemVisual(e,t);default:}}function tl(r,e){switch(e){case"color":var t=r.getVisual("style");return t[r.getVisual("drawType")];case"opacity":return r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return r.getVisual(e);default:}}function He(r,e,t,n,a){var i=r+e;t.isSilent(i)||(he("event "+i+" is deprecated."),n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,u=o.option.selectedMap,h=a.selected,v=0;v<h.length;v++)if(h[v].seriesIndex===s){var l=o.getData(),c=Kt(l,a.fromActionPayload);t.trigger(i,{type:i,seriesId:o.id,name:k(c)?l.getName(c[0]):l.getName(c),selected:F(u)?u:H({},u)})}}))}function rl(r,e,t){r.on("selectchanged",function(n){var a=t.getModel();n.isFromClick?(He("map","selectchanged",e,a,n),He("pie","selectchanged",e,a,n)):n.fromAction==="select"?(He("map","selected",e,a,n),He("pie","selected",e,a,n)):n.fromAction==="unselect"&&(He("map","unselected",e,a,n),He("pie","unselected",e,a,n))})}function xt(r,e,t){for(var n;r&&!(e(r)&&(n=r,t));)r=r.__hostTarget||r.parent;return n}var nl=Ze.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,a=e.width/2,i=e.height/2;r.moveTo(t,n-i),r.lineTo(t+a,n+i),r.lineTo(t-a,n+i),r.closePath()}}),al=Ze.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(r,e){var t=e.cx,n=e.cy,a=e.width/2,i=e.height/2;r.moveTo(t,n-i),r.lineTo(t+a,n),r.lineTo(t,n+i),r.lineTo(t-a,n),r.closePath()}}),il=Ze.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.x,n=e.y,a=e.width/5*3,i=Math.max(a,e.height),o=a/2,s=o*o/(i-o),u=n-i+o+s,h=Math.asin(s/o),v=Math.cos(h)*o,l=Math.sin(h),c=Math.cos(h),f=o*.6,d=o*.7;r.moveTo(t-v,u+s),r.arc(t,u,o,Math.PI-h,Math.PI*2+h),r.bezierCurveTo(t+v-l*f,u+s+c*f,t,n-d,t,n),r.bezierCurveTo(t,n-d,t-v+l*f,u+s+c*f,t-v,u+s),r.closePath()}}),ol=Ze.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(r,e){var t=e.height,n=e.width,a=e.x,i=e.y,o=n/3*2;r.moveTo(a,i),r.lineTo(a+o,i+t),r.lineTo(a,i+t/4*3),r.lineTo(a-o,i+t),r.lineTo(a,i),r.closePath()}}),sl={line:ya,rect:Le,roundRect:Le,square:Le,circle:ga,diamond:al,pin:il,arrow:ol,triangle:nl},ul={line:function(r,e,t,n,a){a.x1=r,a.y1=e+n/2,a.x2=r+t,a.y2=e+n/2},rect:function(r,e,t,n,a){a.x=r,a.y=e,a.width=t,a.height=n},roundRect:function(r,e,t,n,a){a.x=r,a.y=e,a.width=t,a.height=n,a.r=Math.min(t,n)/4},square:function(r,e,t,n,a){var i=Math.min(t,n);a.x=r,a.y=e,a.width=i,a.height=i},circle:function(r,e,t,n,a){a.cx=r+t/2,a.cy=e+n/2,a.r=Math.min(t,n)/2},diamond:function(r,e,t,n,a){a.cx=r+t/2,a.cy=e+n/2,a.width=t,a.height=n},pin:function(r,e,t,n,a){a.x=r+t/2,a.y=e+n/2,a.width=t,a.height=n},arrow:function(r,e,t,n,a){a.x=r+t/2,a.y=e+n/2,a.width=t,a.height=n},triangle:function(r,e,t,n,a){a.cx=r+t/2,a.cy=e+n/2,a.width=t,a.height=n}},Er={};S(sl,function(r,e){Er[e]=new r});var ll=Ze.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(r,e,t){var n=Xi(r,e,t),a=this.shape;return a&&a.symbolType==="pin"&&e.position==="inside"&&(n.y=t.y+t.height*.4),n},buildPath:function(r,e,t){var n=e.symbolType;if(n!=="none"){var a=Er[n];a||(n="rect",a=Er[n]),ul[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(r,a.shape,t)}}});function fl(r,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=r,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=r:t.fill=r,this.markRedraw()}}function cl(r,e,t,n,a,i,o){var s=r.indexOf("empty")===0;s&&(r=r.substr(5,1).toLowerCase()+r.substr(6));var u;return r.indexOf("image://")===0?u=Wo(r.slice(8),new on(e,t,n,a),o?"center":"cover"):r.indexOf("path://")===0?u=Ho(r.slice(7),{},new on(e,t,n,a),o?"center":"cover"):u=new ll({shape:{symbolType:r,x:e,y:t,width:n,height:a}}),u.__isEmptyBrush=s,u.setColor=fl,i&&u.setColor(i),u}var fr=new Zi,ta=new qi(100),ra=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function na(r,e){if(r==="none")return null;var t=e.getDevicePixelRatio(),n=e.getZr(),a=n.painter.type==="svg";r.dirty&&fr.delete(r);var i=fr.get(r);if(i)return i;var o=_t(r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return u(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/t,fr.set(r,s),r.dirty=!1,s;function u(h){for(var v=[t],l=!0,c=0;c<ra.length;++c){var f=o[ra[c]];if(f!=null&&!k(f)&&!F(f)&&!_e(f)&&typeof f!="boolean"){l=!1;break}v.push(f)}var d;if(l){d=v.join(",")+(a?"-svg":"");var p=ta.get(d);p&&(a?h.svgElement=p:h.image=p)}var g=hi(o.dashArrayX),y=hl(o.dashArrayY),m=ci(o.symbol),_=vl(g),w=vi(y),C=!a&&wa.createCanvas(),T=a&&{tag:"g",attrs:{},key:"dcl",children:[]},D=b(),x;C&&(C.width=D.width*t,C.height=D.height*t,x=C.getContext("2d")),E(),l&&ta.put(d,C||T),h.image=C,h.svgElement=T,h.svgWidth=D.width,h.svgHeight=D.height;function b(){for(var A=1,L=0,$=_.length;L<$;++L)A=ln(A,_[L]);for(var P=1,L=0,$=m.length;L<$;++L)P=ln(P,m[L].length);A*=P;var Te=w*_.length*m.length;{var Y=function($e){};A>o.maxTileWidth&&Y("maxTileWidth"),Te>o.maxTileHeight&&Y("maxTileHeight")}return{width:Math.max(1,Math.min(A,o.maxTileWidth)),height:Math.max(1,Math.min(Te,o.maxTileHeight))}}function E(){x&&(x.clearRect(0,0,C.width,C.height),o.backgroundColor&&(x.fillStyle=o.backgroundColor,x.fillRect(0,0,C.width,C.height)));for(var A=0,L=0;L<y.length;++L)A+=y[L];if(A<=0)return;for(var $=-w,P=0,Te=0,Y=0;$<D.height;){if(P%2===0){for(var $e=Te/2%m.length,Qe=0,Ee=0,en=0;Qe<D.width*2;){for(var tn=0,L=0;L<g[Y].length;++L)tn+=g[Y][L];if(tn<=0)break;if(Ee%2===0){var rn=(1-o.symbolSize)*.5,bi=Qe+g[Y][Ee]*rn,Mi=$+y[P]*rn,xi=g[Y][Ee]*o.symbolSize,Ai=y[P]*o.symbolSize,Ei=en/2%m[$e].length;Ii(bi,Mi,xi,Ai,m[$e][Ei])}Qe+=g[Y][Ee],++en,++Ee,Ee===g[Y].length&&(Ee=0)}++Y,Y===g.length&&(Y=0)}$+=y[P],++Te,++P,P===y.length&&(P=0)}function Ii(Ri,ki,Pi,Li,Bi){var wt=a?1:t,nn=cl(Bi,Ri*wt,ki*wt,Pi*wt,Li*wt,o.color,o.symbolKeepAspect);if(a){var an=n.painter.renderOneToVNode(nn);an&&T.children.push(an)}else ji(x,nn)}}}}function ci(r){if(!r||r.length===0)return[["rect"]];if(F(r))return[[r]];for(var e=!0,t=0;t<r.length;++t)if(!F(r[t])){e=!1;break}if(e)return ci([r]);for(var n=[],t=0;t<r.length;++t)F(r[t])?n.push([r[t]]):n.push(r[t]);return n}function hi(r){if(!r||r.length===0)return[[0,0]];if(_e(r)){var e=Math.ceil(r);return[[e,e]]}for(var t=!0,n=0;n<r.length;++n)if(!_e(r[n])){t=!1;break}if(t)return hi([r]);for(var a=[],n=0;n<r.length;++n)if(_e(r[n])){var e=Math.ceil(r[n]);a.push([e,e])}else{var e=O(r[n],function(s){return Math.ceil(s)});e.length%2===1?a.push(e.concat(e)):a.push(e)}return a}function hl(r){if(!r||typeof r=="object"&&r.length===0)return[0,0];if(_e(r)){var e=Math.ceil(r);return[e,e]}var t=O(r,function(n){return Math.ceil(n)});return r.length%2?t.concat(t):t}function vl(r){return O(r,function(e){return vi(e)})}function vi(r){for(var e=0,t=0;t<r.length;++t)e+=r[t];return r.length%2===1?e*2:e}function dl(r,e){r.eachRawSeries(function(t){if(!r.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");if(s){var u=n.ensureUniqueItemVisual(o,"style");u.decal=na(s,e)}});var a=n.getVisual("decal");if(a){var i=n.getVisual("style");i.decal=na(a,e)}}})}var le=new Ht,pl=1,gl=900,yl=2e3,di=2e3,ml=3e3,$r=4500,_l=7e3,z="__flagInMainProcess",K="__pendingUpdate",cr="__needsUpdateStatus",aa=/^[a-zA-Z0-9_]+$/,hr="__connectUpdateStatus",ia=0,Sl=1,wl=2;function pi(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){Q(this.id);return}return yi(this,r,e)}}function gi(r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yi(this,r,e)}}function yi(r,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Ht.prototype[e].apply(r,t)}var mi=function(r){Ve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Ht),_i=mi.prototype;_i.on=gi("on");_i.off=gi("off");var We,vr,At,be,dr,pr,gr,nt,at,oa,sa,yr,ua,Et,la,Si,ne,fa,wi=function(r){Ve(e,r);function e(t,n,a){var i=r.call(this,new $u)||this;i._chartsViews=[],i._chartsMap={},i._componentsViews=[],i._componentsMap={},i._pendingActions=[],a=a||{},F(n)&&(n=Ci[n]),i._dom=t;var o="canvas",s="auto",u=!1;{var h=ge.hasGlobalWindow?window:global;h&&(o=Me(h.__ECHARTS__DEFAULT__RENDERER__,o),s=Me(h.__ECHARTS__DEFAULT__COARSE_POINTER,s),u=Me(h.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,u))}a.ssr;var v=i._zr=sn(t,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:Me(a.useDirtyRect,u),useCoarsePointer:Me(a.useCoarsePointer,s),pointerSize:a.pointerSize});i._ssr=a.ssr,i._throttledZrFlush=Bu(fe(v.flush,v),17),n=V(n),n&&$a(n,!0),i._theme=n,i._locale=os(a.locale||is),i._coordSysMgr=new Rs;var l=i._api=la(i);function c(f,d){return f.__prio-d.__prio}return Qt(kr,c),Qt(Ir,c),i._scheduler=new oi(i,l,Ir,kr),i._messageCenter=new mi,i._initEvents(),i.resize=fe(i.resize,i),v.animation.on("frame",i._onframe,i),oa(v,i),sa(v,i),mr(i),i}return e.prototype._onframe=function(){if(!this._disposed){fa(this);var t=this._scheduler;if(this[K]){var n=this[K].silent;this[z]=!0;try{We(this),be.update.call(this,null,this[K].updateParams)}catch(u){throw this[z]=!1,this[K]=null,u}this._zr.flush(),this[z]=!1,this[K]=null,nt.call(this,n),at.call(this,n)}else if(t.unfinished){var a=pl,i=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),pr(this,i),t.performVisualTasks(i),Et(this,this._model,o,"remain",{}),a-=+new Date-s}while(a>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,n,a){if(this[z]){q("`setOption` should not be called during main process.");return}if(this._disposed){Q(this.id);return}var i,o,s;if(R(n)&&(a=n.lazyUpdate,i=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[z]=!0,!this._model||n){var u=new Ps(this._api),h=this._theme,v=this._model=new Xr;v.scheduler=this._scheduler,v.ssr=this._ssr,v.init(null,null,null,h,this._locale,u)}this._model.setOption(t,{replaceMerge:o},Rr);var l={seriesTransition:s,optionChanged:!0};if(a)this[K]={silent:i,updateParams:l},this[z]=!1,this.getZr().wakeUp();else{try{We(this),be.update.call(this,null,l)}catch(c){throw this[K]=null,this[z]=!1,c}this._ssr||this._zr.flush(),this[K]=null,this[z]=!1,nt.call(this,i),at.call(this,i)}},e.prototype.setTheme=function(){he("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ge.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return X("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var n=this._zr.painter;if(n.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return n.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var n=this._zr.painter;if(n.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return n.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(ge.svgSupported){var t=this._zr,n=t.storage.getDisplayList();return S(n,function(a){a.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){Q(this.id);return}t=t||{};var n=t.excludeComponents,a=this._model,i=[],o=this;S(n,function(u){a.eachComponent({mainType:u},function(h){var v=o._componentsMap[h.__viewId];v.group.ignore||(i.push(v),v.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return S(i,function(u){u.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(t){if(this._disposed){Q(this.id);return}var n=t.type==="svg",a=this.group,i=Math.min,o=Math.max,s=1/0;if(ca[a]){var u=s,h=s,v=-s,l=-s,c=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();S(vt,function(_,w){if(_.group===a){var C=n?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(V(t)),T=_.getDom().getBoundingClientRect();u=i(T.left,u),h=i(T.top,h),v=o(T.right,v),l=o(T.bottom,l),c.push({dom:C,left:T.left,top:T.top})}}),u*=f,h*=f,v*=f,l*=f;var d=v-u,p=l-h,g=wa.createCanvas(),y=sn(g,{renderer:n?"svg":"canvas"});if(y.resize({width:d,height:p}),n){var m="";return S(c,function(_){var w=_.left-u,C=_.top-h;m+='<g transform="translate('+w+","+C+')">'+_.dom+"</g>"}),y.painter.getSvgRoot().innerHTML=m,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return t.connectedBackgroundColor&&y.add(new Le({shape:{x:0,y:0,width:d,height:p},style:{fill:t.connectedBackgroundColor}})),S(c,function(_){var w=new pa({style:{x:_.left*f-u,y:_.top*f-h,image:_.dom}});y.add(w)}),y.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,n){return dr(this,"convertToPixel",t,n)},e.prototype.convertFromPixel=function(t,n){return dr(this,"convertFromPixel",t,n)},e.prototype.containPixel=function(t,n){if(this._disposed){Q(this.id);return}var a=this._model,i,o=Jt(a,t);return S(o,function(s,u){u.indexOf("Models")>=0&&S(s,function(h){var v=h.coordinateSystem;if(v&&v.containPoint)i=i||!!v.containPoint(n);else if(u==="seriesModels"){var l=this._chartsMap[h.__viewId];l&&l.containPoint?i=i||l.containPoint(n,h):se(u+": "+(l?"The found component do not support containPoint.":"No view mapping to the found component."))}else se(u+": containPoint is not supported")},this)},this),!!i},e.prototype.getVisual=function(t,n){var a=this._model,i=Jt(a,t,{defaultMainType:"series"}),o=i.seriesModel;o||se("There is no specified series model");var s=o.getData(),u=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?s.indexOfRawIndex(i.dataIndex):null;return u!=null?el(s,u,n):tl(s,n)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;S(Cl,function(n){var a=function(i){var o=t.getModel(),s=i.target,u,h=n==="globalout";if(h?u={}:s&&xt(s,function(d){var p=Be(d);if(p&&p.dataIndex!=null){var g=p.dataModel||o.getSeriesByIndex(p.seriesIndex);return u=g&&g.getDataParams(p.dataIndex,p.dataType,s)||{},!0}else if(p.eventData)return u=H({},p.eventData),!0},!0),u){var v=u.componentType,l=u.componentIndex;(v==="markLine"||v==="markPoint"||v==="markArea")&&(v="series",l=u.seriesIndex);var c=v&&l!=null&&o.getComponent(v,l),f=c&&t[c.mainType==="series"?"_chartsMap":"_componentsMap"][c.__viewId];!h&&!(c&&f)&&se("model or view can not be found by params"),u.event=i,u.type=n,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:u,model:c,view:f},t.trigger(n,u)}};a.zrEventfulCallAtLast=!0,t._zr.on(n,a,t)}),S(ht,function(n,a){t._messageCenter.on(a,function(i){this.trigger(a,i)},t)}),S(["selectchanged"],function(n){t._messageCenter.on(n,function(a){this.trigger(n,a)},t)}),rl(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){Q(this.id);return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){Q(this.id);return}this._disposed=!0;var t=this.getDom();t&&Ea(this.getDom(),Jr,"");var n=this,a=n._api,i=n._model;S(n._componentsViews,function(o){o.dispose(i,a)}),S(n._chartsViews,function(o){o.dispose(i,a)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete vt[n.id]},e.prototype.resize=function(t){if(this[z]){q("`resize` should not be called during main process.");return}if(this._disposed){Q(this.id);return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var a=n.resetOption("media"),i=t&&t.silent;this[K]&&(i==null&&(i=this[K].silent),a=!0,this[K]=null),this[z]=!0;try{a&&We(this),be.update.call(this,{type:"resize",animation:H({duration:0},t&&t.animation)})}catch(o){throw this[z]=!1,o}this[z]=!1,nt.call(this,i),at.call(this,i)}},e.prototype.showLoading=function(t,n){if(this._disposed){Q(this.id);return}if(R(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),!Pr[t]){se("Loading effects "+t+" not exists.");return}var a=Pr[t](this._api,n),i=this._zr;this._loadingFX=a,i.add(a)},e.prototype.hideLoading=function(){if(this._disposed){Q(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var n=H({},t);return n.type=ht[t.type],n},e.prototype.dispatchAction=function(t,n){if(this._disposed){Q(this.id);return}if(R(n)||(n={silent:!!n}),!!Gt[t.type]&&this._model){if(this[z]){this._pendingActions.push(t);return}var a=n.silent;gr.call(this,t,a);var i=n.flush;i?this._zr.flush():i!==!1&&ge.browser.weChat&&this._throttledZrFlush(),nt.call(this,a),at.call(this,a)}},e.prototype.updateLabelLayout=function(){le.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){Q(this.id);return}var n=t.seriesIndex,a=this.getModel(),i=a.getSeriesByIndex(n);M(t.data&&i),i.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){We=function(l){var c=l._scheduler;c.restorePipelines(l._model),c.prepareStageTasks(),vr(l,!0),vr(l,!1),c.plan()},vr=function(l,c){for(var f=l._model,d=l._scheduler,p=c?l._componentsViews:l._chartsViews,g=c?l._componentsMap:l._chartsMap,y=l._zr,m=l._api,_=0;_<p.length;_++)p[_].__alive=!1;c?f.eachComponent(function(T,D){T!=="series"&&w(D)}):f.eachSeries(w);function w(T){var D=T.__requireNewView;T.__requireNewView=!1;var x="_ec_"+T.id+"_"+T.type,b=!D&&g[x];if(!b){var E=ce(T.type),A=c?jr.getClass(E.main,E.sub):ct.getClass(E.sub);M(A,E.sub+" does not exist."),b=new A,b.init(f,m),g[x]=b,p.push(b),y.add(b.group)}T.__viewId=b.__id=x,b.__alive=!0,b.__model=T,b.group.__ecComponentInfo={mainType:T.mainType,index:T.componentIndex},!c&&d.prepareView(b,T,f,m)}for(var _=0;_<p.length;){var C=p[_];C.__alive?_++:(!c&&C.renderTask.dispose(),y.remove(C.group),C.dispose(f,m),p.splice(_,1),g[C.__id]===C&&delete g[C.__id],C.__id=C.group.__ecComponentInfo=null)}},At=function(l,c,f,d,p){var g=l._model;if(g.setUpdatePayload(f),!d){S([].concat(l._componentsViews).concat(l._chartsViews),C);return}var y={};y[d+"Id"]=f[d+"Id"],y[d+"Index"]=f[d+"Index"],y[d+"Name"]=f[d+"Name"];var m={mainType:d,query:y};p&&(m.subType=p);var _=f.excludeSeriesId,w;_!=null&&(w=I(),S(ee(_),function(T){var D=Fe(T,null);D!=null&&w.set(D,!0)})),g&&g.eachComponent(m,function(T){var D=w&&w.get(T.id)!=null;if(!D)if(wn(f))if(T instanceof gt)f.type===Ne&&!f.notBlur&&!T.get(["emphasis","disabled"])&&Bo(T,f,l._api);else{var x=Wr(T.mainType,T.componentIndex,f.name,l._api),b=x.focusSelf,E=x.dispatchers;f.type===Ne&&b&&!f.notBlur&&Tr(T.mainType,T.componentIndex,l._api),E&&S(E,function(A){f.type===Ne?Sr(A):wr(A)})}else Dr(f)&&T instanceof gt&&(Fo(T,f,l._api),Sn(T),ne(l))},l),g&&g.eachComponent(m,function(T){var D=w&&w.get(T.id)!=null;D||C(l[d==="series"?"_chartsMap":"_componentsMap"][T.__viewId])},l);function C(T){T&&T.__alive&&T[c]&&T[c](T.__model,g,l._api,f)}},be={prepareAndUpdate:function(l){We(this),be.update.call(this,l,{optionChanged:l.newOption!=null})},update:function(l,c){var f=this._model,d=this._api,p=this._zr,g=this._coordSysMgr,y=this._scheduler;if(f){f.setUpdatePayload(l),y.restoreData(f,l),y.performSeriesTasks(f),g.create(f,d),y.performDataProcessorTasks(f,l),pr(this,f),g.update(f,d),t(f),y.performVisualTasks(f,l),yr(this,f,d,l,c);var m=f.get("backgroundColor")||"transparent",_=f.get("darkMode");p.setBackgroundColor(m),_!=null&&_!=="auto"&&p.setDarkMode(_),le.trigger("afterupdate",f,d)}},updateTransform:function(l){var c=this,f=this._model,d=this._api;if(f){f.setUpdatePayload(l);var p=[];f.eachComponent(function(y,m){if(y!=="series"){var _=c.getViewOfComponentModel(m);if(_&&_.__alive)if(_.updateTransform){var w=_.updateTransform(m,f,d,l);w&&w.update&&p.push(_)}else p.push(_)}});var g=I();f.eachSeries(function(y){var m=c._chartsMap[y.__viewId];if(m.updateTransform){var _=m.updateTransform(y,f,d,l);_&&_.update&&g.set(y.uid,1)}else g.set(y.uid,1)}),t(f),this._scheduler.performVisualTasks(f,l,{setDirty:!0,dirtyMap:g}),Et(this,f,d,l,{},g),le.trigger("afterupdate",f,d)}},updateView:function(l){var c=this._model;c&&(c.setUpdatePayload(l),ct.markUpdateMethod(l,"updateView"),t(c),this._scheduler.performVisualTasks(c,l,{setDirty:!0}),yr(this,c,this._api,l,{}),le.trigger("afterupdate",c,this._api))},updateVisual:function(l){var c=this,f=this._model;f&&(f.setUpdatePayload(l),f.eachSeries(function(d){d.getData().clearAllVisual()}),ct.markUpdateMethod(l,"updateVisual"),t(f),this._scheduler.performVisualTasks(f,l,{visualType:"visual",setDirty:!0}),f.eachComponent(function(d,p){if(d!=="series"){var g=c.getViewOfComponentModel(p);g&&g.__alive&&g.updateVisual(p,f,c._api,l)}}),f.eachSeries(function(d){var p=c._chartsMap[d.__viewId];p.updateVisual(d,f,c._api,l)}),le.trigger("afterupdate",f,this._api))},updateLayout:function(l){be.update.call(this,l)}},dr=function(l,c,f,d){if(l._disposed){Q(l.id);return}for(var p=l._model,g=l._coordSysMgr.getCoordinateSystems(),y,m=Jt(p,f),_=0;_<g.length;_++){var w=g[_];if(w[c]&&(y=w[c](p,m,d))!=null)return y}se("No coordinate system that supports "+c+" found by the given finder.")},pr=function(l,c){var f=l._chartsMap,d=l._scheduler;c.eachSeries(function(p){d.updateStreamModes(p,f[p.__viewId])})},gr=function(l,c){var f=this,d=this.getModel(),p=l.type,g=l.escapeConnect,y=Gt[p],m=y.actionInfo,_=(m.update||"update").split(":"),w=_.pop(),C=_[0]!=null&&ce(_[0]);this[z]=!0;var T=[l],D=!1;l.batch&&(D=!0,T=O(l.batch,function(P){return P=_t(H({},P),l),P.batch=null,P}));var x=[],b,E=Dr(l),A=wn(l);if(A&&za(this._api),S(T,function(P){if(b=y.action(P,f._model,f._api),b=b||H({},P),b.type=m.event||b.type,x.push(b),A){var Te=Aa(l),Y=Te.queryOptionMap,$e=Te.mainTypeSpecified,Qe=$e?Y.keys()[0]:"series";At(f,w,P,Qe),ne(f)}else E?(At(f,w,P,"series"),ne(f)):C&&At(f,w,P,C.main,C.sub)}),w!=="none"&&!A&&!E&&!C)try{this[K]?(We(this),be.update.call(this,l),this[K]=null):be[w].call(this,l)}catch(P){throw this[z]=!1,P}if(D?b={type:m.event||p,escapeConnect:g,batch:x}:b=x[0],this[z]=!1,!c){var L=this._messageCenter;if(L.trigger(b.type,b),E){var $={type:"selectchanged",escapeConnect:g,selected:Oo(d),isFromClick:l.isFromClick||!1,fromAction:l.type,fromActionPayload:l};L.trigger($.type,$)}}},nt=function(l){for(var c=this._pendingActions;c.length;){var f=c.shift();gr.call(this,f,l)}},at=function(l){!l&&this.trigger("updated")},oa=function(l,c){l.on("rendered",function(f){c.trigger("rendered",f),l.animation.isFinished()&&!c[K]&&!c._scheduler.unfinished&&!c._pendingActions.length&&c.trigger("finished")})},sa=function(l,c){l.on("mouseover",function(f){var d=f.target,p=xt(d,Ke);p&&(No(p,f,c._api),ne(c))}).on("mouseout",function(f){var d=f.target,p=xt(d,Ke);p&&(Vo(p,f,c._api),ne(c))}).on("click",function(f){var d=f.target,p=xt(d,function(m){return Be(m).dataIndex!=null},!0);if(p){var g=p.selected?"unselect":"select",y=Be(p);c._api.dispatchAction({type:g,dataType:y.dataType,dataIndexInside:y.dataIndex,seriesIndex:y.seriesIndex,isFromClick:!0})}})};function t(l){l.clearColorPalette(),l.eachSeries(function(c){c.clearColorPalette()})}function n(l){var c=[],f=[],d=!1;if(l.eachComponent(function(m,_){var w=_.get("zlevel")||0,C=_.get("z")||0,T=_.getZLevelKey();d=d||!!T,(m==="series"?f:c).push({zlevel:w,z:C,idx:_.componentIndex,type:m,key:T})}),d){var p=c.concat(f),g,y;Qt(p,function(m,_){return m.zlevel===_.zlevel?m.z-_.z:m.zlevel-_.zlevel}),S(p,function(m){var _=l.getComponent(m.type,m.idx),w=m.zlevel,C=m.key;g!=null&&(w=Math.max(g,w)),C?(w===g&&C!==y&&w++,y=C):y&&(w===g&&w++,y=""),g=w,_.setZLevel(w)})}}yr=function(l,c,f,d,p){n(c),ua(l,c,f,d,p),S(l._chartsViews,function(g){g.__alive=!1}),Et(l,c,f,d,p),S(l._chartsViews,function(g){g.__alive||g.remove(c,f)})},ua=function(l,c,f,d,p,g){S(g||l._componentsViews,function(y){var m=y.__model;h(m,y),y.render(m,c,f,d),s(m,y),v(m,y)})},Et=function(l,c,f,d,p,g){var y=l._scheduler;p=H(p||{},{updatedSeries:c.getSeries()}),le.trigger("series:beforeupdate",c,f,p);var m=!1;c.eachSeries(function(_){var w=l._chartsMap[_.__viewId];w.__alive=!0;var C=w.renderTask;y.updatePayload(C,d),h(_,w),g&&g.get(_.uid)&&C.dirty(),C.perform(y.getPerformArgs(C))&&(m=!0),w.group.silent=!!_.get("silent"),o(_,w),Sn(_)}),y.unfinished=m||y.unfinished,le.trigger("series:layoutlabels",c,f,p),le.trigger("series:transition",c,f,p),c.eachSeries(function(_){var w=l._chartsMap[_.__viewId];s(_,w),v(_,w)}),i(l,c),le.trigger("series:afterupdate",c,f,p)},ne=function(l){l[cr]=!0,l.getZr().wakeUp()},fa=function(l){l[cr]&&(l.getZr().storage.traverse(function(c){er(c)||a(c)}),l[cr]=!1)};function a(l){for(var c=[],f=l.currentStates,d=0;d<f.length;d++){var p=f[d];p==="emphasis"||p==="blur"||p==="select"||c.push(p)}l.selected&&l.states.select&&c.push("select"),l.hoverState===Gr&&l.states.emphasis?c.push("emphasis"):l.hoverState===Ur&&l.states.blur&&c.push("blur"),l.useStates(c)}function i(l,c){var f=l._zr,d=f.storage,p=0;d.traverse(function(g){g.isGroup||p++}),p>c.get("hoverLayerThreshold")&&!ge.node&&!ge.worker&&c.eachSeries(function(g){if(!g.preventUsingHoverLayer){var y=l._chartsMap[g.__viewId];y.__alive&&y.eachRendered(function(m){m.states.emphasis&&(m.states.emphasis.hoverLayer=!0)})}})}function o(l,c){var f=l.get("blendMode")||null;c.eachRendered(function(d){d.isGroup||(d.style.blend=f)})}function s(l,c){if(!l.preventAutoZ){var f=l.get("z")||0,d=l.get("zlevel")||0;c.eachRendered(function(p){return u(p,f,d,-1/0),!0})}}function u(l,c,f,d){var p=l.getTextContent(),g=l.getTextGuideLine(),y=l.isGroup;if(y)for(var m=l.childrenRef(),_=0;_<m.length;_++)d=Math.max(u(m[_],c,f,d),d);else l.z=c,l.zlevel=f,d=Math.max(l.z2,d);if(p&&(p.z=c,p.zlevel=f,isFinite(d)&&(p.z2=d+2)),g){var w=l.textGuideLineConfig;g.z=c,g.zlevel=f,isFinite(d)&&(g.z2=d+(w&&w.showAbove?1:-1))}return d}function h(l,c){c.eachRendered(function(f){if(!er(f)){var d=f.getTextContent(),p=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),d&&d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function v(l,c){var f=l.getModel("stateAnimation"),d=l.isAnimationEnabled(),p=f.get("duration"),g=p>0?{duration:p,delay:f.get("delay"),easing:f.get("easing")}:null;c.eachRendered(function(y){if(y.states&&y.states.emphasis){if(er(y))return;if(y instanceof Ze&&Uo(y),y.__dirty){var m=y.prevStates;m&&y.useStates(m)}if(d){y.stateTransition=g;var _=y.getTextContent(),w=y.getTextGuideLine();_&&(_.stateTransition=g),w&&(w.stateTransition=g)}y.__dirty&&a(y)}})}la=function(l){return new(function(c){Ve(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.prototype.getCoordinateSystems=function(){return l._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(d){for(;d;){var p=d.__ecComponentInfo;if(p!=null)return l._model.getComponent(p.mainType,p.index);d=d.parent}},f.prototype.enterEmphasis=function(d,p){Sr(d,p),ne(l)},f.prototype.leaveEmphasis=function(d,p){wr(d,p),ne(l)},f.prototype.enterBlur=function(d){Lo(d),ne(l)},f.prototype.leaveBlur=function(d){Na(d),ne(l)},f.prototype.enterSelect=function(d){Va(d),ne(l)},f.prototype.leaveSelect=function(d){Fa(d),ne(l)},f.prototype.getModel=function(){return l.getModel()},f.prototype.getViewOfComponentModel=function(d){return l.getViewOfComponentModel(d)},f.prototype.getViewOfSeriesModel=function(d){return l.getViewOfSeriesModel(d)},f}(qa))(l)},Si=function(l){function c(f,d){for(var p=0;p<f.length;p++){var g=f[p];g[hr]=d}}S(ht,function(f,d){l._messageCenter.on(d,function(p){if(ca[l.group]&&l[hr]!==ia){if(p&&p.escapeConnect)return;var g=l.makeActionFromEvent(p),y=[];S(vt,function(m){m!==l&&m.group===l.group&&y.push(m)}),c(y,ia),S(y,function(m){m[hr]!==Sl&&m.dispatchAction(g)}),c(y,wl)}})})}}(),e}(Ht),Qr=wi.prototype;Qr.on=pi("on");Qr.off=pi("off");Qr.one=function(r,e,t){var n=this;he("ECharts#one is deprecated.");function a(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e&&e.apply&&e.apply(this,i),n.off(r,a)}this.on.call(this,r,a,t)};var Cl=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Q(r){se("Instance "+r+" has been disposed")}var Gt={},ht={},Ir=[],Rr=[],kr=[],Ci={},Pr={},vt={},ca={},Tl=+new Date-0,Jr="_echarts_instance_";function Il(r,e,t){var n=!(t&&t.ssr);if(n){if(!r)throw new Error("Initialize failed: invalid dom.");var a=Dl(r);if(a)return se("There is a chart instance already initialized on the dom."),a;$i(r)&&r.nodeName.toUpperCase()!=="CANVAS"&&(!r.clientWidth&&(!t||t.width==null)||!r.clientHeight&&(!t||t.height==null))&&se("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var i=new wi(r,e,t);return i.id="ec_"+Tl++,vt[i.id]=i,n&&Ea(r,Jr,i.id),Si(i),le.trigger("afterinit",i),i}function Dl(r){return vt[_o(r,Jr)]}function Ti(r,e){Ci[r]=e}function bl(r){me(Rr,r)<0&&Rr.push(r)}function Ml(r,e){Di(Ir,r,e,yl)}function St(r,e,t){J(e)&&(t=e,e="");var n=R(r)?r.type:[r,r={event:e}][0];r.event=(r.event||n).toLowerCase(),e=r.event,!ht[e]&&(M(aa.test(n)&&aa.test(e)),Gt[n]||(Gt[n]={action:t,actionInfo:r}),ht[e]=n)}function je(r,e){Di(kr,r,e,ml,"visual")}var ha=[];function Di(r,e,t,n,a){(J(e)||R(e))&&(t=e,e=n);{if(isNaN(e)||e==null)throw new Error("Illegal priority");S(r,function(o){M(o.__raw!==t)})}if(!(me(ha,t)>=0)){ha.push(t);var i=oi.wrapStageHandler(t,a);i.__prio=e,i.__raw=t,r.push(i)}}function xl(r,e){Pr[r]=e}je(di,Vu);je($r,Fu);je($r,Ou);je(di,Qu);je($r,Ju);je(_l,dl);bl($a);Ml(gl,Ys);xl("default",zu);St({type:Ne,event:Ne,update:Ne},Xe);St({type:It,event:It,update:It},Xe);St({type:st,event:st,update:st},Xe);St({type:Rt,event:Rt,update:Rt},Xe);St({type:ut,event:ut,update:ut},Xe);Ti("light",ju);Ti("dark",fi);export{Il as i,Bu as t};
