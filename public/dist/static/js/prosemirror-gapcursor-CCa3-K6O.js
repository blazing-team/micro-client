const _0x13610e=_0x31e4;(function(_0x14a77e,_0x32c3c9){const _0x3204c1=_0x31e4,_0x45e819=_0x14a77e();while(!![]){try{const _0x897070=-parseInt(_0x3204c1(0x1d2))/0x1+parseInt(_0x3204c1(0x1a2))/0x2+-parseInt(_0x3204c1(0x1bf))/0x3+parseInt(_0x3204c1(0x1b3))/0x4+parseInt(_0x3204c1(0x19c))/0x5+-parseInt(_0x3204c1(0x1a3))/0x6+parseInt(_0x3204c1(0x1c3))/0x7;if(_0x897070===_0x32c3c9)break;else _0x45e819['push'](_0x45e819['shift']());}catch(_0x5898ee){_0x45e819['push'](_0x45e819['shift']());}}}(_0x3990,0xc570b));import{a as _0x55da0a}from'./prosemirror-keymap-dTE5U1JE.js';import{P as _0x52c95d,T as _0xe1093e,N as _0x1d1c97,S as _0x2c8810}from'./prosemirror-state-DcLGimL2.js';import{F as _0x531f75,b as _0x113d4e}from'./prosemirror-model-CRZLy2j9.js';import{a as _0x2f349c,D as _0x6838f8}from'./prosemirror-view-DEGNo2BM.js';class i extends _0x2c8810{constructor(_0x19c6a3){super(_0x19c6a3,_0x19c6a3);}[_0x13610e(0x1ab)](_0x24fb55,_0x200a9c){const _0x98c7f4=_0x13610e;let _0x5dca36=_0x24fb55[_0x98c7f4(0x1b5)](_0x200a9c[_0x98c7f4(0x1ab)](this['head']));return i[_0x98c7f4(0x19e)](_0x5dca36)?new i(_0x5dca36):_0x2c8810[_0x98c7f4(0x1c0)](_0x5dca36);}[_0x13610e(0x1db)](){return _0x113d4e['empty'];}['eq'](_0x2a5137){const _0xf23b06=_0x13610e;return _0x2a5137 instanceof i&&_0x2a5137[_0xf23b06(0x1ae)]==this[_0xf23b06(0x1ae)];}[_0x13610e(0x1d0)](){const _0x30497c=_0x13610e;return{'type':_0x30497c(0x1cf),'pos':this[_0x30497c(0x1ae)]};}static[_0x13610e(0x1bb)](_0x430370,_0x4327fc){const _0x5ceed7=_0x13610e;if(typeof _0x4327fc[_0x5ceed7(0x1a4)]!=_0x5ceed7(0x1dd))throw new RangeError(_0x5ceed7(0x1a9));return new i(_0x430370[_0x5ceed7(0x1b5)](_0x4327fc['pos']));}['getBookmark'](){return new d(this['anchor']);}static['valid'](_0x12729a){const _0x23ae20=_0x13610e;let _0x8cf595=_0x12729a[_0x23ae20(0x1c2)];if(_0x8cf595['isTextblock']||!A(_0x12729a)||!y(_0x12729a))return!0x1;let _0x4cbeaa=_0x8cf595[_0x23ae20(0x1cd)][_0x23ae20(0x19d)][_0x23ae20(0x1ad)];if(_0x4cbeaa!=null)return _0x4cbeaa;let _0x1f74b5=_0x8cf595[_0x23ae20(0x1b2)](_0x12729a[_0x23ae20(0x19a)]())['defaultType'];return _0x1f74b5&&_0x1f74b5[_0x23ae20(0x1cb)];}static[_0x13610e(0x1aa)](_0x534b21,_0x3d1023,_0x37ce54=!0x1){const _0x51f413=_0x13610e;_0x5e1912:for(;;){if(!_0x37ce54&&i[_0x51f413(0x19e)](_0x534b21))return _0x534b21;let _0x5c32e2=_0x534b21[_0x51f413(0x1a4)],_0x152b19=null;for(let _0x373db8=_0x534b21[_0x51f413(0x1ac)];;_0x373db8--){let _0x85896a=_0x534b21['node'](_0x373db8);if(_0x3d1023>0x0?_0x534b21[_0x51f413(0x1d6)](_0x373db8)<_0x85896a['childCount']:_0x534b21[_0x51f413(0x19a)](_0x373db8)>0x0){_0x152b19=_0x85896a[_0x51f413(0x1c8)](_0x3d1023>0x0?_0x534b21[_0x51f413(0x1d6)](_0x373db8):_0x534b21[_0x51f413(0x19a)](_0x373db8)-0x1);break;}else{if(_0x373db8==0x0)return null;}_0x5c32e2+=_0x3d1023;let _0x4e4d9b=_0x534b21[_0x51f413(0x1ce)][_0x51f413(0x1b5)](_0x5c32e2);if(i['valid'](_0x4e4d9b))return _0x4e4d9b;}for(;;){let _0xc49d8e=_0x3d1023>0x0?_0x152b19[_0x51f413(0x1c6)]:_0x152b19[_0x51f413(0x19b)];if(!_0xc49d8e){if(_0x152b19[_0x51f413(0x1c5)]&&!_0x152b19[_0x51f413(0x1d5)]&&!_0x1d1c97[_0x51f413(0x1b9)](_0x152b19)){_0x534b21=_0x534b21[_0x51f413(0x1ce)][_0x51f413(0x1b5)](_0x5c32e2+_0x152b19[_0x51f413(0x1da)]*_0x3d1023),_0x37ce54=!0x1;continue _0x5e1912;}break;}_0x152b19=_0xc49d8e,_0x5c32e2+=_0x3d1023;let _0x307f9d=_0x534b21[_0x51f413(0x1ce)][_0x51f413(0x1b5)](_0x5c32e2);if(i['valid'](_0x307f9d))return _0x307f9d;}return null;}}}i['prototype']['visible']=!0x1,i['findFrom']=i['findGapCursorFrom'],_0x2c8810[_0x13610e(0x1be)](_0x13610e(0x1cf),i);class d{constructor(_0x1b6058){this['pos']=_0x1b6058;}[_0x13610e(0x1ab)](_0x51b1b1){const _0x468ab3=_0x13610e;return new d(_0x51b1b1[_0x468ab3(0x1ab)](this['pos']));}[_0x13610e(0x1b5)](_0x4d27a2){const _0x57e047=_0x13610e;let _0x518d6b=_0x4d27a2['resolve'](this[_0x57e047(0x1a4)]);return i[_0x57e047(0x19e)](_0x518d6b)?new i(_0x518d6b):_0x2c8810[_0x57e047(0x1c0)](_0x518d6b);}}function C(_0x21394a){const _0x3c7e69=_0x13610e;return _0x21394a[_0x3c7e69(0x1c5)]||_0x21394a[_0x3c7e69(0x19d)][_0x3c7e69(0x1a0)]||_0x21394a['spec']['createGapCursor'];}function A(_0x3067ae){const _0x385154=_0x13610e;for(let _0x250007=_0x3067ae['depth'];_0x250007>=0x0;_0x250007--){let _0x3aafe4=_0x3067ae[_0x385154(0x19a)](_0x250007),_0x254cba=_0x3067ae[_0x385154(0x1d4)](_0x250007);if(_0x3aafe4==0x0){if(_0x254cba[_0x385154(0x1cd)][_0x385154(0x19d)]['isolating'])return!0x0;continue;}for(let _0x1790f9=_0x254cba[_0x385154(0x1c8)](_0x3aafe4-0x1);;_0x1790f9=_0x1790f9[_0x385154(0x19b)]){if(_0x1790f9['childCount']==0x0&&!_0x1790f9[_0x385154(0x1d3)]||C(_0x1790f9[_0x385154(0x1cd)]))return!0x0;if(_0x1790f9['inlineContent'])return!0x1;}}return!0x0;}function y(_0x278730){const _0x4881b1=_0x13610e;for(let _0x304002=_0x278730[_0x4881b1(0x1ac)];_0x304002>=0x0;_0x304002--){let _0x3b0bd1=_0x278730[_0x4881b1(0x1d6)](_0x304002),_0x253893=_0x278730[_0x4881b1(0x1d4)](_0x304002);if(_0x3b0bd1==_0x253893['childCount']){if(_0x253893[_0x4881b1(0x1cd)][_0x4881b1(0x19d)][_0x4881b1(0x1a0)])return!0x0;continue;}for(let _0x505fd5=_0x253893[_0x4881b1(0x1c8)](_0x3b0bd1);;_0x505fd5=_0x505fd5[_0x4881b1(0x1c6)]){if(_0x505fd5['childCount']==0x0&&!_0x505fd5['inlineContent']||C(_0x505fd5['type']))return!0x0;if(_0x505fd5['inlineContent'])return!0x1;}}return!0x0;}function z(){return new _0x52c95d({'props':{'decorations':F,'createSelectionBetween'(_0x351bd5,_0x4fbf12,_0x56dc30){const _0xd7ff8c=_0x31e4;return _0x4fbf12['pos']==_0x56dc30[_0xd7ff8c(0x1a4)]&&i['valid'](_0x56dc30)?new i(_0x56dc30):null;},'handleClick':T,'handleKeyDown':k,'handleDOMEvents':{'beforeinput':D}}});}const k=_0x55da0a({'ArrowLeft':c(_0x13610e(0x1b4),-0x1),'ArrowRight':c('horiz',0x1),'ArrowUp':c(_0x13610e(0x1df),-0x1),'ArrowDown':c('vert',0x1)});function _0x3990(){const _0x194f2d=['head','replace','down','$from','contentMatchAt','2063984nGoPJj','horiz','resolve','setSelection','createElement','insertCompositionText','isSelectable','selection','fromJSON','create','inputType','jsonID','1092756oRctsl','near','empty','parent','12313455vIbblN','posAtCoords','isAtom','firstChild','before','child','inside','widget','isTextblock','$to','type','doc','gapcursor','toJSON','state','792695Gxzfnz','inlineContent','node','isText','indexAfter','createAndFill','dispatch','nodes','nodeSize','content','nodeAt','number','div','vert','index','lastChild','3705335SmUMZE','spec','valid','className','isolating','right','560922CzkNqw','7985562HreuBa','pos','clientY','findWrapping','left','schema','Invalid\x20input\x20for\x20GapCursor.fromJSON','findGapCursorFrom','map','depth','allowGapCursor'];_0x3990=function(){return _0x194f2d;};return _0x3990();}function c(_0x57c680,_0x4c9464){const _0x29f26b=_0x13610e,_0x5211b6=_0x57c680=='vert'?_0x4c9464>0x0?_0x29f26b(0x1b0):'up':_0x4c9464>0x0?_0x29f26b(0x1a1):_0x29f26b(0x1a7);return function(_0x356197,_0x52c9be,_0x5634d4){const _0x3079e7=_0x29f26b;let _0x1054ea=_0x356197['selection'],_0x35edfa=_0x4c9464>0x0?_0x1054ea[_0x3079e7(0x1cc)]:_0x1054ea[_0x3079e7(0x1b1)],_0x4a4bec=_0x1054ea[_0x3079e7(0x1c1)];if(_0x1054ea instanceof _0xe1093e){if(!_0x5634d4['endOfTextblock'](_0x5211b6)||_0x35edfa[_0x3079e7(0x1ac)]==0x0)return!0x1;_0x4a4bec=!0x1,_0x35edfa=_0x356197['doc'][_0x3079e7(0x1b5)](_0x4c9464>0x0?_0x35edfa['after']():_0x35edfa[_0x3079e7(0x1c7)]());}let _0x311eff=i['findGapCursorFrom'](_0x35edfa,_0x4c9464,_0x4a4bec);return _0x311eff?(_0x52c9be&&_0x52c9be(_0x356197['tr'][_0x3079e7(0x1b6)](new i(_0x311eff))),!0x0):!0x1;};}function T(_0x519a81,_0x40a389,_0xc06cb9){const _0x1afd36=_0x13610e;if(!_0x519a81||!_0x519a81['editable'])return!0x1;let _0xb22038=_0x519a81[_0x1afd36(0x1d1)][_0x1afd36(0x1ce)][_0x1afd36(0x1b5)](_0x40a389);if(!i[_0x1afd36(0x19e)](_0xb22038))return!0x1;let _0x589ec2=_0x519a81[_0x1afd36(0x1c4)]({'left':_0xc06cb9['clientX'],'top':_0xc06cb9[_0x1afd36(0x1a5)]});return _0x589ec2&&_0x589ec2[_0x1afd36(0x1c9)]>-0x1&&_0x1d1c97[_0x1afd36(0x1b9)](_0x519a81[_0x1afd36(0x1d1)][_0x1afd36(0x1ce)][_0x1afd36(0x1dc)](_0x589ec2[_0x1afd36(0x1c9)]))?!0x1:(_0x519a81['dispatch'](_0x519a81[_0x1afd36(0x1d1)]['tr'][_0x1afd36(0x1b6)](new i(_0xb22038))),!0x0);}function _0x31e4(_0x138dd7,_0x3a176a){_0x138dd7=_0x138dd7-0x19a;const _0x3990a6=_0x3990();let _0x31e483=_0x3990a6[_0x138dd7];return _0x31e483;}function D(_0x4e1251,_0x4166ff){const _0x12daa5=_0x13610e;if(_0x4166ff[_0x12daa5(0x1bd)]!=_0x12daa5(0x1b8)||!(_0x4e1251['state'][_0x12daa5(0x1ba)]instanceof i))return!0x1;let {$from:_0x4af332}=_0x4e1251['state'][_0x12daa5(0x1ba)],_0x198e7e=_0x4af332[_0x12daa5(0x1c2)][_0x12daa5(0x1b2)](_0x4af332[_0x12daa5(0x19a)]())[_0x12daa5(0x1a6)](_0x4e1251['state'][_0x12daa5(0x1a8)][_0x12daa5(0x1d9)]['text']);if(!_0x198e7e)return!0x1;let _0x35ca2d=_0x531f75[_0x12daa5(0x1c1)];for(let _0x48af4d=_0x198e7e['length']-0x1;_0x48af4d>=0x0;_0x48af4d--)_0x35ca2d=_0x531f75['from'](_0x198e7e[_0x48af4d][_0x12daa5(0x1d7)](null,_0x35ca2d));let _0x14b4ab=_0x4e1251[_0x12daa5(0x1d1)]['tr'][_0x12daa5(0x1af)](_0x4af332['pos'],_0x4af332[_0x12daa5(0x1a4)],new _0x113d4e(_0x35ca2d,0x0,0x0));return _0x14b4ab[_0x12daa5(0x1b6)](_0xe1093e['near'](_0x14b4ab[_0x12daa5(0x1ce)]['resolve'](_0x4af332[_0x12daa5(0x1a4)]+0x1))),_0x4e1251[_0x12daa5(0x1d8)](_0x14b4ab),!0x1;}function F(_0x40ee1e){const _0x23ec16=_0x13610e;if(!(_0x40ee1e[_0x23ec16(0x1ba)]instanceof i))return null;let _0x590429=document[_0x23ec16(0x1b7)](_0x23ec16(0x1de));return _0x590429[_0x23ec16(0x19f)]='ProseMirror-gapcursor',_0x2f349c[_0x23ec16(0x1bc)](_0x40ee1e[_0x23ec16(0x1ce)],[_0x6838f8[_0x23ec16(0x1ca)](_0x40ee1e['selection']['head'],_0x590429,{'key':_0x23ec16(0x1cf)})]);}export{z as g};