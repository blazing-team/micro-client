const _0xd4efb=_0xf05d;(function(_0x305fb2,_0x1a5265){const _0x218f20=_0xf05d,_0xcb143d=_0x305fb2();while(!![]){try{const _0x4f0308=parseInt(_0x218f20(0x204))/0x1+parseInt(_0x218f20(0x210))/0x2+-parseInt(_0x218f20(0x225))/0x3+-parseInt(_0x218f20(0x227))/0x4*(parseInt(_0x218f20(0x203))/0x5)+parseInt(_0x218f20(0x20c))/0x6+-parseInt(_0x218f20(0x21c))/0x7*(-parseInt(_0x218f20(0x21a))/0x8)+-parseInt(_0x218f20(0x1e9))/0x9;if(_0x4f0308===_0x1a5265)break;else _0xcb143d['push'](_0xcb143d['shift']());}catch(_0x2d8c0e){_0xcb143d['push'](_0xcb143d['shift']());}}}(_0xf840,0xc5899));import{a as _0x237ef0}from'./prosemirror-keymap-dTE5U1JE.js';import{P as _0x4bde66,T as _0x24d438,N as _0x24293d,S as _0x1a8eab}from'./prosemirror-state-DcLGimL2.js';import{F as _0x3ffc81,b as _0x4d4c27}from'./prosemirror-model-CRZLy2j9.js';import{a as _0x204f23,D as _0x292f28}from'./prosemirror-view-DEGNo2BM.js';class i extends _0x1a8eab{constructor(_0x11d960){super(_0x11d960,_0x11d960);}['map'](_0xfa218a,_0x1e11de){const _0x22935c=_0xf05d;let _0x1d2b7a=_0xfa218a['resolve'](_0x1e11de[_0x22935c(0x222)](this[_0x22935c(0x1fe)]));return i[_0x22935c(0x21e)](_0x1d2b7a)?new i(_0x1d2b7a):_0x1a8eab[_0x22935c(0x214)](_0x1d2b7a);}['content'](){const _0x34bac5=_0xf05d;return _0x4d4c27[_0x34bac5(0x21d)];}['eq'](_0x4a21fd){const _0x38a5c0=_0xf05d;return _0x4a21fd instanceof i&&_0x4a21fd['head']==this[_0x38a5c0(0x1fe)];}['toJSON'](){const _0x5ea843=_0xf05d;return{'type':_0x5ea843(0x215),'pos':this[_0x5ea843(0x1fe)]};}static['fromJSON'](_0x4e8542,_0x1c7f04){const _0x44770c=_0xf05d;if(typeof _0x1c7f04[_0x44770c(0x218)]!=_0x44770c(0x1ef))throw new RangeError('Invalid\x20input\x20for\x20GapCursor.fromJSON');return new i(_0x4e8542[_0x44770c(0x1e4)](_0x1c7f04[_0x44770c(0x218)]));}[_0xd4efb(0x1e0)](){const _0x46020c=_0xd4efb;return new d(this[_0x46020c(0x1f7)]);}static[_0xd4efb(0x21e)](_0x5bc21e){const _0x1f5a16=_0xd4efb;let _0x55fab1=_0x5bc21e[_0x1f5a16(0x20e)];if(_0x55fab1[_0x1f5a16(0x1f6)]||!A(_0x5bc21e)||!y(_0x5bc21e))return!0x1;let _0x3c7b05=_0x55fab1['type']['spec'][_0x1f5a16(0x1ee)];if(_0x3c7b05!=null)return _0x3c7b05;let _0x20b500=_0x55fab1[_0x1f5a16(0x1ff)](_0x5bc21e[_0x1f5a16(0x1e5)]())[_0x1f5a16(0x21f)];return _0x20b500&&_0x20b500[_0x1f5a16(0x1f6)];}static['findGapCursorFrom'](_0x3e0746,_0x5b4d33,_0x1ac609=!0x1){const _0x5a63b4=_0xd4efb;_0x4afc98:for(;;){if(!_0x1ac609&&i[_0x5a63b4(0x21e)](_0x3e0746))return _0x3e0746;let _0xefb19d=_0x3e0746[_0x5a63b4(0x218)],_0xcb414e=null;for(let _0x4c1938=_0x3e0746[_0x5a63b4(0x211)];;_0x4c1938--){let _0x4b5500=_0x3e0746[_0x5a63b4(0x1e2)](_0x4c1938);if(_0x5b4d33>0x0?_0x3e0746['indexAfter'](_0x4c1938)<_0x4b5500['childCount']:_0x3e0746['index'](_0x4c1938)>0x0){_0xcb414e=_0x4b5500[_0x5a63b4(0x20a)](_0x5b4d33>0x0?_0x3e0746[_0x5a63b4(0x217)](_0x4c1938):_0x3e0746[_0x5a63b4(0x1e5)](_0x4c1938)-0x1);break;}else{if(_0x4c1938==0x0)return null;}_0xefb19d+=_0x5b4d33;let _0x14320e=_0x3e0746[_0x5a63b4(0x1e3)][_0x5a63b4(0x1e4)](_0xefb19d);if(i['valid'](_0x14320e))return _0x14320e;}for(;;){let _0x1a7fa9=_0x5b4d33>0x0?_0xcb414e[_0x5a63b4(0x1fc)]:_0xcb414e[_0x5a63b4(0x224)];if(!_0x1a7fa9){if(_0xcb414e[_0x5a63b4(0x1df)]&&!_0xcb414e[_0x5a63b4(0x205)]&&!_0x24293d['isSelectable'](_0xcb414e)){_0x3e0746=_0x3e0746[_0x5a63b4(0x1e3)][_0x5a63b4(0x1e4)](_0xefb19d+_0xcb414e['nodeSize']*_0x5b4d33),_0x1ac609=!0x1;continue _0x4afc98;}break;}_0xcb414e=_0x1a7fa9,_0xefb19d+=_0x5b4d33;let _0x2380ba=_0x3e0746['doc'][_0x5a63b4(0x1e4)](_0xefb19d);if(i[_0x5a63b4(0x21e)](_0x2380ba))return _0x2380ba;}return null;}}}i[_0xd4efb(0x221)][_0xd4efb(0x1eb)]=!0x1,i[_0xd4efb(0x1fb)]=i['findGapCursorFrom'],_0x1a8eab['jsonID'](_0xd4efb(0x215),i);class d{constructor(_0x274ab1){this['pos']=_0x274ab1;}['map'](_0xf3cddb){const _0x239912=_0xd4efb;return new d(_0xf3cddb[_0x239912(0x222)](this['pos']));}[_0xd4efb(0x1e4)](_0x1ecb71){const _0x9f26b5=_0xd4efb;let _0x40dac7=_0x1ecb71['resolve'](this[_0x9f26b5(0x218)]);return i[_0x9f26b5(0x21e)](_0x40dac7)?new i(_0x40dac7):_0x1a8eab[_0x9f26b5(0x214)](_0x40dac7);}}function C(_0x152b51){const _0x40d0ac=_0xd4efb;return _0x152b51[_0x40d0ac(0x1df)]||_0x152b51[_0x40d0ac(0x20b)][_0x40d0ac(0x206)]||_0x152b51['spec']['createGapCursor'];}function A(_0x384771){const _0xb4ac86=_0xd4efb;for(let _0x49ea33=_0x384771['depth'];_0x49ea33>=0x0;_0x49ea33--){let _0x2b2f7a=_0x384771[_0xb4ac86(0x1e5)](_0x49ea33),_0x734c62=_0x384771[_0xb4ac86(0x1e2)](_0x49ea33);if(_0x2b2f7a==0x0){if(_0x734c62[_0xb4ac86(0x20f)][_0xb4ac86(0x20b)]['isolating'])return!0x0;continue;}for(let _0x27cefd=_0x734c62[_0xb4ac86(0x20a)](_0x2b2f7a-0x1);;_0x27cefd=_0x27cefd[_0xb4ac86(0x224)]){if(_0x27cefd[_0xb4ac86(0x1e6)]==0x0&&!_0x27cefd[_0xb4ac86(0x226)]||C(_0x27cefd[_0xb4ac86(0x20f)]))return!0x0;if(_0x27cefd[_0xb4ac86(0x226)])return!0x1;}}return!0x0;}function y(_0x1ab6e9){const _0x3b7ab4=_0xd4efb;for(let _0x247cb4=_0x1ab6e9['depth'];_0x247cb4>=0x0;_0x247cb4--){let _0x5cd4ee=_0x1ab6e9[_0x3b7ab4(0x217)](_0x247cb4),_0x5396df=_0x1ab6e9[_0x3b7ab4(0x1e2)](_0x247cb4);if(_0x5cd4ee==_0x5396df['childCount']){if(_0x5396df[_0x3b7ab4(0x20f)]['spec']['isolating'])return!0x0;continue;}for(let _0x1f97da=_0x5396df[_0x3b7ab4(0x20a)](_0x5cd4ee);;_0x1f97da=_0x1f97da[_0x3b7ab4(0x1fc)]){if(_0x1f97da['childCount']==0x0&&!_0x1f97da['inlineContent']||C(_0x1f97da['type']))return!0x0;if(_0x1f97da[_0x3b7ab4(0x226)])return!0x1;}}return!0x0;}function z(){return new _0x4bde66({'props':{'decorations':F,'createSelectionBetween'(_0x2f9225,_0x251129,_0x1a2f4e){const _0x4dd0bf=_0xf05d;return _0x251129[_0x4dd0bf(0x218)]==_0x1a2f4e[_0x4dd0bf(0x218)]&&i['valid'](_0x1a2f4e)?new i(_0x1a2f4e):null;},'handleClick':T,'handleKeyDown':k,'handleDOMEvents':{'beforeinput':D}}});}const k=_0x237ef0({'ArrowLeft':c(_0xd4efb(0x1f0),-0x1),'ArrowRight':c('horiz',0x1),'ArrowUp':c(_0xd4efb(0x1f4),-0x1),'ArrowDown':c(_0xd4efb(0x1f4),0x1)});function c(_0x62a28e,_0x16c3fe){const _0x30570a=_0xd4efb,_0x365e73=_0x62a28e==_0x30570a(0x1f4)?_0x16c3fe>0x0?_0x30570a(0x1e7):'up':_0x16c3fe>0x0?_0x30570a(0x1f2):_0x30570a(0x223);return function(_0x36b6f2,_0x406abc,_0x47c2ad){const _0x28ff4e=_0x30570a;let _0x18bed2=_0x36b6f2[_0x28ff4e(0x1ec)],_0x54f86c=_0x16c3fe>0x0?_0x18bed2[_0x28ff4e(0x213)]:_0x18bed2['$from'],_0xbac0fd=_0x18bed2[_0x28ff4e(0x21d)];if(_0x18bed2 instanceof _0x24d438){if(!_0x47c2ad['endOfTextblock'](_0x365e73)||_0x54f86c[_0x28ff4e(0x211)]==0x0)return!0x1;_0xbac0fd=!0x1,_0x54f86c=_0x36b6f2[_0x28ff4e(0x1e3)][_0x28ff4e(0x1e4)](_0x16c3fe>0x0?_0x54f86c[_0x28ff4e(0x1e1)]():_0x54f86c[_0x28ff4e(0x1ed)]());}let _0x2423b2=i['findGapCursorFrom'](_0x54f86c,_0x16c3fe,_0xbac0fd);return _0x2423b2?(_0x406abc&&_0x406abc(_0x36b6f2['tr'][_0x28ff4e(0x201)](new i(_0x2423b2))),!0x0):!0x1;};}function T(_0x10956e,_0x448a95,_0x5e2a2d){const _0x4580=_0xd4efb;if(!_0x10956e||!_0x10956e[_0x4580(0x21b)])return!0x1;let _0x13440f=_0x10956e['state']['doc'][_0x4580(0x1e4)](_0x448a95);if(!i['valid'](_0x13440f))return!0x1;let _0x3ad3d9=_0x10956e['posAtCoords']({'left':_0x5e2a2d[_0x4580(0x216)],'top':_0x5e2a2d['clientY']});return _0x3ad3d9&&_0x3ad3d9[_0x4580(0x20d)]>-0x1&&_0x24293d[_0x4580(0x1f5)](_0x10956e['state'][_0x4580(0x1e3)][_0x4580(0x1f1)](_0x3ad3d9[_0x4580(0x20d)]))?!0x1:(_0x10956e[_0x4580(0x200)](_0x10956e[_0x4580(0x1f3)]['tr'][_0x4580(0x201)](new i(_0x13440f))),!0x0);}function _0xf05d(_0x72a201,_0x330e61){_0x72a201=_0x72a201-0x1df;const _0xf8402=_0xf840();let _0xf05dce=_0xf8402[_0x72a201];return _0xf05dce;}function D(_0x59e660,_0x25a547){const _0x2b5316=_0xd4efb;if(_0x25a547[_0x2b5316(0x1f8)]!='insertCompositionText'||!(_0x59e660[_0x2b5316(0x1f3)][_0x2b5316(0x1ec)]instanceof i))return!0x1;let {$from:_0x2babc9}=_0x59e660[_0x2b5316(0x1f3)][_0x2b5316(0x1ec)],_0x551cd3=_0x2babc9[_0x2b5316(0x20e)][_0x2b5316(0x1ff)](_0x2babc9[_0x2b5316(0x1e5)]())[_0x2b5316(0x1ea)](_0x59e660['state'][_0x2b5316(0x209)][_0x2b5316(0x208)][_0x2b5316(0x219)]);if(!_0x551cd3)return!0x1;let _0x39bca4=_0x3ffc81[_0x2b5316(0x21d)];for(let _0x255c9b=_0x551cd3[_0x2b5316(0x1fa)]-0x1;_0x255c9b>=0x0;_0x255c9b--)_0x39bca4=_0x3ffc81[_0x2b5316(0x202)](_0x551cd3[_0x255c9b][_0x2b5316(0x1f9)](null,_0x39bca4));let _0x1ca2a3=_0x59e660['state']['tr']['replace'](_0x2babc9[_0x2b5316(0x218)],_0x2babc9['pos'],new _0x4d4c27(_0x39bca4,0x0,0x0));return _0x1ca2a3[_0x2b5316(0x201)](_0x24d438[_0x2b5316(0x214)](_0x1ca2a3[_0x2b5316(0x1e3)][_0x2b5316(0x1e4)](_0x2babc9[_0x2b5316(0x218)]+0x1))),_0x59e660['dispatch'](_0x1ca2a3),!0x1;}function _0xf840(){const _0x26c043=['vert','isSelectable','isTextblock','anchor','inputType','createAndFill','length','findFrom','firstChild','ProseMirror-gapcursor','head','contentMatchAt','dispatch','setSelection','from','28975BzjdQt','1315004gDClNV','isText','isolating','className','nodes','schema','child','spec','3730692doEEAv','inside','parent','type','773258iPBrlm','depth','widget','$to','near','gapcursor','clientX','indexAfter','pos','text','1472SKqsFv','editable','43253BdWkGe','empty','valid','defaultType','div','prototype','map','left','lastChild','1259481adUYpj','inlineContent','16PvfqxC','isAtom','getBookmark','after','node','doc','resolve','index','childCount','down','create','19874079VoIElJ','findWrapping','visible','selection','before','allowGapCursor','number','horiz','nodeAt','right','state'];_0xf840=function(){return _0x26c043;};return _0xf840();}function F(_0xb1505c){const _0x209343=_0xd4efb;if(!(_0xb1505c['selection']instanceof i))return null;let _0x5bce45=document['createElement'](_0x209343(0x220));return _0x5bce45[_0x209343(0x207)]=_0x209343(0x1fd),_0x204f23[_0x209343(0x1e8)](_0xb1505c['doc'],[_0x292f28[_0x209343(0x212)](_0xb1505c['selection'][_0x209343(0x1fe)],_0x5bce45,{'key':_0x209343(0x215)})]);}export{z as g};