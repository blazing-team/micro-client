const _0x3c90db=_0x386d;function _0x5df6(){const _0x3815fe=['nodeAt','textContent','full','from','block','5549796JFrvSf','150XFrOuq','parse','clipboardData','resolve','startsWith','433048PQzhzX','map','language-','text/plain','$from','editor','language','codeBlock','pos','setNode','setMeta','attrs','languageClassPrefix','endsWith','nodeSize','state','selection','clearNodes','replace','text','892431nboNwS','parent','exitCode','after','2489835zAIanN','name','filter','command','paragraph','mode','toggleNode','options','commands','getData','near','206095ojTuxF','code','toggleCodeBlock','dispatch','run','pre','HTMLAttributes','classList','paste','replaceSelectionWith','2602336hRrBfF','setSelection','defaultLanguage','type','create','1145204pToOxu','chain','codeBlockVSCodeHandler'];_0x5df6=function(){return _0x3815fe;};return _0x5df6();}(function(_0x4a4d26,_0xc03c9a){const _0x2c3067=_0x386d,_0x4deb52=_0x4a4d26();while(!![]){try{const _0x4e5740=-parseInt(_0x2c3067(0xc0))/0x1+-parseInt(_0x2c3067(0xac))/0x2+parseInt(_0x2c3067(0xc4))/0x3+parseInt(_0x2c3067(0xde))/0x4+parseInt(_0x2c3067(0xcf))/0x5*(parseInt(_0x2c3067(0xe7))/0x6)+-parseInt(_0x2c3067(0xe6))/0x7+parseInt(_0x2c3067(0xd9))/0x8;if(_0x4e5740===_0xc03c9a)break;else _0x4deb52['push'](_0x4deb52['shift']());}catch(_0x564ec0){_0x4deb52['push'](_0x4deb52['shift']());}}}(_0x5df6,0x8b376));import{N as _0x3d9858,t as _0x806308,m as _0x218329}from'./@tiptap.core-HsqG-hEX.js';import{P as _0x20242a,a as _0xc98d60,T as _0x52e142,S as _0x6556eb}from'./prosemirror-state-DcLGimL2.js';function _0x386d(_0x4f2b00,_0x26503e){_0x4f2b00=_0x4f2b00-0xa8;const _0x5df6bc=_0x5df6();let _0x386dd9=_0x5df6bc[_0x4f2b00];return _0x386dd9;}const x=/^```([a-z]+)?[\s\n]$/,y=/^~~~([a-z]+)?[\s\n]$/,b=_0x3d9858[_0x3c90db(0xdd)]({'name':_0x3c90db(0xb3),'addOptions'(){const _0x1c80ae=_0x3c90db;return{'languageClassPrefix':_0x1c80ae(0xae),'exitOnTripleEnter':!0x0,'exitOnArrowDown':!0x0,'defaultLanguage':null,'HTMLAttributes':{}};},'content':'text*','marks':'','group':_0x3c90db(0xe5),'code':!0x0,'defining':!0x0,'addAttributes'(){const _0x3adf0d=_0x3c90db;return{'language':{'default':this['options'][_0x3adf0d(0xdb)],'parseHTML':_0x566abc=>{const _0x345226=_0x3adf0d;var _0x2c86dc;const {languageClassPrefix:_0x26a065}=this[_0x345226(0xcb)],_0x3127ac=[...((_0x2c86dc=_0x566abc['firstElementChild'])===null||_0x2c86dc===void 0x0?void 0x0:_0x2c86dc[_0x345226(0xd6)])||[]][_0x345226(0xc6)](_0x407058=>_0x407058[_0x345226(0xab)](_0x26a065))[_0x345226(0xad)](_0x543cc1=>_0x543cc1[_0x345226(0xbe)](_0x26a065,''))[0x0];return _0x3127ac||null;},'rendered':!0x1}};},'parseHTML'(){const _0x433b6f=_0x3c90db;return[{'tag':'pre','preserveWhitespace':_0x433b6f(0xe3)}];},'renderHTML'({node:_0x40262f,HTMLAttributes:_0x41280f}){const _0x32168d=_0x3c90db;return[_0x32168d(0xd4),_0x218329(this['options'][_0x32168d(0xd5)],_0x41280f),[_0x32168d(0xd0),{'class':_0x40262f[_0x32168d(0xb7)][_0x32168d(0xb2)]?this[_0x32168d(0xcb)][_0x32168d(0xb8)]+_0x40262f[_0x32168d(0xb7)][_0x32168d(0xb2)]:null},0x0]];},'addCommands'(){const _0x2b1fcd=_0x3c90db;return{'setCodeBlock':_0x338896=>({commands:_0x330ae4})=>_0x330ae4[_0x2b1fcd(0xb5)](this[_0x2b1fcd(0xc5)],_0x338896),'toggleCodeBlock':_0x3a083f=>({commands:_0x176df8})=>_0x176df8[_0x2b1fcd(0xca)](this['name'],_0x2b1fcd(0xc8),_0x3a083f)};},'addKeyboardShortcuts'(){const _0x1b2569=_0x3c90db;return{'Mod-Alt-c':()=>this[_0x1b2569(0xb1)][_0x1b2569(0xcc)][_0x1b2569(0xd1)](),'Backspace':()=>{const _0x331b85=_0x1b2569,{empty:_0x1e163d,$anchor:_0x5cdc38}=this['editor'][_0x331b85(0xbb)][_0x331b85(0xbc)],_0x22ed9c=_0x5cdc38[_0x331b85(0xb4)]===0x1;return!_0x1e163d||_0x5cdc38[_0x331b85(0xc1)]['type']['name']!==this[_0x331b85(0xc5)]?!0x1:_0x22ed9c||!_0x5cdc38[_0x331b85(0xc1)][_0x331b85(0xe2)]['length']?this['editor'][_0x331b85(0xcc)][_0x331b85(0xbd)]():!0x1;},'Enter':({editor:_0x2aa2ae})=>{const _0x33851a=_0x1b2569;if(!this[_0x33851a(0xcb)]['exitOnTripleEnter'])return!0x1;const {state:_0x148d2c}=_0x2aa2ae,{selection:_0x4c5fbc}=_0x148d2c,{$from:_0x32d454,empty:_0x2aab16}=_0x4c5fbc;if(!_0x2aab16||_0x32d454[_0x33851a(0xc1)][_0x33851a(0xdc)]!==this[_0x33851a(0xdc)])return!0x1;const _0x2723db=_0x32d454['parentOffset']===_0x32d454['parent'][_0x33851a(0xba)]-0x2,_0x1b4723=_0x32d454[_0x33851a(0xc1)][_0x33851a(0xe2)][_0x33851a(0xb9)]('\x0a\x0a');return!_0x2723db||!_0x1b4723?!0x1:_0x2aa2ae[_0x33851a(0xdf)]()['command'](({tr:_0x4d93d1})=>(_0x4d93d1['delete'](_0x32d454[_0x33851a(0xb4)]-0x2,_0x32d454[_0x33851a(0xb4)]),!0x0))[_0x33851a(0xc2)]()[_0x33851a(0xd3)]();},'ArrowDown':({editor:_0x272171})=>{const _0x1d4d2b=_0x1b2569;if(!this['options']['exitOnArrowDown'])return!0x1;const {state:_0x2f678d}=_0x272171,{selection:_0x3a7c3b,doc:_0x448126}=_0x2f678d,{$from:_0x510baf,empty:_0x442655}=_0x3a7c3b;if(!_0x442655||_0x510baf[_0x1d4d2b(0xc1)][_0x1d4d2b(0xdc)]!==this[_0x1d4d2b(0xdc)]||!(_0x510baf['parentOffset']===_0x510baf[_0x1d4d2b(0xc1)][_0x1d4d2b(0xba)]-0x2))return!0x1;const _0x4f6721=_0x510baf[_0x1d4d2b(0xc3)]();return _0x4f6721===void 0x0?!0x1:_0x448126[_0x1d4d2b(0xe1)](_0x4f6721)?_0x272171[_0x1d4d2b(0xcc)][_0x1d4d2b(0xc7)](({tr:_0x223d0f})=>(_0x223d0f['setSelection'](_0x6556eb[_0x1d4d2b(0xce)](_0x448126[_0x1d4d2b(0xaa)](_0x4f6721))),!0x0)):_0x272171[_0x1d4d2b(0xcc)][_0x1d4d2b(0xc2)]();}};},'addInputRules'(){const _0x57c0f4=_0x3c90db;return[_0x806308({'find':x,'type':this[_0x57c0f4(0xdc)],'getAttributes':_0x4a8915=>({'language':_0x4a8915[0x1]})}),_0x806308({'find':y,'type':this[_0x57c0f4(0xdc)],'getAttributes':_0x5d6368=>({'language':_0x5d6368[0x1]})})];},'addProseMirrorPlugins'(){const _0xd497f0=_0x3c90db;return[new _0x20242a({'key':new _0xc98d60(_0xd497f0(0xe0)),'props':{'handlePaste':(_0x1a62df,_0x3d4216)=>{const _0x4e0742=_0xd497f0;if(!_0x3d4216[_0x4e0742(0xa9)]||this[_0x4e0742(0xb1)]['isActive'](this[_0x4e0742(0xdc)][_0x4e0742(0xc5)]))return!0x1;const _0xf6a980=_0x3d4216['clipboardData'][_0x4e0742(0xcd)](_0x4e0742(0xaf)),_0x3dff52=_0x3d4216['clipboardData'][_0x4e0742(0xcd)]('vscode-editor-data'),_0x2ab334=_0x3dff52?JSON[_0x4e0742(0xa8)](_0x3dff52):void 0x0,_0x33a235=_0x2ab334==null?void 0x0:_0x2ab334[_0x4e0742(0xc9)];if(!_0xf6a980||!_0x33a235)return!0x1;const {tr:_0xcc7226,schema:_0x5a911b}=_0x1a62df[_0x4e0742(0xbb)],_0x465357=_0x5a911b[_0x4e0742(0xbf)](_0xf6a980[_0x4e0742(0xbe)](/\r\n?/g,'\x0a'));return _0xcc7226[_0x4e0742(0xd8)](this[_0x4e0742(0xdc)][_0x4e0742(0xdd)]({'language':_0x33a235},_0x465357)),_0xcc7226[_0x4e0742(0xbc)][_0x4e0742(0xb0)][_0x4e0742(0xc1)][_0x4e0742(0xdc)]!==this['type']&&_0xcc7226[_0x4e0742(0xda)](_0x52e142[_0x4e0742(0xce)](_0xcc7226['doc']['resolve'](Math['max'](0x0,_0xcc7226[_0x4e0742(0xbc)][_0x4e0742(0xe4)]-0x2)))),_0xcc7226[_0x4e0742(0xb6)](_0x4e0742(0xd7),!0x0),_0x1a62df[_0x4e0742(0xd2)](_0xcc7226),!0x0;}}})];}});export{b as C};