const _0x120c16=_0x124d;(function(_0xdf19f7,_0x433cb3){const _0xae001a=_0x124d,_0x553fe0=_0xdf19f7();while(!![]){try{const _0x30d803=parseInt(_0xae001a(0x173))/0x1+parseInt(_0xae001a(0x17a))/0x2+-parseInt(_0xae001a(0x172))/0x3+parseInt(_0xae001a(0x178))/0x4+parseInt(_0xae001a(0x168))/0x5+parseInt(_0xae001a(0x183))/0x6+-parseInt(_0xae001a(0x186))/0x7;if(_0x30d803===_0x433cb3)break;else _0x553fe0['push'](_0x553fe0['shift']());}catch(_0x3be7d6){_0x553fe0['push'](_0x553fe0['shift']());}}}(_0x2eb0,0x8d051));import{N as _0x40b0f3,t as _0x512921,m as _0x17d2d2}from'./@tiptap.core-HsqG-hEX.js';import{P as _0x563b0f,a as _0x49e94d,T as _0x1d48dc,S as _0x198b15}from'./prosemirror-state-DcLGimL2.js';function _0x2eb0(){const _0x2c7add=['options','selection','commands','classList','language-','block','nodeAt','chain','pos','paste','4101730raagza','paragraph','filter','resolve','map','setMeta','command','clipboardData','getData','$from','1249629DVeNte','437169jybrFf','toggleNode','text*','language','parse','1147676UnRTyg','endsWith','1346370vTSgKW','near','exitOnTripleEnter','toggleCodeBlock','code','firstElementChild','parentOffset','exitOnArrowDown','length','3225252GnXqvk','exitCode','state','12327007yYZzLR','text/plain','delete','editor','run','setSelection','doc','attrs','pre','defaultLanguage','text','startsWith','type','parent','replaceSelectionWith','textContent','setNode','max','name','dispatch','mode','create','after'];_0x2eb0=function(){return _0x2c7add;};return _0x2eb0();}const x=/^```([a-z]+)?[\s\n]$/,y=/^~~~([a-z]+)?[\s\n]$/,b=_0x40b0f3[_0x120c16(0x19b)]({'name':'codeBlock','addOptions'(){const _0x4c2dea=_0x120c16;return{'languageClassPrefix':_0x4c2dea(0x162),'exitOnTripleEnter':!0x0,'exitOnArrowDown':!0x0,'defaultLanguage':null,'HTMLAttributes':{}};},'content':_0x120c16(0x175),'marks':'','group':_0x120c16(0x163),'code':!0x0,'defining':!0x0,'addAttributes'(){const _0x27538e=_0x120c16;return{'language':{'default':this['options'][_0x27538e(0x18f)],'parseHTML':_0x27ba27=>{const _0x1e5615=_0x27538e;var _0x15b037;const {languageClassPrefix:_0x55cf35}=this[_0x1e5615(0x19d)],_0x5e040d=[...((_0x15b037=_0x27ba27[_0x1e5615(0x17f)])===null||_0x15b037===void 0x0?void 0x0:_0x15b037[_0x1e5615(0x1a0)])||[]][_0x1e5615(0x16a)](_0x3a1589=>_0x3a1589[_0x1e5615(0x191)](_0x55cf35))[_0x1e5615(0x16c)](_0x33ee79=>_0x33ee79['replace'](_0x55cf35,''))[0x0];return _0x5e040d||null;},'rendered':!0x1}};},'parseHTML'(){const _0x7a475f=_0x120c16;return[{'tag':_0x7a475f(0x18e),'preserveWhitespace':'full'}];},'renderHTML'({node:_0x5629d5,HTMLAttributes:_0x354f50}){const _0x115028=_0x120c16;return[_0x115028(0x18e),_0x17d2d2(this[_0x115028(0x19d)]['HTMLAttributes'],_0x354f50),[_0x115028(0x17e),{'class':_0x5629d5[_0x115028(0x18d)][_0x115028(0x176)]?this[_0x115028(0x19d)]['languageClassPrefix']+_0x5629d5[_0x115028(0x18d)][_0x115028(0x176)]:null},0x0]];},'addCommands'(){const _0x4831a8=_0x120c16;return{'setCodeBlock':_0x22163=>({commands:_0xf59911})=>_0xf59911[_0x4831a8(0x196)](this[_0x4831a8(0x198)],_0x22163),'toggleCodeBlock':_0xfeecb2=>({commands:_0x1528a1})=>_0x1528a1[_0x4831a8(0x174)](this[_0x4831a8(0x198)],_0x4831a8(0x169),_0xfeecb2)};},'addKeyboardShortcuts'(){const _0x402888=_0x120c16;return{'Mod-Alt-c':()=>this[_0x402888(0x189)][_0x402888(0x19f)][_0x402888(0x17d)](),'Backspace':()=>{const _0xd85dbf=_0x402888,{empty:_0x470316,$anchor:_0x226da7}=this[_0xd85dbf(0x189)][_0xd85dbf(0x185)]['selection'],_0x277c49=_0x226da7[_0xd85dbf(0x166)]===0x1;return!_0x470316||_0x226da7[_0xd85dbf(0x193)][_0xd85dbf(0x192)][_0xd85dbf(0x198)]!==this[_0xd85dbf(0x198)]?!0x1:_0x277c49||!_0x226da7[_0xd85dbf(0x193)][_0xd85dbf(0x195)][_0xd85dbf(0x182)]?this[_0xd85dbf(0x189)][_0xd85dbf(0x19f)]['clearNodes']():!0x1;},'Enter':({editor:_0x5d3c33})=>{const _0x40bc91=_0x402888;if(!this['options'][_0x40bc91(0x17c)])return!0x1;const {state:_0x49b08e}=_0x5d3c33,{selection:_0x20938d}=_0x49b08e,{$from:_0xfecd80,empty:_0x368696}=_0x20938d;if(!_0x368696||_0xfecd80[_0x40bc91(0x193)][_0x40bc91(0x192)]!==this[_0x40bc91(0x192)])return!0x1;const _0x3840dd=_0xfecd80[_0x40bc91(0x180)]===_0xfecd80['parent']['nodeSize']-0x2,_0x4a2722=_0xfecd80[_0x40bc91(0x193)]['textContent'][_0x40bc91(0x179)]('\x0a\x0a');return!_0x3840dd||!_0x4a2722?!0x1:_0x5d3c33[_0x40bc91(0x165)]()['command'](({tr:_0x2fb176})=>(_0x2fb176[_0x40bc91(0x188)](_0xfecd80[_0x40bc91(0x166)]-0x2,_0xfecd80[_0x40bc91(0x166)]),!0x0))[_0x40bc91(0x184)]()[_0x40bc91(0x18a)]();},'ArrowDown':({editor:_0x304ceb})=>{const _0x55b3f4=_0x402888;if(!this['options'][_0x55b3f4(0x181)])return!0x1;const {state:_0x28be7e}=_0x304ceb,{selection:_0xc3658d,doc:_0x1d8924}=_0x28be7e,{$from:_0x552a93,empty:_0x39f327}=_0xc3658d;if(!_0x39f327||_0x552a93[_0x55b3f4(0x193)][_0x55b3f4(0x192)]!==this[_0x55b3f4(0x192)]||!(_0x552a93[_0x55b3f4(0x180)]===_0x552a93['parent']['nodeSize']-0x2))return!0x1;const _0x38b62c=_0x552a93[_0x55b3f4(0x19c)]();return _0x38b62c===void 0x0?!0x1:_0x1d8924[_0x55b3f4(0x164)](_0x38b62c)?_0x304ceb[_0x55b3f4(0x19f)][_0x55b3f4(0x16e)](({tr:_0xb86581})=>(_0xb86581['setSelection'](_0x198b15[_0x55b3f4(0x17b)](_0x1d8924[_0x55b3f4(0x16b)](_0x38b62c))),!0x0)):_0x304ceb[_0x55b3f4(0x19f)][_0x55b3f4(0x184)]();}};},'addInputRules'(){const _0x379524=_0x120c16;return[_0x512921({'find':x,'type':this[_0x379524(0x192)],'getAttributes':_0x468db3=>({'language':_0x468db3[0x1]})}),_0x512921({'find':y,'type':this['type'],'getAttributes':_0x3039dc=>({'language':_0x3039dc[0x1]})})];},'addProseMirrorPlugins'(){return[new _0x563b0f({'key':new _0x49e94d('codeBlockVSCodeHandler'),'props':{'handlePaste':(_0x172997,_0x401692)=>{const _0x12414c=_0x124d;if(!_0x401692[_0x12414c(0x16f)]||this[_0x12414c(0x189)]['isActive'](this[_0x12414c(0x192)][_0x12414c(0x198)]))return!0x1;const _0x130bc7=_0x401692[_0x12414c(0x16f)][_0x12414c(0x170)](_0x12414c(0x187)),_0x43c157=_0x401692[_0x12414c(0x16f)][_0x12414c(0x170)]('vscode-editor-data'),_0x2f23cd=_0x43c157?JSON[_0x12414c(0x177)](_0x43c157):void 0x0,_0x1b107d=_0x2f23cd==null?void 0x0:_0x2f23cd[_0x12414c(0x19a)];if(!_0x130bc7||!_0x1b107d)return!0x1;const {tr:_0x163a8f,schema:_0xb1ea87}=_0x172997[_0x12414c(0x185)],_0x4f07ac=_0xb1ea87[_0x12414c(0x190)](_0x130bc7['replace'](/\r\n?/g,'\x0a'));return _0x163a8f[_0x12414c(0x194)](this[_0x12414c(0x192)][_0x12414c(0x19b)]({'language':_0x1b107d},_0x4f07ac)),_0x163a8f[_0x12414c(0x19e)][_0x12414c(0x171)]['parent'][_0x12414c(0x192)]!==this[_0x12414c(0x192)]&&_0x163a8f[_0x12414c(0x18b)](_0x1d48dc[_0x12414c(0x17b)](_0x163a8f[_0x12414c(0x18c)][_0x12414c(0x16b)](Math[_0x12414c(0x197)](0x0,_0x163a8f[_0x12414c(0x19e)]['from']-0x2)))),_0x163a8f[_0x12414c(0x16d)](_0x12414c(0x167),!0x0),_0x172997[_0x12414c(0x199)](_0x163a8f),!0x0;}}})];}});function _0x124d(_0x1c7114,_0x5669a0){_0x1c7114=_0x1c7114-0x162;const _0x2eb0fb=_0x2eb0();let _0x124d5a=_0x2eb0fb[_0x1c7114];return _0x124d5a;}export{b as C};