const _0x200187=_0x2304;function _0x2304(_0x12f60e,_0x1903e0){_0x12f60e=_0x12f60e-0x1d9;const _0x16750c=_0x1675();let _0x230470=_0x16750c[_0x12f60e];return _0x230470;}(function(_0x46db03,_0x1ebaa9){const _0x5f5805=_0x2304,_0x25c0dd=_0x46db03();while(!![]){try{const _0x26d112=-parseInt(_0x5f5805(0x1ff))/0x1*(-parseInt(_0x5f5805(0x1fe))/0x2)+parseInt(_0x5f5805(0x1fb))/0x3*(-parseInt(_0x5f5805(0x1f2))/0x4)+parseInt(_0x5f5805(0x1fd))/0x5*(-parseInt(_0x5f5805(0x1e2))/0x6)+parseInt(_0x5f5805(0x1e4))/0x7+-parseInt(_0x5f5805(0x1e9))/0x8+-parseInt(_0x5f5805(0x1f9))/0x9+-parseInt(_0x5f5805(0x1e5))/0xa*(-parseInt(_0x5f5805(0x1ec))/0xb);if(_0x26d112===_0x1ebaa9)break;else _0x25c0dd['push'](_0x25c0dd['shift']());}catch(_0x13390a){_0x25c0dd['push'](_0x25c0dd['shift']());}}}(_0x1675,0x787b6));import{N as _0x453480,t as _0x30a0de,m as _0x3200ed}from'./@tiptap.core-HsqG-hEX.js';function _0x1675(){const _0x227b98=['nodeAt','length','exitOnArrowDown','exitOnTripleEnter','filter','near','6AaiytV','startsWith','4891761snLhbA','870kkAgmi','language-','classList','create','3975976lSrDKs','options','name','173217TgPfVi','getData','$from','endsWith','clearNodes','attrs','3788mUvXTY','type','codeBlock','exitCode','vscode-editor-data','commands','from','2090898UlnezH','selection','2946pGbXfe','pos','146885wYMhyk','232VtrCwf','977kCjYHU','nodeSize','parse','clipboardData','firstElementChild','block','full','replace','HTMLAttributes','dispatch','setSelection','command','text*','text','textContent','parent','paste','languageClassPrefix','max','state','mode','resolve','editor','pre','chain'];_0x1675=function(){return _0x227b98;};return _0x1675();}import{P as _0x401562,a as _0x5b1c28,T as _0x41c5a3,S as _0x32e0c8}from'./prosemirror-state-DcLGimL2.js';const x=/^```([a-z]+)?[\s\n]$/,y=/^~~~([a-z]+)?[\s\n]$/,b=_0x453480['create']({'name':_0x200187(0x1f4),'addOptions'(){const _0x58c864=_0x200187;return{'languageClassPrefix':_0x58c864(0x1e6),'exitOnTripleEnter':!0x0,'exitOnArrowDown':!0x0,'defaultLanguage':null,'HTMLAttributes':{}};},'content':_0x200187(0x20b),'marks':'','group':_0x200187(0x204),'code':!0x0,'defining':!0x0,'addAttributes'(){const _0x4cb296=_0x200187;return{'language':{'default':this[_0x4cb296(0x1ea)]['defaultLanguage'],'parseHTML':_0x46751c=>{const _0x770b42=_0x4cb296;var _0x579b80;const {languageClassPrefix:_0x2557dc}=this[_0x770b42(0x1ea)],_0x5d7222=[...((_0x579b80=_0x46751c[_0x770b42(0x203)])===null||_0x579b80===void 0x0?void 0x0:_0x579b80[_0x770b42(0x1e7)])||[]][_0x770b42(0x1e0)](_0xbcfc9d=>_0xbcfc9d[_0x770b42(0x1e3)](_0x2557dc))['map'](_0x55bb35=>_0x55bb35[_0x770b42(0x206)](_0x2557dc,''))[0x0];return _0x5d7222||null;},'rendered':!0x1}};},'parseHTML'(){const _0x5f539d=_0x200187;return[{'tag':_0x5f539d(0x1da),'preserveWhitespace':_0x5f539d(0x205)}];},'renderHTML'({node:_0x1a1761,HTMLAttributes:_0x3fb66b}){const _0x37acaf=_0x200187;return[_0x37acaf(0x1da),_0x3200ed(this[_0x37acaf(0x1ea)][_0x37acaf(0x207)],_0x3fb66b),['code',{'class':_0x1a1761[_0x37acaf(0x1f1)]['language']?this[_0x37acaf(0x1ea)][_0x37acaf(0x210)]+_0x1a1761[_0x37acaf(0x1f1)]['language']:null},0x0]];},'addCommands'(){const _0x57ce00=_0x200187;return{'setCodeBlock':_0x10d8a4=>({commands:_0x50c6d9})=>_0x50c6d9['setNode'](this[_0x57ce00(0x1eb)],_0x10d8a4),'toggleCodeBlock':_0x3cbc10=>({commands:_0x515434})=>_0x515434['toggleNode'](this[_0x57ce00(0x1eb)],'paragraph',_0x3cbc10)};},'addKeyboardShortcuts'(){const _0x5e1b9b=_0x200187;return{'Mod-Alt-c':()=>this[_0x5e1b9b(0x1d9)][_0x5e1b9b(0x1f7)]['toggleCodeBlock'](),'Backspace':()=>{const _0x1b58ae=_0x5e1b9b,{empty:_0x529493,$anchor:_0x1729db}=this[_0x1b58ae(0x1d9)][_0x1b58ae(0x212)]['selection'],_0xedcd4b=_0x1729db[_0x1b58ae(0x1fc)]===0x1;return!_0x529493||_0x1729db[_0x1b58ae(0x20e)]['type'][_0x1b58ae(0x1eb)]!==this['name']?!0x1:_0xedcd4b||!_0x1729db['parent'][_0x1b58ae(0x20d)][_0x1b58ae(0x1dd)]?this[_0x1b58ae(0x1d9)][_0x1b58ae(0x1f7)][_0x1b58ae(0x1f0)]():!0x1;},'Enter':({editor:_0x214277})=>{const _0x5dc9be=_0x5e1b9b;if(!this[_0x5dc9be(0x1ea)][_0x5dc9be(0x1df)])return!0x1;const {state:_0x5432e3}=_0x214277,{selection:_0x5bfadf}=_0x5432e3,{$from:_0x537889,empty:_0x2fc5e5}=_0x5bfadf;if(!_0x2fc5e5||_0x537889['parent']['type']!==this[_0x5dc9be(0x1f3)])return!0x1;const _0x1b022c=_0x537889['parentOffset']===_0x537889[_0x5dc9be(0x20e)]['nodeSize']-0x2,_0x46fad3=_0x537889[_0x5dc9be(0x20e)]['textContent'][_0x5dc9be(0x1ef)]('\x0a\x0a');return!_0x1b022c||!_0x46fad3?!0x1:_0x214277[_0x5dc9be(0x1db)]()['command'](({tr:_0x21e001})=>(_0x21e001['delete'](_0x537889['pos']-0x2,_0x537889[_0x5dc9be(0x1fc)]),!0x0))['exitCode']()['run']();},'ArrowDown':({editor:_0x4dd954})=>{const _0x264940=_0x5e1b9b;if(!this[_0x264940(0x1ea)][_0x264940(0x1de)])return!0x1;const {state:_0x893c56}=_0x4dd954,{selection:_0x222231,doc:_0x259fd8}=_0x893c56,{$from:_0xeb8472,empty:_0x2befe5}=_0x222231;if(!_0x2befe5||_0xeb8472['parent'][_0x264940(0x1f3)]!==this[_0x264940(0x1f3)]||!(_0xeb8472['parentOffset']===_0xeb8472[_0x264940(0x20e)][_0x264940(0x200)]-0x2))return!0x1;const _0x52db6c=_0xeb8472['after']();return _0x52db6c===void 0x0?!0x1:_0x259fd8[_0x264940(0x1dc)](_0x52db6c)?_0x4dd954[_0x264940(0x1f7)][_0x264940(0x20a)](({tr:_0x36097e})=>(_0x36097e['setSelection'](_0x32e0c8[_0x264940(0x1e1)](_0x259fd8[_0x264940(0x214)](_0x52db6c))),!0x0)):_0x4dd954[_0x264940(0x1f7)][_0x264940(0x1f5)]();}};},'addInputRules'(){const _0x4ffdd7=_0x200187;return[_0x30a0de({'find':x,'type':this[_0x4ffdd7(0x1f3)],'getAttributes':_0x53df6a=>({'language':_0x53df6a[0x1]})}),_0x30a0de({'find':y,'type':this[_0x4ffdd7(0x1f3)],'getAttributes':_0x504850=>({'language':_0x504850[0x1]})})];},'addProseMirrorPlugins'(){return[new _0x401562({'key':new _0x5b1c28('codeBlockVSCodeHandler'),'props':{'handlePaste':(_0x336499,_0x5b117d)=>{const _0x7d9c45=_0x2304;if(!_0x5b117d[_0x7d9c45(0x202)]||this[_0x7d9c45(0x1d9)]['isActive'](this['type'][_0x7d9c45(0x1eb)]))return!0x1;const _0x2d1bf6=_0x5b117d['clipboardData'][_0x7d9c45(0x1ed)]('text/plain'),_0x354bce=_0x5b117d[_0x7d9c45(0x202)]['getData'](_0x7d9c45(0x1f6)),_0x51c20d=_0x354bce?JSON[_0x7d9c45(0x201)](_0x354bce):void 0x0,_0x29dad9=_0x51c20d==null?void 0x0:_0x51c20d[_0x7d9c45(0x213)];if(!_0x2d1bf6||!_0x29dad9)return!0x1;const {tr:_0xd8e281,schema:_0xfbc13f}=_0x336499[_0x7d9c45(0x212)],_0x2d6235=_0xfbc13f[_0x7d9c45(0x20c)](_0x2d1bf6[_0x7d9c45(0x206)](/\r\n?/g,'\x0a'));return _0xd8e281['replaceSelectionWith'](this[_0x7d9c45(0x1f3)][_0x7d9c45(0x1e8)]({'language':_0x29dad9},_0x2d6235)),_0xd8e281[_0x7d9c45(0x1fa)][_0x7d9c45(0x1ee)]['parent'][_0x7d9c45(0x1f3)]!==this[_0x7d9c45(0x1f3)]&&_0xd8e281[_0x7d9c45(0x209)](_0x41c5a3[_0x7d9c45(0x1e1)](_0xd8e281['doc'][_0x7d9c45(0x214)](Math[_0x7d9c45(0x211)](0x0,_0xd8e281['selection'][_0x7d9c45(0x1f8)]-0x2)))),_0xd8e281['setMeta'](_0x7d9c45(0x20f),!0x0),_0x336499[_0x7d9c45(0x208)](_0xd8e281),!0x0;}}})];}});export{b as C};