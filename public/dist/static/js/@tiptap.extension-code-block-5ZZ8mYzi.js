function _0x1386(){const _0x13ade3=['replaceSelectionWith','toggleCodeBlock','parse','304QHniCd','isActive','clipboardData','3706608YdapOK','paragraph','2314KJRxrh','command','full','clearNodes','420637qdFMeu','max','resolve','exitOnArrowDown','textContent','editor','language','length','near','state','getData','language-','pos','setSelection','exitCode','commands','options','after','$from','type','5527080aNXygk','doc','replace','setNode','classList','946194wBEjPw','text','1174085BOHzdy','filter','pre','nodeAt','startsWith','nodeSize','HTMLAttributes','exitOnTripleEnter','parent','selection','codeBlock','42dzuwNt','mode','dispatch','delete','create','1079064NWMWvP','name','vscode-editor-data','attrs','text*','defaultLanguage'];_0x1386=function(){return _0x13ade3;};return _0x1386();}const _0x5b288c=_0x30b6;(function(_0x2e716a,_0x374beb){const _0x380357=_0x30b6,_0x5de205=_0x2e716a();while(!![]){try{const _0x142035=-parseInt(_0x380357(0x180))/0x1*(parseInt(_0x380357(0x1b8))/0x2)+parseInt(_0x380357(0x19d))/0x3+parseInt(_0x380357(0x1af))/0x4+-parseInt(_0x380357(0x19f))/0x5+-parseInt(_0x380357(0x1aa))/0x6*(-parseInt(_0x380357(0x184))/0x7)+parseInt(_0x380357(0x1bb))/0x8+-parseInt(_0x380357(0x198))/0x9;if(_0x142035===_0x374beb)break;else _0x5de205['push'](_0x5de205['shift']());}catch(_0x5a4b1a){_0x5de205['push'](_0x5de205['shift']());}}}(_0x1386,0x418ae));import{N as _0x476b98,t as _0x3b994c,m as _0x24b369}from'./@tiptap.core-HsqG-hEX.js';function _0x30b6(_0x18ec06,_0x1142c8){_0x18ec06=_0x18ec06-0x17f;const _0x1386a9=_0x1386();let _0x30b6db=_0x1386a9[_0x18ec06];return _0x30b6db;}import{P as _0x39832c,a as _0x16bf0b,T as _0xbd9098,S as _0x399a93}from'./prosemirror-state-DcLGimL2.js';const x=/^```([a-z]+)?[\s\n]$/,y=/^~~~([a-z]+)?[\s\n]$/,b=_0x476b98[_0x5b288c(0x1ae)]({'name':_0x5b288c(0x1a9),'addOptions'(){const _0x390c9e=_0x5b288c;return{'languageClassPrefix':_0x390c9e(0x18f),'exitOnTripleEnter':!0x0,'exitOnArrowDown':!0x0,'defaultLanguage':null,'HTMLAttributes':{}};},'content':_0x5b288c(0x1b3),'marks':'','group':'block','code':!0x0,'defining':!0x0,'addAttributes'(){const _0x164441=_0x5b288c;return{'language':{'default':this[_0x164441(0x194)][_0x164441(0x1b4)],'parseHTML':_0x52bdb6=>{const _0x4f596d=_0x164441;var _0x4dfb08;const {languageClassPrefix:_0x52818f}=this['options'],_0x3333ce=[...((_0x4dfb08=_0x52bdb6['firstElementChild'])===null||_0x4dfb08===void 0x0?void 0x0:_0x4dfb08[_0x4f596d(0x19c)])||[]][_0x4f596d(0x1a0)](_0x2c1f93=>_0x2c1f93[_0x4f596d(0x1a3)](_0x52818f))['map'](_0x4a1238=>_0x4a1238['replace'](_0x52818f,''))[0x0];return _0x3333ce||null;},'rendered':!0x1}};},'parseHTML'(){const _0x5be04c=_0x5b288c;return[{'tag':_0x5be04c(0x1a1),'preserveWhitespace':_0x5be04c(0x182)}];},'renderHTML'({node:_0x516cfa,HTMLAttributes:_0x2dd0f3}){const _0x25523f=_0x5b288c;return[_0x25523f(0x1a1),_0x24b369(this[_0x25523f(0x194)][_0x25523f(0x1a5)],_0x2dd0f3),['code',{'class':_0x516cfa[_0x25523f(0x1b2)][_0x25523f(0x18a)]?this[_0x25523f(0x194)]['languageClassPrefix']+_0x516cfa[_0x25523f(0x1b2)][_0x25523f(0x18a)]:null},0x0]];},'addCommands'(){const _0x550627=_0x5b288c;return{'setCodeBlock':_0x12bf1f=>({commands:_0x26c827})=>_0x26c827[_0x550627(0x19b)](this[_0x550627(0x1b0)],_0x12bf1f),'toggleCodeBlock':_0x2e9b86=>({commands:_0x4e996e})=>_0x4e996e['toggleNode'](this[_0x550627(0x1b0)],_0x550627(0x17f),_0x2e9b86)};},'addKeyboardShortcuts'(){const _0x19a4a6=_0x5b288c;return{'Mod-Alt-c':()=>this[_0x19a4a6(0x189)]['commands'][_0x19a4a6(0x1b6)](),'Backspace':()=>{const _0x21db9d=_0x19a4a6,{empty:_0x4026c6,$anchor:_0x1b2edf}=this[_0x21db9d(0x189)][_0x21db9d(0x18d)][_0x21db9d(0x1a8)],_0x4997cc=_0x1b2edf[_0x21db9d(0x190)]===0x1;return!_0x4026c6||_0x1b2edf[_0x21db9d(0x1a7)][_0x21db9d(0x197)][_0x21db9d(0x1b0)]!==this['name']?!0x1:_0x4997cc||!_0x1b2edf['parent']['textContent'][_0x21db9d(0x18b)]?this['editor']['commands'][_0x21db9d(0x183)]():!0x1;},'Enter':({editor:_0x4c78cb})=>{const _0x219a93=_0x19a4a6;if(!this[_0x219a93(0x194)][_0x219a93(0x1a6)])return!0x1;const {state:_0x1da481}=_0x4c78cb,{selection:_0x268457}=_0x1da481,{$from:_0x173ec0,empty:_0x6d3e}=_0x268457;if(!_0x6d3e||_0x173ec0['parent'][_0x219a93(0x197)]!==this[_0x219a93(0x197)])return!0x1;const _0x5d97fc=_0x173ec0['parentOffset']===_0x173ec0[_0x219a93(0x1a7)]['nodeSize']-0x2,_0x5afb17=_0x173ec0[_0x219a93(0x1a7)][_0x219a93(0x188)]['endsWith']('\x0a\x0a');return!_0x5d97fc||!_0x5afb17?!0x1:_0x4c78cb['chain']()[_0x219a93(0x181)](({tr:_0x2ef3de})=>(_0x2ef3de[_0x219a93(0x1ad)](_0x173ec0[_0x219a93(0x190)]-0x2,_0x173ec0['pos']),!0x0))['exitCode']()['run']();},'ArrowDown':({editor:_0x2ba9db})=>{const _0x19186a=_0x19a4a6;if(!this['options'][_0x19186a(0x187)])return!0x1;const {state:_0x256ed3}=_0x2ba9db,{selection:_0x3ac7c7,doc:_0x5af958}=_0x256ed3,{$from:_0x568eec,empty:_0x29c025}=_0x3ac7c7;if(!_0x29c025||_0x568eec[_0x19186a(0x1a7)][_0x19186a(0x197)]!==this['type']||!(_0x568eec['parentOffset']===_0x568eec[_0x19186a(0x1a7)][_0x19186a(0x1a4)]-0x2))return!0x1;const _0x523e06=_0x568eec[_0x19186a(0x195)]();return _0x523e06===void 0x0?!0x1:_0x5af958[_0x19186a(0x1a2)](_0x523e06)?_0x2ba9db[_0x19186a(0x193)][_0x19186a(0x181)](({tr:_0x117370})=>(_0x117370[_0x19186a(0x191)](_0x399a93['near'](_0x5af958[_0x19186a(0x186)](_0x523e06))),!0x0)):_0x2ba9db[_0x19186a(0x193)][_0x19186a(0x192)]();}};},'addInputRules'(){const _0x42e5c3=_0x5b288c;return[_0x3b994c({'find':x,'type':this[_0x42e5c3(0x197)],'getAttributes':_0x171c0a=>({'language':_0x171c0a[0x1]})}),_0x3b994c({'find':y,'type':this[_0x42e5c3(0x197)],'getAttributes':_0x44653a=>({'language':_0x44653a[0x1]})})];},'addProseMirrorPlugins'(){return[new _0x39832c({'key':new _0x16bf0b('codeBlockVSCodeHandler'),'props':{'handlePaste':(_0x38e8b2,_0x272e0f)=>{const _0x253b3e=_0x30b6;if(!_0x272e0f[_0x253b3e(0x1ba)]||this[_0x253b3e(0x189)][_0x253b3e(0x1b9)](this[_0x253b3e(0x197)][_0x253b3e(0x1b0)]))return!0x1;const _0x36ebee=_0x272e0f[_0x253b3e(0x1ba)]['getData']('text/plain'),_0x9bf1fc=_0x272e0f[_0x253b3e(0x1ba)][_0x253b3e(0x18e)](_0x253b3e(0x1b1)),_0x4b6fb2=_0x9bf1fc?JSON[_0x253b3e(0x1b7)](_0x9bf1fc):void 0x0,_0x1d6219=_0x4b6fb2==null?void 0x0:_0x4b6fb2[_0x253b3e(0x1ab)];if(!_0x36ebee||!_0x1d6219)return!0x1;const {tr:_0x536d1e,schema:_0x1b156a}=_0x38e8b2[_0x253b3e(0x18d)],_0x1f4f30=_0x1b156a[_0x253b3e(0x19e)](_0x36ebee[_0x253b3e(0x19a)](/\r\n?/g,'\x0a'));return _0x536d1e[_0x253b3e(0x1b5)](this[_0x253b3e(0x197)][_0x253b3e(0x1ae)]({'language':_0x1d6219},_0x1f4f30)),_0x536d1e[_0x253b3e(0x1a8)][_0x253b3e(0x196)][_0x253b3e(0x1a7)]['type']!==this[_0x253b3e(0x197)]&&_0x536d1e['setSelection'](_0xbd9098[_0x253b3e(0x18c)](_0x536d1e[_0x253b3e(0x199)][_0x253b3e(0x186)](Math[_0x253b3e(0x185)](0x0,_0x536d1e[_0x253b3e(0x1a8)]['from']-0x2)))),_0x536d1e['setMeta']('paste',!0x0),_0x38e8b2[_0x253b3e(0x1ac)](_0x536d1e),!0x0;}}})];}});export{b as C};