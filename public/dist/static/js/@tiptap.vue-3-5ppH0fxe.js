const _0x5116a3=_0x3e3e;(function(_0x5b24b2,_0x5ebabc){const _0x2e113d=_0x3e3e,_0x5e5dd0=_0x5b24b2();while(!![]){try{const _0x3b78c2=-parseInt(_0x2e113d(0x88))/0x1*(parseInt(_0x2e113d(0xc4))/0x2)+-parseInt(_0x2e113d(0xb7))/0x3*(parseInt(_0x2e113d(0x90))/0x4)+parseInt(_0x2e113d(0xd2))/0x5*(parseInt(_0x2e113d(0x7c))/0x6)+parseInt(_0x2e113d(0x7f))/0x7+-parseInt(_0x2e113d(0xcd))/0x8*(-parseInt(_0x2e113d(0xbe))/0x9)+parseInt(_0x2e113d(0x83))/0xa+-parseInt(_0x2e113d(0x9c))/0xb*(parseInt(_0x2e113d(0x8f))/0xc);if(_0x3b78c2===_0x5ebabc)break;else _0x5e5dd0['push'](_0x5e5dd0['shift']());}catch(_0x4f7154){_0x5e5dd0['push'](_0x5e5dd0['shift']());}}}(_0x5db2,0x6d14b));import'./vue-CtDVafEO.js';import{p as _0x166015,q as _0x2d0d58}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x5146e0,j as _0x2f1e4a,h as _0x45a62f,p as _0x2b878c,n as _0x1499f5,g as _0x4a565c,q as _0x286a95}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x34a1ef,r as _0x5ea673,u as _0xb4e5fb,m,a as _0x855ec3,c as _0xf9bb6}from'./@vue.reactivity-Bi9M0yVH.js';function _0x3e3e(_0x215b59,_0x1e14db){_0x215b59=_0x215b59-0x79;const _0x5db256=_0x5db2();let _0x3e3e38=_0x5db256[_0x215b59];return _0x3e3e38;}import{r as _0x8dc70b}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x7b349c){return _0xf9bb6((_0x3d20cb,_0x106b91)=>({'get'(){return _0x3d20cb(),_0x7b349c;},'set'(_0x4dd812){_0x7b349c=_0x4dd812,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x106b91();});});}}));}class E extends _0x166015{constructor(_0x5b3adb={}){const _0x2f4da5=_0x3e3e;return super(_0x5b3adb),this[_0x2f4da5(0xbb)]=null,this[_0x2f4da5(0xd1)]=null,this[_0x2f4da5(0xb3)]=c(this[_0x2f4da5(0xb4)][_0x2f4da5(0xa6)]),this[_0x2f4da5(0x9e)]=c(this['extensionStorage']),this['on'](_0x2f4da5(0x9b),({nextState:_0x1bfa2b})=>{const _0x2b9620=_0x2f4da5;this[_0x2b9620(0xb3)][_0x2b9620(0xc7)]=_0x1bfa2b,this[_0x2b9620(0x9e)][_0x2b9620(0xc7)]=this[_0x2b9620(0xd7)];}),m(this);}get[_0x5116a3(0xa6)](){const _0x366db3=_0x5116a3;return this[_0x366db3(0xb3)]?this['reactiveState']['value']:this[_0x366db3(0xb4)][_0x366db3(0xa6)];}get['storage'](){const _0x376bb6=_0x5116a3;return this[_0x376bb6(0x9e)]?this['reactiveExtensionStorage'][_0x376bb6(0xc7)]:super[_0x376bb6(0xaf)];}[_0x5116a3(0xba)](_0x55a12e,_0x1dc545){const _0x204c48=_0x5116a3,_0x3e7079=super['registerPlugin'](_0x55a12e,_0x1dc545);return this[_0x204c48(0xb3)]&&(this['reactiveState'][_0x204c48(0xc7)]=_0x3e7079),_0x3e7079;}[_0x5116a3(0xb1)](_0x2f5bf5){const _0x4ebc43=_0x5116a3,_0x470ad5=super[_0x4ebc43(0xb1)](_0x2f5bf5);return this[_0x4ebc43(0xb3)]&&_0x470ad5&&(this[_0x4ebc43(0xb3)][_0x4ebc43(0xc7)]=_0x470ad5),_0x470ad5;}}const M=d({'name':_0x5116a3(0xac),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x576c99){const _0x4bfc4e=_0x5ea673(),_0x69d69b=_0x4a565c();return _0x2b878c(()=>{const _0x499e52=_0x3e3e,_0x2c05fa=_0x576c99['editor'];_0x2c05fa&&_0x2c05fa[_0x499e52(0x94)]['element']&&_0x4bfc4e[_0x499e52(0xc7)]&&_0x1499f5(()=>{const _0x1166ae=_0x499e52;if(!_0x4bfc4e[_0x1166ae(0xc7)]||!_0x2c05fa[_0x1166ae(0x94)][_0x1166ae(0xa9)]['firstChild'])return;const _0x3bf91d=_0xb4e5fb(_0x4bfc4e[_0x1166ae(0xc7)]);_0x4bfc4e[_0x1166ae(0xc7)]['append'](..._0x2c05fa['options']['element']['childNodes']),_0x2c05fa[_0x1166ae(0xbb)]=_0x69d69b[_0x1166ae(0x7a)]['_'],_0x69d69b&&(_0x2c05fa[_0x1166ae(0xd1)]={..._0x69d69b['appContext'],'provides':_0x69d69b[_0x1166ae(0xb8)]}),_0x2c05fa[_0x1166ae(0x82)]({'element':_0x3bf91d}),_0x2c05fa[_0x1166ae(0xb5)]();});}),_0x2f1e4a(()=>{const _0x4bf155=_0x3e3e,_0x5ab738=_0x576c99['editor'];_0x5ab738&&(_0x5ab738[_0x4bf155(0xbb)]=null,_0x5ab738['appContext']=null);}),{'rootEl':_0x4bfc4e};},'render'(){return _0x45a62f('div',{'ref':_0x46e7b6=>{const _0x5890d6=_0x3e3e;this[_0x5890d6(0xce)]=_0x46e7b6;}});}}),U=d({'name':'NodeViewWrapper','props':{'as':{'type':String,'default':_0x5116a3(0x80)}},'inject':[_0x5116a3(0xc1),_0x5116a3(0xb6)],'render'(){const _0x32bca4=_0x5116a3;var _0x169cc8,_0x3911a3;return _0x45a62f(this['as'],{'class':this['decorationClasses'],'style':{'whiteSpace':_0x32bca4(0xc9)},'data-node-view-wrapper':'','onDragstart':this['onDragStart']},(_0x3911a3=(_0x169cc8=this[_0x32bca4(0xae)])[_0x32bca4(0xad)])===null||_0x3911a3===void 0x0?void 0x0:_0x3911a3[_0x32bca4(0xa3)](_0x169cc8));}}),L=(_0x336a5a={})=>{const _0x375640=_0x34a1ef();return _0x5146e0(()=>{const _0x3dc795=_0x3e3e;_0x375640[_0x3dc795(0xc7)]=new E(_0x336a5a);}),_0x2f1e4a(()=>{const _0x13fd70=_0x3e3e;var _0x19e7f7,_0x44a6ab,_0x21208b;const _0x5ce825=(_0x19e7f7=_0x375640['value'])===null||_0x19e7f7===void 0x0?void 0x0:_0x19e7f7[_0x13fd70(0x94)][_0x13fd70(0xa9)],_0x421ce5=_0x5ce825==null?void 0x0:_0x5ce825[_0x13fd70(0xc6)](!0x0);(_0x44a6ab=_0x5ce825==null?void 0x0:_0x5ce825['parentNode'])===null||_0x44a6ab===void 0x0||_0x44a6ab[_0x13fd70(0x7d)](_0x421ce5,_0x5ce825),(_0x21208b=_0x375640[_0x13fd70(0xc7)])===null||_0x21208b===void 0x0||_0x21208b['destroy']();}),_0x375640;};function _0x5db2(){const _0x2ec131=['replaceChild','class','2199855ClkQgj','div','ref','setOptions','4144410eCyfQS','__cssModules','__scopeId','selected','props','7279xgMkIw','keys','decorations','__file','selectNode','proxy','getDecorationClasses','36xJYGgg','989620WdTMFT','remove','extension','entries','options','Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.','updateProps','flat','nodeSize','dom','HTMLAttributes','beforeTransaction','1613733TeGDNX','__vccOpts','reactiveExtensionStorage','node','setup','firstElementChild','ProseMirror-selectednode','call','handleSelectionUpdate','bind','state','selectionUpdate','vNode','element','renderComponent','data-node-view-wrapper','EditorContent','default','$slots','storage','type','unregisterPlugin','getPos','reactiveState','view','createNodeViews','decorationClasses','3gXtbwG','provides','map','registerPlugin','contentComponent','component','off','1204317mrRowI','update','deleteNode','onDragStart','deselectNode','innerDecorations','166icFipw','forEach','cloneNode','value','mount','normal','join','contentDOM','classList','8xLACvZ','rootEl','editor','renderedComponent','appContext','5AxgbqN','destroy','isLeaf','renderer','add','extensionStorage','function','number','ctx','createElement','5255682abaDlH'];_0x5db2=function(){return _0x2ec131;};return _0x5db2();}class P{constructor(_0x5a007b,{props:_0x14c116={},editor:_0x28431f}){const _0x1f300c=_0x5116a3;this[_0x1f300c(0xcf)]=_0x28431f,this[_0x1f300c(0xbc)]=m(_0x5a007b),this['el']=document[_0x1f300c(0x7b)]('div'),this[_0x1f300c(0x87)]=_0x855ec3(_0x14c116),this[_0x1f300c(0xd0)]=this[_0x1f300c(0xaa)]();}get[_0x5116a3(0xa9)](){const _0x38295f=_0x5116a3;return this[_0x38295f(0xd0)]['el'];}get[_0x5116a3(0x81)](){const _0x5055de=_0x5116a3;var _0x2d5c31,_0x344558,_0x26b87b,_0xa2606f;return!((_0x344558=(_0x2d5c31=this[_0x5055de(0xd0)][_0x5055de(0xa8)])===null||_0x2d5c31===void 0x0?void 0x0:_0x2d5c31[_0x5055de(0xbc)])===null||_0x344558===void 0x0)&&_0x344558['exposed']?this[_0x5055de(0xd0)][_0x5055de(0xa8)][_0x5055de(0xbc)]['exposed']:(_0xa2606f=(_0x26b87b=this['renderedComponent'][_0x5055de(0xa8)])===null||_0x26b87b===void 0x0?void 0x0:_0x26b87b[_0x5055de(0xbc)])===null||_0xa2606f===void 0x0?void 0x0:_0xa2606f[_0x5055de(0x8d)];}['renderComponent'](){const _0xcb68c8=_0x5116a3;let _0x2b82fc=_0x45a62f(this['component'],this[_0xcb68c8(0x87)]);return this['editor']['appContext']&&(_0x2b82fc[_0xcb68c8(0xd1)]=this[_0xcb68c8(0xcf)][_0xcb68c8(0xd1)]),typeof document<'u'&&this['el']&&_0x8dc70b(_0x2b82fc,this['el']),{'vNode':_0x2b82fc,'destroy':()=>{this['el']&&_0x8dc70b(null,this['el']),this['el']=null,_0x2b82fc=null;},'el':this['el']?this['el'][_0xcb68c8(0xa1)]:null};}[_0x5116a3(0x96)](_0x1d96a4={}){const _0x2939ef=_0x5116a3;Object[_0x2939ef(0x93)](_0x1d96a4)[_0x2939ef(0xc5)](([_0x37380e,_0x23c17c])=>{const _0x73ece8=_0x2939ef;this[_0x73ece8(0x87)][_0x37380e]=_0x23c17c;}),this['renderComponent']();}[_0x5116a3(0xd3)](){const _0x4447aa=_0x5116a3;this[_0x4447aa(0xd0)][_0x4447aa(0xd3)]();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x2d0d58{[_0x5116a3(0xc8)](){const _0x3e2325=_0x5116a3,_0x458cb9={'editor':this['editor'],'node':this[_0x3e2325(0x9f)],'decorations':this[_0x3e2325(0x8a)],'innerDecorations':this[_0x3e2325(0xc3)],'view':this[_0x3e2325(0xb4)],'selected':!0x1,'extension':this[_0x3e2325(0x92)],'HTMLAttributes':this[_0x3e2325(0x9a)],'getPos':()=>this[_0x3e2325(0xb2)](),'updateAttributes':(_0xbaa7a5={})=>this['updateAttributes'](_0xbaa7a5),'deleteNode':()=>this[_0x3e2325(0xc0)]()},_0x16bf75=this[_0x3e2325(0xc1)][_0x3e2325(0xa5)](this);this[_0x3e2325(0xb6)]=_0x5ea673(this[_0x3e2325(0x8e)]());const _0x41bc9a=d({'extends':{...this[_0x3e2325(0xbc)]},'props':Object[_0x3e2325(0x89)](_0x458cb9),'template':this['component']['template'],'setup':_0x54fbc1=>{const _0x3f1c89=_0x3e2325;var _0x5e2f75,_0x4d6f88;return _0x286a95(_0x3f1c89(0xc1),_0x16bf75),_0x286a95(_0x3f1c89(0xb6),this['decorationClasses']),(_0x4d6f88=(_0x5e2f75=this['component'])[_0x3f1c89(0xa0)])===null||_0x4d6f88===void 0x0?void 0x0:_0x4d6f88[_0x3f1c89(0xa3)](_0x5e2f75,_0x54fbc1,{'expose':()=>{}});},'__scopeId':this[_0x3e2325(0xbc)][_0x3e2325(0x85)],'__cssModules':this[_0x3e2325(0xbc)][_0x3e2325(0x84)],'__name':this[_0x3e2325(0xbc)]['__name'],'__file':this[_0x3e2325(0xbc)][_0x3e2325(0x8b)]});this[_0x3e2325(0xa4)]=this[_0x3e2325(0xa4)]['bind'](this),this['editor']['on'](_0x3e2325(0xa7),this['handleSelectionUpdate']),this['renderer']=new P(_0x41bc9a,{'editor':this['editor'],'props':_0x458cb9});}get[_0x5116a3(0x99)](){const _0x10c575=_0x5116a3;if(!this[_0x10c575(0xd5)]['element']||!this[_0x10c575(0xd5)][_0x10c575(0xa9)]['hasAttribute'](_0x10c575(0xab)))throw Error(_0x10c575(0x95));return this[_0x10c575(0xd5)][_0x10c575(0xa9)];}get[_0x5116a3(0xcb)](){const _0x20a197=_0x5116a3;return this[_0x20a197(0x9f)][_0x20a197(0xd4)]?null:this[_0x20a197(0x99)]['querySelector']('[data-node-view-content]');}[_0x5116a3(0xa4)](){const _0x21a307=_0x5116a3,{from:_0x119c43,to:_0x2e591d}=this[_0x21a307(0xcf)][_0x21a307(0xa6)]['selection'],_0x2464ab=this[_0x21a307(0xb2)]();if(typeof _0x2464ab==_0x21a307(0x79)){if(_0x119c43<=_0x2464ab&&_0x2e591d>=_0x2464ab+this[_0x21a307(0x9f)][_0x21a307(0x98)]){if(this[_0x21a307(0xd5)][_0x21a307(0x87)][_0x21a307(0x86)])return;this[_0x21a307(0x8c)]();}else{if(!this[_0x21a307(0xd5)][_0x21a307(0x87)][_0x21a307(0x86)])return;this[_0x21a307(0xc2)]();}}}[_0x5116a3(0xbf)](_0x7cbae,_0x464cac,_0x578b41){const _0x49eef9=_0x5116a3,_0x242bf9=_0x40e5f2=>{const _0x408ea7=_0x3e3e;this[_0x408ea7(0xb6)][_0x408ea7(0xc7)]=this[_0x408ea7(0x8e)](),this[_0x408ea7(0xd5)]['updateProps'](_0x40e5f2);};if(typeof this[_0x49eef9(0x94)][_0x49eef9(0xbf)]==_0x49eef9(0xd8)){const _0x5909b2=this[_0x49eef9(0x9f)],_0x1eafb4=this['decorations'],_0x11c4b9=this['innerDecorations'];return this['node']=_0x7cbae,this['decorations']=_0x464cac,this['innerDecorations']=_0x578b41,this[_0x49eef9(0x94)][_0x49eef9(0xbf)]({'oldNode':_0x5909b2,'oldDecorations':_0x1eafb4,'newNode':_0x7cbae,'newDecorations':_0x464cac,'oldInnerDecorations':_0x11c4b9,'innerDecorations':_0x578b41,'updateProps':()=>_0x242bf9({'node':_0x7cbae,'decorations':_0x464cac,'innerDecorations':_0x578b41})});}return _0x7cbae[_0x49eef9(0xb0)]!==this[_0x49eef9(0x9f)][_0x49eef9(0xb0)]?!0x1:(_0x7cbae===this[_0x49eef9(0x9f)]&&this['decorations']===_0x464cac&&this['innerDecorations']===_0x578b41||(this[_0x49eef9(0x9f)]=_0x7cbae,this[_0x49eef9(0x8a)]=_0x464cac,this[_0x49eef9(0xc3)]=_0x578b41,_0x242bf9({'node':_0x7cbae,'decorations':_0x464cac,'innerDecorations':_0x578b41})),!0x0);}[_0x5116a3(0x8c)](){const _0x1b0549=_0x5116a3;this['renderer'][_0x1b0549(0x96)]({'selected':!0x0}),this[_0x1b0549(0xd5)][_0x1b0549(0xa9)]&&this['renderer'][_0x1b0549(0xa9)][_0x1b0549(0xcc)][_0x1b0549(0xd6)](_0x1b0549(0xa2));}[_0x5116a3(0xc2)](){const _0x522def=_0x5116a3;this['renderer'][_0x522def(0x96)]({'selected':!0x1}),this['renderer']['element']&&this[_0x522def(0xd5)][_0x522def(0xa9)][_0x522def(0xcc)][_0x522def(0x91)]('ProseMirror-selectednode');}[_0x5116a3(0x8e)](){const _0x1178ad=_0x5116a3;return this['decorations'][_0x1178ad(0xb9)](_0x1402ae=>_0x1402ae['type']['attrs'][_0x1178ad(0x7e)])[_0x1178ad(0x97)]()[_0x1178ad(0xca)]('\x20');}[_0x5116a3(0xd3)](){const _0x4247d5=_0x5116a3;this['renderer']['destroy'](),this[_0x4247d5(0xcf)][_0x4247d5(0xbd)](_0x4247d5(0xa7),this[_0x4247d5(0xa4)]);}}function F(_0x41fe93,_0xb5afef){return _0x17f01d=>{const _0x2648ea=_0x3e3e;if(!_0x17f01d[_0x2648ea(0xcf)][_0x2648ea(0xbb)])return{};const _0x1504f4=typeof _0x41fe93==_0x2648ea(0xd8)&&_0x2648ea(0x9d)in _0x41fe93?_0x41fe93[_0x2648ea(0x9d)]:_0x41fe93;return new q(_0x1504f4,_0x17f01d,_0xb5afef);};}export{M as E,U as N,F as V,P as a,R as n,L as u};