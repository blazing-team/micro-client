const _0x2a5143=_0x502e;(function(_0x96d304,_0x4d7e10){const _0x293e2e=_0x502e,_0xcef283=_0x96d304();while(!![]){try{const _0xf95506=-parseInt(_0x293e2e(0x11e))/0x1+-parseInt(_0x293e2e(0x11c))/0x2*(-parseInt(_0x293e2e(0x131))/0x3)+parseInt(_0x293e2e(0x128))/0x4*(parseInt(_0x293e2e(0xd9))/0x5)+-parseInt(_0x293e2e(0xfa))/0x6+parseInt(_0x293e2e(0x107))/0x7+parseInt(_0x293e2e(0xdc))/0x8+-parseInt(_0x293e2e(0xec))/0x9;if(_0xf95506===_0x4d7e10)break;else _0xcef283['push'](_0xcef283['shift']());}catch(_0x53fc0d){_0xcef283['push'](_0xcef283['shift']());}}}(_0x53dc,0xaf526));import'./vue-CtDVafEO.js';function _0x53dc(){const _0x22ec9f=['storage','handleSelectionUpdate','firstElementChild','updateProps','update','createElement','createNodeViews','1613592HwAUbe','cloneNode','__name','updateAttributes','querySelector','nodeSize','attrs','node','destroy','state','component','default','off','join','5856432VqbJTC','call','innerDecorations','class','selected','value','ProseMirror-selectednode','flat','mount','bind','view','reactiveState','[data-node-view-content]','795501cWorix','appContext','getDecorationClasses','renderedComponent','dom','contentComponent','renderer','__vccOpts','contentDOM','deleteNode','options','function','data-node-view-wrapper','vNode','decorationClasses','unregisterPlugin','keys','registerPlugin','selectNode','element','childNodes','70yoeoKs','type','294563mJShKx','EditorContent','$slots','extension','replaceChild','exposed','selection','__cssModules','getPos','proxy','77352iwrAGK','template','entries','ref','div','classList','reactiveExtensionStorage','__file','extensionStorage','58677QYlGmm','map','parentNode','115SmBMwl','HTMLAttributes','decorations','7400472hYXbNl','onDragStart','deselectNode','editor','firstChild','selectionUpdate','__scopeId','renderComponent','props'];_0x53dc=function(){return _0x22ec9f;};return _0x53dc();}import{p as _0x3b06b7,q as _0x3de00a}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x2b3923,j as _0x1d806b,h as _0x4a61ac,p as _0x365ec3,n as _0x2ac1d6,g as _0x5ce0ae,q as _0x18fa4f}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x39e89e,r as _0xb44358,u as _0x4c6116,m,a as _0x1ef13b,c as _0x32d698}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x5156df}from'./@vue.runtime-dom-C_oXYm3W.js';function _0x502e(_0x351fff,_0x457913){_0x351fff=_0x351fff-0xd9;const _0x53dc6a=_0x53dc();let _0x502ea1=_0x53dc6a[_0x351fff];return _0x502ea1;}function c(_0x5116a2){return _0x32d698((_0x5e9374,_0x77d0d2)=>({'get'(){return _0x5e9374(),_0x5116a2;},'set'(_0x39d88a){_0x5116a2=_0x39d88a,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x77d0d2();});});}}));}class E extends _0x3b06b7{constructor(_0x2728b6={}){const _0x469c13=_0x502e;return super(_0x2728b6),this['contentComponent']=null,this[_0x469c13(0x108)]=null,this[_0x469c13(0x105)]=c(this[_0x469c13(0x104)]['state']),this[_0x469c13(0x12e)]=c(this[_0x469c13(0x130)]),this['on']('beforeTransaction',({nextState:_0xd488c2})=>{const _0xeaf528=_0x469c13;this[_0xeaf528(0x105)][_0xeaf528(0xff)]=_0xd488c2,this['reactiveExtensionStorage'][_0xeaf528(0xff)]=this['extensionStorage'];}),m(this);}get['state'](){const _0x5bc92e=_0x502e;return this['reactiveState']?this[_0x5bc92e(0x105)]['value']:this[_0x5bc92e(0x104)]['state'];}get[_0x2a5143(0xe5)](){const _0x536727=_0x2a5143;return this[_0x536727(0x12e)]?this[_0x536727(0x12e)]['value']:super[_0x536727(0xe5)];}[_0x2a5143(0x118)](_0x102967,_0x59da81){const _0x4c11ea=_0x2a5143,_0x64b32=super['registerPlugin'](_0x102967,_0x59da81);return this['reactiveState']&&(this[_0x4c11ea(0x105)][_0x4c11ea(0xff)]=_0x64b32),_0x64b32;}[_0x2a5143(0x116)](_0x560aa8){const _0x561847=_0x2a5143,_0x4d9fc9=super[_0x561847(0x116)](_0x560aa8);return this[_0x561847(0x105)]&&_0x4d9fc9&&(this[_0x561847(0x105)]['value']=_0x4d9fc9),_0x4d9fc9;}}const M=d({'name':_0x2a5143(0x11f),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x11145c){const _0xc86d41=_0xb44358(),_0x57fc8d=_0x5ce0ae();return _0x365ec3(()=>{const _0xab86d0=_0x502e,_0x1e4010=_0x11145c['editor'];_0x1e4010&&_0x1e4010[_0xab86d0(0x111)][_0xab86d0(0x11a)]&&_0xc86d41[_0xab86d0(0xff)]&&_0x2ac1d6(()=>{const _0x49fe25=_0xab86d0;if(!_0xc86d41[_0x49fe25(0xff)]||!_0x1e4010[_0x49fe25(0x111)][_0x49fe25(0x11a)][_0x49fe25(0xe0)])return;const _0x3c4c80=_0x4c6116(_0xc86d41[_0x49fe25(0xff)]);_0xc86d41['value']['append'](..._0x1e4010[_0x49fe25(0x111)][_0x49fe25(0x11a)][_0x49fe25(0x11b)]),_0x1e4010[_0x49fe25(0x10c)]=_0x57fc8d['ctx']['_'],_0x57fc8d&&(_0x1e4010[_0x49fe25(0x108)]={..._0x57fc8d[_0x49fe25(0x108)],'provides':_0x57fc8d['provides']}),_0x1e4010['setOptions']({'element':_0x3c4c80}),_0x1e4010[_0x49fe25(0xeb)]();});}),_0x1d806b(()=>{const _0x25eeab=_0x502e,_0x22275a=_0x11145c[_0x25eeab(0xdf)];_0x22275a&&(_0x22275a[_0x25eeab(0x10c)]=null,_0x22275a[_0x25eeab(0x108)]=null);}),{'rootEl':_0xc86d41};},'render'(){const _0x169593=_0x2a5143;return _0x4a61ac(_0x169593(0x12c),{'ref':_0x5441ce=>{this['rootEl']=_0x5441ce;}});}}),U=d({'name':'NodeViewWrapper','props':{'as':{'type':String,'default':_0x2a5143(0x12c)}},'inject':[_0x2a5143(0xdd),_0x2a5143(0x115)],'render'(){const _0x537cc4=_0x2a5143;var _0x47efdd,_0x24e669;return _0x4a61ac(this['as'],{'class':this['decorationClasses'],'style':{'whiteSpace':'normal'},'data-node-view-wrapper':'','onDragstart':this[_0x537cc4(0xdd)]},(_0x24e669=(_0x47efdd=this[_0x537cc4(0x120)])[_0x537cc4(0xf7)])===null||_0x24e669===void 0x0?void 0x0:_0x24e669[_0x537cc4(0xfb)](_0x47efdd));}}),L=(_0x13161a={})=>{const _0x41fa4f=_0x39e89e();return _0x2b3923(()=>{_0x41fa4f['value']=new E(_0x13161a);}),_0x1d806b(()=>{const _0x47c6f9=_0x502e;var _0xb3a40a,_0x160034,_0x1a15dd;const _0x40b591=(_0xb3a40a=_0x41fa4f[_0x47c6f9(0xff)])===null||_0xb3a40a===void 0x0?void 0x0:_0xb3a40a[_0x47c6f9(0x111)]['element'],_0x3f99ff=_0x40b591==null?void 0x0:_0x40b591[_0x47c6f9(0xed)](!0x0);(_0x160034=_0x40b591==null?void 0x0:_0x40b591[_0x47c6f9(0x133)])===null||_0x160034===void 0x0||_0x160034[_0x47c6f9(0x122)](_0x3f99ff,_0x40b591),(_0x1a15dd=_0x41fa4f[_0x47c6f9(0xff)])===null||_0x1a15dd===void 0x0||_0x1a15dd['destroy']();}),_0x41fa4f;};class P{constructor(_0x29c3ff,{props:_0x50ef26={},editor:_0x479c28}){const _0x15ce84=_0x2a5143;this[_0x15ce84(0xdf)]=_0x479c28,this[_0x15ce84(0xf6)]=m(_0x29c3ff),this['el']=document[_0x15ce84(0xea)]('div'),this[_0x15ce84(0xe4)]=_0x1ef13b(_0x50ef26),this[_0x15ce84(0x10a)]=this[_0x15ce84(0xe3)]();}get[_0x2a5143(0x11a)](){const _0x290ece=_0x2a5143;return this[_0x290ece(0x10a)]['el'];}get[_0x2a5143(0x12b)](){const _0x176e32=_0x2a5143;var _0x14fa67,_0x241ebe,_0x5403ff,_0x3d3677;return!((_0x241ebe=(_0x14fa67=this['renderedComponent'][_0x176e32(0x114)])===null||_0x14fa67===void 0x0?void 0x0:_0x14fa67['component'])===null||_0x241ebe===void 0x0)&&_0x241ebe[_0x176e32(0x123)]?this['renderedComponent'][_0x176e32(0x114)][_0x176e32(0xf6)]['exposed']:(_0x3d3677=(_0x5403ff=this['renderedComponent'][_0x176e32(0x114)])===null||_0x5403ff===void 0x0?void 0x0:_0x5403ff['component'])===null||_0x3d3677===void 0x0?void 0x0:_0x3d3677[_0x176e32(0x127)];}[_0x2a5143(0xe3)](){const _0x340cb6=_0x2a5143;let _0x2482e3=_0x4a61ac(this[_0x340cb6(0xf6)],this[_0x340cb6(0xe4)]);return this[_0x340cb6(0xdf)][_0x340cb6(0x108)]&&(_0x2482e3['appContext']=this[_0x340cb6(0xdf)][_0x340cb6(0x108)]),typeof document<'u'&&this['el']&&_0x5156df(_0x2482e3,this['el']),{'vNode':_0x2482e3,'destroy':()=>{this['el']&&_0x5156df(null,this['el']),this['el']=null,_0x2482e3=null;},'el':this['el']?this['el'][_0x340cb6(0xe7)]:null};}[_0x2a5143(0xe8)](_0x45422e={}){const _0x28b51c=_0x2a5143;Object[_0x28b51c(0x12a)](_0x45422e)['forEach'](([_0x29a0e4,_0x206145])=>{const _0xd76b45=_0x28b51c;this[_0xd76b45(0xe4)][_0x29a0e4]=_0x206145;}),this[_0x28b51c(0xe3)]();}[_0x2a5143(0xf4)](){const _0x5c3e9f=_0x2a5143;this[_0x5c3e9f(0x10a)]['destroy']();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x3de00a{[_0x2a5143(0x102)](){const _0x393fb8=_0x2a5143,_0x2fffbe={'editor':this[_0x393fb8(0xdf)],'node':this[_0x393fb8(0xf3)],'decorations':this['decorations'],'innerDecorations':this[_0x393fb8(0xfc)],'view':this[_0x393fb8(0x104)],'selected':!0x1,'extension':this[_0x393fb8(0x121)],'HTMLAttributes':this[_0x393fb8(0xda)],'getPos':()=>this[_0x393fb8(0x126)](),'updateAttributes':(_0x3072c5={})=>this[_0x393fb8(0xef)](_0x3072c5),'deleteNode':()=>this[_0x393fb8(0x110)]()},_0x411116=this[_0x393fb8(0xdd)]['bind'](this);this[_0x393fb8(0x115)]=_0xb44358(this[_0x393fb8(0x109)]());const _0x4b874d=d({'extends':{...this['component']},'props':Object[_0x393fb8(0x117)](_0x2fffbe),'template':this['component'][_0x393fb8(0x129)],'setup':_0x460d19=>{const _0x1beb69=_0x393fb8;var _0x4543ba,_0x17346e;return _0x18fa4f('onDragStart',_0x411116),_0x18fa4f(_0x1beb69(0x115),this[_0x1beb69(0x115)]),(_0x17346e=(_0x4543ba=this['component'])['setup'])===null||_0x17346e===void 0x0?void 0x0:_0x17346e[_0x1beb69(0xfb)](_0x4543ba,_0x460d19,{'expose':()=>{}});},'__scopeId':this[_0x393fb8(0xf6)][_0x393fb8(0xe2)],'__cssModules':this[_0x393fb8(0xf6)][_0x393fb8(0x125)],'__name':this[_0x393fb8(0xf6)][_0x393fb8(0xee)],'__file':this[_0x393fb8(0xf6)][_0x393fb8(0x12f)]});this['handleSelectionUpdate']=this[_0x393fb8(0xe6)][_0x393fb8(0x103)](this),this[_0x393fb8(0xdf)]['on']('selectionUpdate',this['handleSelectionUpdate']),this[_0x393fb8(0x10d)]=new P(_0x4b874d,{'editor':this[_0x393fb8(0xdf)],'props':_0x2fffbe});}get[_0x2a5143(0x10b)](){const _0x5ce726=_0x2a5143;if(!this[_0x5ce726(0x10d)][_0x5ce726(0x11a)]||!this['renderer'][_0x5ce726(0x11a)]['hasAttribute'](_0x5ce726(0x113)))throw Error('Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.');return this[_0x5ce726(0x10d)][_0x5ce726(0x11a)];}get[_0x2a5143(0x10f)](){const _0x5a0199=_0x2a5143;return this[_0x5a0199(0xf3)]['isLeaf']?null:this['dom'][_0x5a0199(0xf0)](_0x5a0199(0x106));}['handleSelectionUpdate'](){const _0x45c29f=_0x2a5143,{from:_0x4a7c4b,to:_0xf34796}=this[_0x45c29f(0xdf)][_0x45c29f(0xf5)][_0x45c29f(0x124)],_0x1d8af0=this[_0x45c29f(0x126)]();if(typeof _0x1d8af0=='number'){if(_0x4a7c4b<=_0x1d8af0&&_0xf34796>=_0x1d8af0+this[_0x45c29f(0xf3)][_0x45c29f(0xf1)]){if(this[_0x45c29f(0x10d)]['props'][_0x45c29f(0xfe)])return;this[_0x45c29f(0x119)]();}else{if(!this[_0x45c29f(0x10d)][_0x45c29f(0xe4)][_0x45c29f(0xfe)])return;this['deselectNode']();}}}[_0x2a5143(0xe9)](_0x1b2044,_0x1b54c6,_0x102b23){const _0x268770=_0x2a5143,_0x49edee=_0x5b0725=>{const _0x25ab5a=_0x502e;this[_0x25ab5a(0x115)][_0x25ab5a(0xff)]=this['getDecorationClasses'](),this[_0x25ab5a(0x10d)][_0x25ab5a(0xe8)](_0x5b0725);};if(typeof this[_0x268770(0x111)][_0x268770(0xe9)]==_0x268770(0x112)){const _0x4bfb87=this[_0x268770(0xf3)],_0x3734f4=this[_0x268770(0xdb)],_0x10584e=this[_0x268770(0xfc)];return this[_0x268770(0xf3)]=_0x1b2044,this[_0x268770(0xdb)]=_0x1b54c6,this[_0x268770(0xfc)]=_0x102b23,this['options'][_0x268770(0xe9)]({'oldNode':_0x4bfb87,'oldDecorations':_0x3734f4,'newNode':_0x1b2044,'newDecorations':_0x1b54c6,'oldInnerDecorations':_0x10584e,'innerDecorations':_0x102b23,'updateProps':()=>_0x49edee({'node':_0x1b2044,'decorations':_0x1b54c6,'innerDecorations':_0x102b23})});}return _0x1b2044['type']!==this['node'][_0x268770(0x11d)]?!0x1:(_0x1b2044===this[_0x268770(0xf3)]&&this['decorations']===_0x1b54c6&&this[_0x268770(0xfc)]===_0x102b23||(this[_0x268770(0xf3)]=_0x1b2044,this[_0x268770(0xdb)]=_0x1b54c6,this[_0x268770(0xfc)]=_0x102b23,_0x49edee({'node':_0x1b2044,'decorations':_0x1b54c6,'innerDecorations':_0x102b23})),!0x0);}[_0x2a5143(0x119)](){const _0x5281de=_0x2a5143;this[_0x5281de(0x10d)]['updateProps']({'selected':!0x0}),this[_0x5281de(0x10d)][_0x5281de(0x11a)]&&this['renderer'][_0x5281de(0x11a)][_0x5281de(0x12d)]['add']('ProseMirror-selectednode');}[_0x2a5143(0xde)](){const _0x1f5a0e=_0x2a5143;this[_0x1f5a0e(0x10d)][_0x1f5a0e(0xe8)]({'selected':!0x1}),this[_0x1f5a0e(0x10d)]['element']&&this[_0x1f5a0e(0x10d)][_0x1f5a0e(0x11a)]['classList']['remove'](_0x1f5a0e(0x100));}[_0x2a5143(0x109)](){const _0x16b687=_0x2a5143;return this[_0x16b687(0xdb)][_0x16b687(0x132)](_0x9ea56a=>_0x9ea56a[_0x16b687(0x11d)][_0x16b687(0xf2)][_0x16b687(0xfd)])[_0x16b687(0x101)]()[_0x16b687(0xf9)]('\x20');}['destroy'](){const _0x5791cd=_0x2a5143;this[_0x5791cd(0x10d)][_0x5791cd(0xf4)](),this[_0x5791cd(0xdf)][_0x5791cd(0xf8)](_0x5791cd(0xe1),this[_0x5791cd(0xe6)]);}}function F(_0x4d9ee0,_0x50496f){return _0x55338d=>{const _0x3cd3a9=_0x502e;if(!_0x55338d['editor']['contentComponent'])return{};const _0x3717e6=typeof _0x4d9ee0==_0x3cd3a9(0x112)&&_0x3cd3a9(0x10e)in _0x4d9ee0?_0x4d9ee0[_0x3cd3a9(0x10e)]:_0x4d9ee0;return new q(_0x3717e6,_0x55338d,_0x50496f);};}export{M as E,U as N,F as V,P as a,R as n,L as u};