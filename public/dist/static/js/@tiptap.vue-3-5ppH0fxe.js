const _0x4f983d=_0x1ae5;function _0x1ae5(_0x555e36,_0x57b6c5){_0x555e36=_0x555e36-0x107;const _0x54ffc4=_0x54ff();let _0x1ae572=_0x54ffc4[_0x555e36];return _0x1ae572;}(function(_0x2230b6,_0x50e2f8){const _0x8d5c57=_0x1ae5,_0x343c70=_0x2230b6();while(!![]){try{const _0x45314b=parseInt(_0x8d5c57(0x125))/0x1+-parseInt(_0x8d5c57(0x116))/0x2*(-parseInt(_0x8d5c57(0x12c))/0x3)+-parseInt(_0x8d5c57(0x155))/0x4*(parseInt(_0x8d5c57(0x145))/0x5)+-parseInt(_0x8d5c57(0x10b))/0x6+-parseInt(_0x8d5c57(0x115))/0x7+parseInt(_0x8d5c57(0x117))/0x8+parseInt(_0x8d5c57(0x14b))/0x9;if(_0x45314b===_0x50e2f8)break;else _0x343c70['push'](_0x343c70['shift']());}catch(_0x3b0d15){_0x343c70['push'](_0x343c70['shift']());}}}(_0x54ff,0x19865));import'./vue-CtDVafEO.js';import{p as _0x2b0eab,q as _0x31aa68}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x36637d,j as _0x3b3c51,h as _0x1d7e8b,p as _0xb296d7,n as _0x34b85f,g as _0x172143,q as _0x31c5c4}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x1714dc,r as _0x111640,u as _0x62a7f0,m,a as _0x59dc32,c as _0x380e75}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x4fc926}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x4d6c91){return _0x380e75((_0x1f86e5,_0x5b3d67)=>({'get'(){return _0x1f86e5(),_0x4d6c91;},'set'(_0x7e2e6b){_0x4d6c91=_0x7e2e6b,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x5b3d67();});});}}));}class E extends _0x2b0eab{constructor(_0xc059a0={}){const _0x4c0d67=_0x1ae5;return super(_0xc059a0),this['contentComponent']=null,this[_0x4c0d67(0x14d)]=null,this['reactiveState']=c(this[_0x4c0d67(0x146)][_0x4c0d67(0x107)]),this[_0x4c0d67(0x150)]=c(this[_0x4c0d67(0x137)]),this['on'](_0x4c0d67(0x110),({nextState:_0x9de952})=>{const _0x1964dd=_0x4c0d67;this[_0x1964dd(0x149)][_0x1964dd(0x112)]=_0x9de952,this['reactiveExtensionStorage'][_0x1964dd(0x112)]=this[_0x1964dd(0x137)];}),m(this);}get[_0x4f983d(0x107)](){const _0xd4107f=_0x4f983d;return this[_0xd4107f(0x149)]?this[_0xd4107f(0x149)][_0xd4107f(0x112)]:this[_0xd4107f(0x146)][_0xd4107f(0x107)];}get['storage'](){const _0x1bf167=_0x4f983d;return this[_0x1bf167(0x150)]?this[_0x1bf167(0x150)][_0x1bf167(0x112)]:super['storage'];}[_0x4f983d(0x14f)](_0x692906,_0x422195){const _0x24f2a6=_0x4f983d,_0x30d574=super['registerPlugin'](_0x692906,_0x422195);return this[_0x24f2a6(0x149)]&&(this[_0x24f2a6(0x149)]['value']=_0x30d574),_0x30d574;}[_0x4f983d(0x11e)](_0x3c9fa7){const _0x5a9dbb=_0x4f983d,_0x4ca266=super[_0x5a9dbb(0x11e)](_0x3c9fa7);return this['reactiveState']&&_0x4ca266&&(this[_0x5a9dbb(0x149)][_0x5a9dbb(0x112)]=_0x4ca266),_0x4ca266;}}const M=d({'name':_0x4f983d(0x10d),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x1dd86c){const _0xe21e2d=_0x111640(),_0x37ee09=_0x172143();return _0xb296d7(()=>{const _0x4c5c50=_0x1ae5,_0x1ec009=_0x1dd86c[_0x4c5c50(0x109)];_0x1ec009&&_0x1ec009[_0x4c5c50(0x158)]['element']&&_0xe21e2d[_0x4c5c50(0x112)]&&_0x34b85f(()=>{const _0x1cf87c=_0x4c5c50;if(!_0xe21e2d['value']||!_0x1ec009[_0x1cf87c(0x158)][_0x1cf87c(0x156)][_0x1cf87c(0x10a)])return;const _0x55bef8=_0x62a7f0(_0xe21e2d[_0x1cf87c(0x112)]);_0xe21e2d['value']['append'](..._0x1ec009[_0x1cf87c(0x158)][_0x1cf87c(0x156)][_0x1cf87c(0x127)]),_0x1ec009[_0x1cf87c(0x140)]=_0x37ee09[_0x1cf87c(0x111)]['_'],_0x37ee09&&(_0x1ec009['appContext']={..._0x37ee09[_0x1cf87c(0x14d)],'provides':_0x37ee09['provides']}),_0x1ec009[_0x1cf87c(0x11b)]({'element':_0x55bef8}),_0x1ec009[_0x1cf87c(0x157)]();});}),_0x3b3c51(()=>{const _0x45ff76=_0x1ae5,_0x339ee3=_0x1dd86c[_0x45ff76(0x109)];_0x339ee3&&(_0x339ee3[_0x45ff76(0x140)]=null,_0x339ee3[_0x45ff76(0x14d)]=null);}),{'rootEl':_0xe21e2d};},'render'(){const _0x5b7b8a=_0x4f983d;return _0x1d7e8b(_0x5b7b8a(0x114),{'ref':_0x167f62=>{const _0x20d2c7=_0x5b7b8a;this[_0x20d2c7(0x159)]=_0x167f62;}});}}),U=d({'name':_0x4f983d(0x13c),'props':{'as':{'type':String,'default':'div'}},'inject':['onDragStart',_0x4f983d(0x154)],'render'(){const _0x4bf6f4=_0x4f983d;var _0x25f870,_0x4be8d2;return _0x1d7e8b(this['as'],{'class':this['decorationClasses'],'style':{'whiteSpace':'normal'},'data-node-view-wrapper':'','onDragstart':this[_0x4bf6f4(0x135)]},(_0x4be8d2=(_0x25f870=this['$slots'])['default'])===null||_0x4be8d2===void 0x0?void 0x0:_0x4be8d2[_0x4bf6f4(0x142)](_0x25f870));}}),L=(_0x15097c={})=>{const _0x223941=_0x1714dc();return _0x36637d(()=>{_0x223941['value']=new E(_0x15097c);}),_0x3b3c51(()=>{const _0x566257=_0x1ae5;var _0x5b020d,_0x5d110a,_0x231763;const _0x4b9ce6=(_0x5b020d=_0x223941[_0x566257(0x112)])===null||_0x5b020d===void 0x0?void 0x0:_0x5b020d[_0x566257(0x158)]['element'],_0x24a314=_0x4b9ce6==null?void 0x0:_0x4b9ce6['cloneNode'](!0x0);(_0x5d110a=_0x4b9ce6==null?void 0x0:_0x4b9ce6[_0x566257(0x15e)])===null||_0x5d110a===void 0x0||_0x5d110a[_0x566257(0x12b)](_0x24a314,_0x4b9ce6),(_0x231763=_0x223941[_0x566257(0x112)])===null||_0x231763===void 0x0||_0x231763[_0x566257(0x12e)]();}),_0x223941;};class P{constructor(_0x1213e3,{props:_0x4ab751={},editor:_0x4ca5b4}){const _0x53a31a=_0x4f983d;this[_0x53a31a(0x109)]=_0x4ca5b4,this['component']=m(_0x1213e3),this['el']=document['createElement'](_0x53a31a(0x114)),this['props']=_0x59dc32(_0x4ab751),this[_0x53a31a(0x15b)]=this[_0x53a31a(0x147)]();}get[_0x4f983d(0x156)](){return this['renderedComponent']['el'];}get[_0x4f983d(0x136)](){const _0x51ac47=_0x4f983d;var _0xe75e1,_0x14d73f,_0x5c7614,_0x53fc8b;return!((_0x14d73f=(_0xe75e1=this[_0x51ac47(0x15b)]['vNode'])===null||_0xe75e1===void 0x0?void 0x0:_0xe75e1[_0x51ac47(0x143)])===null||_0x14d73f===void 0x0)&&_0x14d73f['exposed']?this[_0x51ac47(0x15b)][_0x51ac47(0x10e)][_0x51ac47(0x143)][_0x51ac47(0x13d)]:(_0x53fc8b=(_0x5c7614=this['renderedComponent']['vNode'])===null||_0x5c7614===void 0x0?void 0x0:_0x5c7614[_0x51ac47(0x143)])===null||_0x53fc8b===void 0x0?void 0x0:_0x53fc8b[_0x51ac47(0x132)];}[_0x4f983d(0x147)](){const _0x29051b=_0x4f983d;let _0x31b5d5=_0x1d7e8b(this['component'],this[_0x29051b(0x130)]);return this['editor'][_0x29051b(0x14d)]&&(_0x31b5d5[_0x29051b(0x14d)]=this[_0x29051b(0x109)]['appContext']),typeof document<'u'&&this['el']&&_0x4fc926(_0x31b5d5,this['el']),{'vNode':_0x31b5d5,'destroy':()=>{this['el']&&_0x4fc926(null,this['el']),this['el']=null,_0x31b5d5=null;},'el':this['el']?this['el'][_0x29051b(0x15c)]:null};}[_0x4f983d(0x15d)](_0x1d9eb6={}){const _0x36b66f=_0x4f983d;Object[_0x36b66f(0x123)](_0x1d9eb6)['forEach'](([_0x3834b5,_0x2d6c6a])=>{const _0x577b85=_0x36b66f;this[_0x577b85(0x130)][_0x3834b5]=_0x2d6c6a;}),this[_0x36b66f(0x147)]();}[_0x4f983d(0x12e)](){const _0x55f164=_0x4f983d;this['renderedComponent'][_0x55f164(0x12e)]();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};function _0x54ff(){const _0x3599a0=['contentComponent','number','call','component','function','2390PnsdmG','view','renderComponent','join','reactiveState','nodeSize','1201635MYDKxz','class','appContext','bind','registerPlugin','reactiveExtensionStorage','update','extension','innerDecorations','decorationClasses','1168TpDRsz','element','createNodeViews','options','rootEl','remove','renderedComponent','firstElementChild','updateProps','parentNode','hasAttribute','state','decorations','editor','firstChild','985362LxgvJO','updateAttributes','EditorContent','vNode','attrs','beforeTransaction','ctx','value','selection','div','484435iMfnQn','4WWhutZ','302480ARxpcj','selected','keys','__cssModules','setOptions','template','__vccOpts','unregisterPlugin','getDecorationClasses','type','renderer','data-node-view-wrapper','entries','map','134096zZkrep','selectNode','childNodes','[data-node-view-content]','contentDOM','ProseMirror-selectednode','replaceChild','258204brgLfk','__file','destroy','off','props','classList','proxy','handleSelectionUpdate','__name','onDragStart','ref','extensionStorage','add','node','deleteNode','deselectNode','NodeViewWrapper','exposed','Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.','dom'];_0x54ff=function(){return _0x3599a0;};return _0x54ff();}class q extends _0x31aa68{['mount'](){const _0x10e6a2=_0x4f983d,_0x533d7a={'editor':this['editor'],'node':this[_0x10e6a2(0x139)],'decorations':this[_0x10e6a2(0x108)],'innerDecorations':this['innerDecorations'],'view':this[_0x10e6a2(0x146)],'selected':!0x1,'extension':this[_0x10e6a2(0x152)],'HTMLAttributes':this['HTMLAttributes'],'getPos':()=>this['getPos'](),'updateAttributes':(_0x23952b={})=>this[_0x10e6a2(0x10c)](_0x23952b),'deleteNode':()=>this[_0x10e6a2(0x13a)]()},_0x3ea80c=this['onDragStart'][_0x10e6a2(0x14e)](this);this[_0x10e6a2(0x154)]=_0x111640(this['getDecorationClasses']());const _0x12db3b=d({'extends':{...this[_0x10e6a2(0x143)]},'props':Object[_0x10e6a2(0x119)](_0x533d7a),'template':this[_0x10e6a2(0x143)][_0x10e6a2(0x11c)],'setup':_0x37fcaf=>{const _0x3b4e33=_0x10e6a2;var _0x32fbca,_0x1830ba;return _0x31c5c4(_0x3b4e33(0x135),_0x3ea80c),_0x31c5c4('decorationClasses',this[_0x3b4e33(0x154)]),(_0x1830ba=(_0x32fbca=this['component'])['setup'])===null||_0x1830ba===void 0x0?void 0x0:_0x1830ba['call'](_0x32fbca,_0x37fcaf,{'expose':()=>{}});},'__scopeId':this[_0x10e6a2(0x143)]['__scopeId'],'__cssModules':this[_0x10e6a2(0x143)][_0x10e6a2(0x11a)],'__name':this[_0x10e6a2(0x143)][_0x10e6a2(0x134)],'__file':this['component'][_0x10e6a2(0x12d)]});this[_0x10e6a2(0x133)]=this[_0x10e6a2(0x133)][_0x10e6a2(0x14e)](this),this[_0x10e6a2(0x109)]['on']('selectionUpdate',this[_0x10e6a2(0x133)]),this[_0x10e6a2(0x121)]=new P(_0x12db3b,{'editor':this['editor'],'props':_0x533d7a});}get[_0x4f983d(0x13f)](){const _0x491b90=_0x4f983d;if(!this[_0x491b90(0x121)][_0x491b90(0x156)]||!this[_0x491b90(0x121)][_0x491b90(0x156)][_0x491b90(0x15f)](_0x491b90(0x122)))throw Error(_0x491b90(0x13e));return this[_0x491b90(0x121)][_0x491b90(0x156)];}get[_0x4f983d(0x129)](){const _0x26009a=_0x4f983d;return this[_0x26009a(0x139)]['isLeaf']?null:this[_0x26009a(0x13f)]['querySelector'](_0x26009a(0x128));}['handleSelectionUpdate'](){const _0x41aaaf=_0x4f983d,{from:_0xfc9fcd,to:_0x306147}=this[_0x41aaaf(0x109)][_0x41aaaf(0x107)][_0x41aaaf(0x113)],_0x4f5a33=this['getPos']();if(typeof _0x4f5a33==_0x41aaaf(0x141)){if(_0xfc9fcd<=_0x4f5a33&&_0x306147>=_0x4f5a33+this[_0x41aaaf(0x139)][_0x41aaaf(0x14a)]){if(this[_0x41aaaf(0x121)][_0x41aaaf(0x130)][_0x41aaaf(0x118)])return;this[_0x41aaaf(0x126)]();}else{if(!this[_0x41aaaf(0x121)]['props'][_0x41aaaf(0x118)])return;this[_0x41aaaf(0x13b)]();}}}[_0x4f983d(0x151)](_0xd6a8e,_0x431c36,_0x1838ad){const _0x2253fb=_0x4f983d,_0x202d63=_0x42bdd3=>{const _0x3369aa=_0x1ae5;this[_0x3369aa(0x154)]['value']=this[_0x3369aa(0x11f)](),this[_0x3369aa(0x121)][_0x3369aa(0x15d)](_0x42bdd3);};if(typeof this['options'][_0x2253fb(0x151)]==_0x2253fb(0x144)){const _0x5c46ac=this[_0x2253fb(0x139)],_0x4d8e80=this[_0x2253fb(0x108)],_0x3bc344=this[_0x2253fb(0x153)];return this[_0x2253fb(0x139)]=_0xd6a8e,this[_0x2253fb(0x108)]=_0x431c36,this[_0x2253fb(0x153)]=_0x1838ad,this['options'][_0x2253fb(0x151)]({'oldNode':_0x5c46ac,'oldDecorations':_0x4d8e80,'newNode':_0xd6a8e,'newDecorations':_0x431c36,'oldInnerDecorations':_0x3bc344,'innerDecorations':_0x1838ad,'updateProps':()=>_0x202d63({'node':_0xd6a8e,'decorations':_0x431c36,'innerDecorations':_0x1838ad})});}return _0xd6a8e[_0x2253fb(0x120)]!==this[_0x2253fb(0x139)][_0x2253fb(0x120)]?!0x1:(_0xd6a8e===this[_0x2253fb(0x139)]&&this['decorations']===_0x431c36&&this[_0x2253fb(0x153)]===_0x1838ad||(this[_0x2253fb(0x139)]=_0xd6a8e,this[_0x2253fb(0x108)]=_0x431c36,this[_0x2253fb(0x153)]=_0x1838ad,_0x202d63({'node':_0xd6a8e,'decorations':_0x431c36,'innerDecorations':_0x1838ad})),!0x0);}[_0x4f983d(0x126)](){const _0x23bbc3=_0x4f983d;this['renderer'][_0x23bbc3(0x15d)]({'selected':!0x0}),this[_0x23bbc3(0x121)][_0x23bbc3(0x156)]&&this[_0x23bbc3(0x121)][_0x23bbc3(0x156)]['classList'][_0x23bbc3(0x138)](_0x23bbc3(0x12a));}['deselectNode'](){const _0x1e1535=_0x4f983d;this[_0x1e1535(0x121)][_0x1e1535(0x15d)]({'selected':!0x1}),this[_0x1e1535(0x121)]['element']&&this[_0x1e1535(0x121)]['element'][_0x1e1535(0x131)][_0x1e1535(0x15a)]('ProseMirror-selectednode');}[_0x4f983d(0x11f)](){const _0x1fd9a3=_0x4f983d;return this[_0x1fd9a3(0x108)][_0x1fd9a3(0x124)](_0x38d565=>_0x38d565[_0x1fd9a3(0x120)][_0x1fd9a3(0x10f)][_0x1fd9a3(0x14c)])['flat']()[_0x1fd9a3(0x148)]('\x20');}[_0x4f983d(0x12e)](){const _0x3e794a=_0x4f983d;this[_0x3e794a(0x121)][_0x3e794a(0x12e)](),this['editor'][_0x3e794a(0x12f)]('selectionUpdate',this['handleSelectionUpdate']);}}function F(_0x2a8403,_0x22145e){return _0x54506b=>{const _0x1ea069=_0x1ae5;if(!_0x54506b[_0x1ea069(0x109)][_0x1ea069(0x140)])return{};const _0x2b4267=typeof _0x2a8403==_0x1ea069(0x144)&&_0x1ea069(0x11d)in _0x2a8403?_0x2a8403[_0x1ea069(0x11d)]:_0x2a8403;return new q(_0x2b4267,_0x54506b,_0x22145e);};}export{M as E,U as N,F as V,P as a,R as n,L as u};