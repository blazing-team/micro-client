const _0xeb3bc0=_0x2aa0;function _0x29cd(){const _0x242ae6=['unregisterPlugin','selected','renderedComponent','querySelector','3384SovJSC','dom','proxy','flat','node','destroy','class','normal','rootEl','update','renderComponent','reactiveState','data-node-view-wrapper','innerDecorations','reactiveExtensionStorage','cloneNode','116YfNBzD','updateAttributes','props','exposed','13005WVhxUt','firstElementChild','createElement','map','value','contentComponent','component','[data-node-view-content]','decorations','extensionStorage','deleteNode','__file','getPos','editor','24ZFkfol','handleSelectionUpdate','selection','element','bind','HTMLAttributes','231PhoLUY','vNode','getDecorationClasses','__name','number','firstChild','onDragStart','template','6088401WiRCRF','forEach','decorationClasses','view','248409uEymPv','hasAttribute','nodeSize','isLeaf','join','beforeTransaction','selectNode','renderer','__vccOpts','$slots','__cssModules','2575125OIhHEG','remove','div','NodeViewWrapper','EditorContent','1758NckbOa','appContext','ctx','__scopeId','selectionUpdate','storage','setOptions','attrs','replaceChild','function','ref','type','updateProps','ProseMirror-selectednode','deselectNode','registerPlugin','state','call','extension','2050DjpJLD','options','childNodes','1915488BZalyl','classList','default'];_0x29cd=function(){return _0x242ae6;};return _0x29cd();}(function(_0x4f48b8,_0x2542a4){const _0xa06955=_0x2aa0,_0xfeedc1=_0x4f48b8();while(!![]){try{const _0x353414=parseInt(_0xa06955(0x16b))/0x1*(parseInt(_0xa06955(0x187))/0x2)+parseInt(_0xa06955(0x1a4))/0x3*(-parseInt(_0xa06955(0x1b4))/0x4)+-parseInt(_0xa06955(0x182))/0x5+parseInt(_0xa06955(0x1c6))/0x6*(parseInt(_0xa06955(0x177))/0x7)+parseInt(_0xa06955(0x19d))/0x8+-parseInt(_0xa06955(0x1b8))/0x9*(parseInt(_0xa06955(0x19a))/0xa)+parseInt(_0xa06955(0x173))/0xb;if(_0x353414===_0x2542a4)break;else _0xfeedc1['push'](_0xfeedc1['shift']());}catch(_0x48441e){_0xfeedc1['push'](_0xfeedc1['shift']());}}}(_0x29cd,0x47c4a));import'./vue-CtDVafEO.js';import{p as _0x368c29,q as _0x395d3f}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x2b041e,j as _0x30a1f8,h as _0x56683b,p as _0x4b0aa3,n as _0x5cb5c6,g as _0x2208d5,q as _0x543e34}from'./@vue.runtime-core-KVqrk7Le.js';function _0x2aa0(_0x1f63dc,_0x1e4e5b){_0x1f63dc=_0x1f63dc-0x167;const _0x29cd93=_0x29cd();let _0x2aa044=_0x29cd93[_0x1f63dc];return _0x2aa044;}import{s as _0x493184,r as _0x39c46b,u as _0x15ee0d,m,a as _0x552b52,c as _0x5e40e7}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x49ef5f}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x1e23b2){return _0x5e40e7((_0x5c5cd8,_0x513359)=>({'get'(){return _0x5c5cd8(),_0x1e23b2;},'set'(_0x420ee2){_0x1e23b2=_0x420ee2,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x513359();});});}}));}class E extends _0x368c29{constructor(_0x3de33d={}){const _0x20023d=_0x2aa0;return super(_0x3de33d),this[_0x20023d(0x1bd)]=null,this[_0x20023d(0x188)]=null,this[_0x20023d(0x1af)]=c(this[_0x20023d(0x176)]['state']),this[_0x20023d(0x1b2)]=c(this[_0x20023d(0x1c1)]),this['on'](_0x20023d(0x17c),({nextState:_0xb3af6f})=>{const _0x3989fa=_0x20023d;this[_0x3989fa(0x1af)]['value']=_0xb3af6f,this[_0x3989fa(0x1b2)][_0x3989fa(0x1bc)]=this[_0x3989fa(0x1c1)];}),m(this);}get[_0xeb3bc0(0x197)](){const _0x31be22=_0xeb3bc0;return this[_0x31be22(0x1af)]?this['reactiveState']['value']:this['view'][_0x31be22(0x197)];}get[_0xeb3bc0(0x18c)](){const _0xb84c51=_0xeb3bc0;return this[_0xb84c51(0x1b2)]?this[_0xb84c51(0x1b2)][_0xb84c51(0x1bc)]:super['storage'];}['registerPlugin'](_0x19394e,_0x486ef0){const _0x2cb71e=_0xeb3bc0,_0x1840e6=super[_0x2cb71e(0x196)](_0x19394e,_0x486ef0);return this[_0x2cb71e(0x1af)]&&(this[_0x2cb71e(0x1af)][_0x2cb71e(0x1bc)]=_0x1840e6),_0x1840e6;}[_0xeb3bc0(0x1a0)](_0x242638){const _0x1b55f6=_0xeb3bc0,_0x2f9702=super[_0x1b55f6(0x1a0)](_0x242638);return this[_0x1b55f6(0x1af)]&&_0x2f9702&&(this[_0x1b55f6(0x1af)][_0x1b55f6(0x1bc)]=_0x2f9702),_0x2f9702;}}const M=d({'name':_0xeb3bc0(0x186),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x155baa){const _0x2e58f4=_0x39c46b(),_0x359e68=_0x2208d5();return _0x4b0aa3(()=>{const _0x513f21=_0x2aa0,_0x4b4b72=_0x155baa['editor'];_0x4b4b72&&_0x4b4b72[_0x513f21(0x19b)][_0x513f21(0x168)]&&_0x2e58f4[_0x513f21(0x1bc)]&&_0x5cb5c6(()=>{const _0x213e80=_0x513f21;if(!_0x2e58f4[_0x213e80(0x1bc)]||!_0x4b4b72[_0x213e80(0x19b)]['element'][_0x213e80(0x170)])return;const _0xd275da=_0x15ee0d(_0x2e58f4[_0x213e80(0x1bc)]);_0x2e58f4['value']['append'](..._0x4b4b72[_0x213e80(0x19b)][_0x213e80(0x168)][_0x213e80(0x19c)]),_0x4b4b72[_0x213e80(0x1bd)]=_0x359e68[_0x213e80(0x189)]['_'],_0x359e68&&(_0x4b4b72[_0x213e80(0x188)]={..._0x359e68['appContext'],'provides':_0x359e68['provides']}),_0x4b4b72[_0x213e80(0x18d)]({'element':_0xd275da}),_0x4b4b72['createNodeViews']();});}),_0x30a1f8(()=>{const _0x3839de=_0x2aa0,_0xf64428=_0x155baa[_0x3839de(0x1c5)];_0xf64428&&(_0xf64428[_0x3839de(0x1bd)]=null,_0xf64428[_0x3839de(0x188)]=null);}),{'rootEl':_0x2e58f4};},'render'(){return _0x56683b('div',{'ref':_0x4100aa=>{const _0x4e9f93=_0x2aa0;this[_0x4e9f93(0x1ac)]=_0x4100aa;}});}}),U=d({'name':_0xeb3bc0(0x185),'props':{'as':{'type':String,'default':_0xeb3bc0(0x184)}},'inject':[_0xeb3bc0(0x171),_0xeb3bc0(0x175)],'render'(){const _0x2d6b46=_0xeb3bc0;var _0x2c94c5,_0x8b257b;return _0x56683b(this['as'],{'class':this[_0x2d6b46(0x175)],'style':{'whiteSpace':_0x2d6b46(0x1ab)},'data-node-view-wrapper':'','onDragstart':this['onDragStart']},(_0x8b257b=(_0x2c94c5=this[_0x2d6b46(0x180)])[_0x2d6b46(0x19f)])===null||_0x8b257b===void 0x0?void 0x0:_0x8b257b[_0x2d6b46(0x198)](_0x2c94c5));}}),L=(_0x210514={})=>{const _0x18c12f=_0x493184();return _0x2b041e(()=>{_0x18c12f['value']=new E(_0x210514);}),_0x30a1f8(()=>{const _0xeb4b87=_0x2aa0;var _0xfb0315,_0x5f33c6,_0x33f9bb;const _0x47df3b=(_0xfb0315=_0x18c12f[_0xeb4b87(0x1bc)])===null||_0xfb0315===void 0x0?void 0x0:_0xfb0315[_0xeb4b87(0x19b)][_0xeb4b87(0x168)],_0x1b6b44=_0x47df3b==null?void 0x0:_0x47df3b[_0xeb4b87(0x1b3)](!0x0);(_0x5f33c6=_0x47df3b==null?void 0x0:_0x47df3b['parentNode'])===null||_0x5f33c6===void 0x0||_0x5f33c6[_0xeb4b87(0x18f)](_0x1b6b44,_0x47df3b),(_0x33f9bb=_0x18c12f[_0xeb4b87(0x1bc)])===null||_0x33f9bb===void 0x0||_0x33f9bb['destroy']();}),_0x18c12f;};class P{constructor(_0x752f,{props:_0x3a7a6c={},editor:_0x389d58}){const _0x3b39d5=_0xeb3bc0;this['editor']=_0x389d58,this[_0x3b39d5(0x1be)]=m(_0x752f),this['el']=document[_0x3b39d5(0x1ba)](_0x3b39d5(0x184)),this['props']=_0x552b52(_0x3a7a6c),this['renderedComponent']=this[_0x3b39d5(0x1ae)]();}get['element'](){const _0x3b4d7b=_0xeb3bc0;return this[_0x3b4d7b(0x1a2)]['el'];}get[_0xeb3bc0(0x191)](){const _0x17cfaa=_0xeb3bc0;var _0x9d93e1,_0x2881e8,_0x4c4c5e,_0x39ab2d;return!((_0x2881e8=(_0x9d93e1=this['renderedComponent'][_0x17cfaa(0x16c)])===null||_0x9d93e1===void 0x0?void 0x0:_0x9d93e1[_0x17cfaa(0x1be)])===null||_0x2881e8===void 0x0)&&_0x2881e8[_0x17cfaa(0x1b7)]?this['renderedComponent'][_0x17cfaa(0x16c)]['component'][_0x17cfaa(0x1b7)]:(_0x39ab2d=(_0x4c4c5e=this[_0x17cfaa(0x1a2)][_0x17cfaa(0x16c)])===null||_0x4c4c5e===void 0x0?void 0x0:_0x4c4c5e['component'])===null||_0x39ab2d===void 0x0?void 0x0:_0x39ab2d[_0x17cfaa(0x1a6)];}[_0xeb3bc0(0x1ae)](){const _0x4997b6=_0xeb3bc0;let _0x16088c=_0x56683b(this[_0x4997b6(0x1be)],this['props']);return this[_0x4997b6(0x1c5)][_0x4997b6(0x188)]&&(_0x16088c[_0x4997b6(0x188)]=this[_0x4997b6(0x1c5)][_0x4997b6(0x188)]),typeof document<'u'&&this['el']&&_0x49ef5f(_0x16088c,this['el']),{'vNode':_0x16088c,'destroy':()=>{this['el']&&_0x49ef5f(null,this['el']),this['el']=null,_0x16088c=null;},'el':this['el']?this['el'][_0x4997b6(0x1b9)]:null};}['updateProps'](_0x383193={}){const _0x46b627=_0xeb3bc0;Object['entries'](_0x383193)[_0x46b627(0x174)](([_0x3304d0,_0x51cf7e])=>{const _0x3b4e7f=_0x46b627;this[_0x3b4e7f(0x1b6)][_0x3304d0]=_0x51cf7e;}),this[_0x46b627(0x1ae)]();}[_0xeb3bc0(0x1a9)](){const _0x4c6054=_0xeb3bc0;this[_0x4c6054(0x1a2)][_0x4c6054(0x1a9)]();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x395d3f{['mount'](){const _0x3c9ff7=_0xeb3bc0,_0x36331d={'editor':this[_0x3c9ff7(0x1c5)],'node':this[_0x3c9ff7(0x1a8)],'decorations':this[_0x3c9ff7(0x1c0)],'innerDecorations':this[_0x3c9ff7(0x1b1)],'view':this[_0x3c9ff7(0x176)],'selected':!0x1,'extension':this[_0x3c9ff7(0x199)],'HTMLAttributes':this[_0x3c9ff7(0x16a)],'getPos':()=>this['getPos'](),'updateAttributes':(_0x3d55da={})=>this[_0x3c9ff7(0x1b5)](_0x3d55da),'deleteNode':()=>this[_0x3c9ff7(0x1c2)]()},_0x19f21a=this['onDragStart'][_0x3c9ff7(0x169)](this);this[_0x3c9ff7(0x175)]=_0x39c46b(this['getDecorationClasses']());const _0x16360e=d({'extends':{...this[_0x3c9ff7(0x1be)]},'props':Object['keys'](_0x36331d),'template':this[_0x3c9ff7(0x1be)][_0x3c9ff7(0x172)],'setup':_0x3d04f4=>{const _0x216574=_0x3c9ff7;var _0x3b4bb6,_0x2557cf;return _0x543e34(_0x216574(0x171),_0x19f21a),_0x543e34(_0x216574(0x175),this[_0x216574(0x175)]),(_0x2557cf=(_0x3b4bb6=this['component'])['setup'])===null||_0x2557cf===void 0x0?void 0x0:_0x2557cf[_0x216574(0x198)](_0x3b4bb6,_0x3d04f4,{'expose':()=>{}});},'__scopeId':this['component'][_0x3c9ff7(0x18a)],'__cssModules':this[_0x3c9ff7(0x1be)][_0x3c9ff7(0x181)],'__name':this[_0x3c9ff7(0x1be)][_0x3c9ff7(0x16e)],'__file':this[_0x3c9ff7(0x1be)][_0x3c9ff7(0x1c3)]});this['handleSelectionUpdate']=this[_0x3c9ff7(0x1c7)]['bind'](this),this[_0x3c9ff7(0x1c5)]['on'](_0x3c9ff7(0x18b),this[_0x3c9ff7(0x1c7)]),this[_0x3c9ff7(0x17e)]=new P(_0x16360e,{'editor':this[_0x3c9ff7(0x1c5)],'props':_0x36331d});}get[_0xeb3bc0(0x1a5)](){const _0x46b081=_0xeb3bc0;if(!this[_0x46b081(0x17e)][_0x46b081(0x168)]||!this[_0x46b081(0x17e)][_0x46b081(0x168)][_0x46b081(0x178)](_0x46b081(0x1b0)))throw Error('Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.');return this[_0x46b081(0x17e)][_0x46b081(0x168)];}get['contentDOM'](){const _0x20f992=_0xeb3bc0;return this[_0x20f992(0x1a8)][_0x20f992(0x17a)]?null:this[_0x20f992(0x1a5)][_0x20f992(0x1a3)](_0x20f992(0x1bf));}[_0xeb3bc0(0x1c7)](){const _0x22eeaf=_0xeb3bc0,{from:_0x42d281,to:_0x319dc8}=this[_0x22eeaf(0x1c5)][_0x22eeaf(0x197)][_0x22eeaf(0x167)],_0x48997f=this[_0x22eeaf(0x1c4)]();if(typeof _0x48997f==_0x22eeaf(0x16f)){if(_0x42d281<=_0x48997f&&_0x319dc8>=_0x48997f+this['node'][_0x22eeaf(0x179)]){if(this['renderer'][_0x22eeaf(0x1b6)][_0x22eeaf(0x1a1)])return;this[_0x22eeaf(0x17d)]();}else{if(!this[_0x22eeaf(0x17e)][_0x22eeaf(0x1b6)][_0x22eeaf(0x1a1)])return;this[_0x22eeaf(0x195)]();}}}['update'](_0x4f065c,_0x3063d7,_0x256401){const _0x51a8a1=_0xeb3bc0,_0x5323cc=_0x5db286=>{const _0x200303=_0x2aa0;this['decorationClasses']['value']=this[_0x200303(0x16d)](),this[_0x200303(0x17e)][_0x200303(0x193)](_0x5db286);};if(typeof this[_0x51a8a1(0x19b)][_0x51a8a1(0x1ad)]=='function'){const _0x1a056d=this[_0x51a8a1(0x1a8)],_0xd50f09=this['decorations'],_0x3331b1=this[_0x51a8a1(0x1b1)];return this[_0x51a8a1(0x1a8)]=_0x4f065c,this[_0x51a8a1(0x1c0)]=_0x3063d7,this[_0x51a8a1(0x1b1)]=_0x256401,this[_0x51a8a1(0x19b)]['update']({'oldNode':_0x1a056d,'oldDecorations':_0xd50f09,'newNode':_0x4f065c,'newDecorations':_0x3063d7,'oldInnerDecorations':_0x3331b1,'innerDecorations':_0x256401,'updateProps':()=>_0x5323cc({'node':_0x4f065c,'decorations':_0x3063d7,'innerDecorations':_0x256401})});}return _0x4f065c['type']!==this[_0x51a8a1(0x1a8)][_0x51a8a1(0x192)]?!0x1:(_0x4f065c===this[_0x51a8a1(0x1a8)]&&this[_0x51a8a1(0x1c0)]===_0x3063d7&&this[_0x51a8a1(0x1b1)]===_0x256401||(this[_0x51a8a1(0x1a8)]=_0x4f065c,this[_0x51a8a1(0x1c0)]=_0x3063d7,this[_0x51a8a1(0x1b1)]=_0x256401,_0x5323cc({'node':_0x4f065c,'decorations':_0x3063d7,'innerDecorations':_0x256401})),!0x0);}[_0xeb3bc0(0x17d)](){const _0x3f235f=_0xeb3bc0;this[_0x3f235f(0x17e)]['updateProps']({'selected':!0x0}),this[_0x3f235f(0x17e)][_0x3f235f(0x168)]&&this[_0x3f235f(0x17e)]['element'][_0x3f235f(0x19e)]['add'](_0x3f235f(0x194));}['deselectNode'](){const _0x4b8519=_0xeb3bc0;this[_0x4b8519(0x17e)][_0x4b8519(0x193)]({'selected':!0x1}),this['renderer'][_0x4b8519(0x168)]&&this[_0x4b8519(0x17e)][_0x4b8519(0x168)][_0x4b8519(0x19e)][_0x4b8519(0x183)](_0x4b8519(0x194));}[_0xeb3bc0(0x16d)](){const _0x10482c=_0xeb3bc0;return this[_0x10482c(0x1c0)][_0x10482c(0x1bb)](_0x3b7220=>_0x3b7220['type'][_0x10482c(0x18e)][_0x10482c(0x1aa)])[_0x10482c(0x1a7)]()[_0x10482c(0x17b)]('\x20');}[_0xeb3bc0(0x1a9)](){const _0x56acc8=_0xeb3bc0;this[_0x56acc8(0x17e)][_0x56acc8(0x1a9)](),this[_0x56acc8(0x1c5)]['off']('selectionUpdate',this[_0x56acc8(0x1c7)]);}}function F(_0x3a2ae5,_0x541ea8){return _0x3fc09b=>{const _0x140840=_0x2aa0;if(!_0x3fc09b[_0x140840(0x1c5)][_0x140840(0x1bd)])return{};const _0x5efe94=typeof _0x3a2ae5==_0x140840(0x190)&&_0x140840(0x17f)in _0x3a2ae5?_0x3a2ae5[_0x140840(0x17f)]:_0x3a2ae5;return new q(_0x5efe94,_0x3fc09b,_0x541ea8);};}export{M as E,U as N,F as V,P as a,R as n,L as u};