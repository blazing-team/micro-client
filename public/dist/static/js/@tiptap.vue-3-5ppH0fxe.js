function _0x2899(){const _0x523d8b=['selectionUpdate','HTMLAttributes','ref','decorationClasses','295eMylVL','call','append','add','selection','54042JHwDfU','keys','11IvfvxJ','contentComponent','selected','editor','extension','element','function','type','createNodeViews','nodeSize','normal','flat','dom','entries','2903570CBQPvC','__scopeId','deleteNode','props','1341729SxPSOJ','exposed','registerPlugin','$slots','childNodes','__cssModules','ctx','onDragStart','1033164egndqw','EditorContent','provides','join','createElement','appContext','state','options','4NVakhf','div','reactiveExtensionStorage','proxy','decorations','component','destroy','vNode','classList','deselectNode','cloneNode','__vccOpts','getDecorationClasses','handleSelectionUpdate','renderComponent','updateProps','parentNode','setOptions','view','7336vuPQGB','rootEl','1351kwKaBZ','12534CDNsDw','updateAttributes','290499gvJrQr','reactiveState','renderer','forEach','node','value','innerDecorations','unregisterPlugin','template','__name','storage','bind','map','renderedComponent','selectNode'];_0x2899=function(){return _0x523d8b;};return _0x2899();}const _0x20a74c=_0x3d69;(function(_0x4683e5,_0x1f031f){const _0x47ae27=_0x3d69,_0x22f7db=_0x4683e5();while(!![]){try{const _0x15ea2b=-parseInt(_0x47ae27(0xf3))/0x1*(-parseInt(_0x47ae27(0xc3))/0x2)+parseInt(_0x47ae27(0xdb))/0x3+-parseInt(_0x47ae27(0xbb))/0x4+parseInt(_0x47ae27(0xee))/0x5*(-parseInt(_0x47ae27(0xd9))/0x6)+parseInt(_0x47ae27(0xd8))/0x7*(parseInt(_0x47ae27(0xd6))/0x8)+-parseInt(_0x47ae27(0xb3))/0x9+parseInt(_0x47ae27(0xaf))/0xa*(parseInt(_0x47ae27(0xf5))/0xb);if(_0x15ea2b===_0x1f031f)break;else _0x22f7db['push'](_0x22f7db['shift']());}catch(_0x549aa0){_0x22f7db['push'](_0x22f7db['shift']());}}}(_0x2899,0x22940));import'./vue-CtDVafEO.js';import{p as _0x1e514e,q as _0x489e00}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x2dd6ca,j as _0xad1d1b,h as _0x41bb87,p as _0x3a1597,n as _0x3a4d80,g as _0x388365,q as _0x3c7d7b}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x4031fc,r as _0x1b88ef,u as _0x3136bd,m,a as _0x1305ad,c as _0x5df9c6}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x3f645b}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x22fdcf){return _0x5df9c6((_0x654940,_0x15c211)=>({'get'(){return _0x654940(),_0x22fdcf;},'set'(_0x131a2c){_0x22fdcf=_0x131a2c,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x15c211();});});}}));}class E extends _0x1e514e{constructor(_0x28230b={}){const _0x1f41bb=_0x3d69;return super(_0x28230b),this['contentComponent']=null,this[_0x1f41bb(0xc0)]=null,this[_0x1f41bb(0xdc)]=c(this[_0x1f41bb(0xd5)]['state']),this[_0x1f41bb(0xc5)]=c(this['extensionStorage']),this['on']('beforeTransaction',({nextState:_0x2bfce6})=>{const _0x5beeae=_0x1f41bb;this[_0x5beeae(0xdc)][_0x5beeae(0xe0)]=_0x2bfce6,this[_0x5beeae(0xc5)]['value']=this['extensionStorage'];}),m(this);}get[_0x20a74c(0xc1)](){const _0x3b5228=_0x20a74c;return this[_0x3b5228(0xdc)]?this['reactiveState'][_0x3b5228(0xe0)]:this[_0x3b5228(0xd5)][_0x3b5228(0xc1)];}get[_0x20a74c(0xe5)](){const _0x60fa09=_0x20a74c;return this[_0x60fa09(0xc5)]?this[_0x60fa09(0xc5)][_0x60fa09(0xe0)]:super[_0x60fa09(0xe5)];}['registerPlugin'](_0x204087,_0x52452e){const _0x467ccb=_0x20a74c,_0x495785=super[_0x467ccb(0xb5)](_0x204087,_0x52452e);return this[_0x467ccb(0xdc)]&&(this[_0x467ccb(0xdc)][_0x467ccb(0xe0)]=_0x495785),_0x495785;}['unregisterPlugin'](_0x42e330){const _0x5096fb=_0x20a74c,_0x3d0b3a=super[_0x5096fb(0xe2)](_0x42e330);return this[_0x5096fb(0xdc)]&&_0x3d0b3a&&(this['reactiveState'][_0x5096fb(0xe0)]=_0x3d0b3a),_0x3d0b3a;}}const M=d({'name':_0x20a74c(0xbc),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x42a01e){const _0x3cd398=_0x1b88ef(),_0xc1910b=_0x388365();return _0x3a1597(()=>{const _0x21c0f0=_0x3d69,_0x29a555=_0x42a01e[_0x21c0f0(0xf8)];_0x29a555&&_0x29a555[_0x21c0f0(0xc2)][_0x21c0f0(0xfa)]&&_0x3cd398[_0x21c0f0(0xe0)]&&_0x3a4d80(()=>{const _0x56bdfb=_0x21c0f0;if(!_0x3cd398['value']||!_0x29a555['options'][_0x56bdfb(0xfa)]['firstChild'])return;const _0x59964b=_0x3136bd(_0x3cd398['value']);_0x3cd398[_0x56bdfb(0xe0)][_0x56bdfb(0xf0)](..._0x29a555['options'][_0x56bdfb(0xfa)][_0x56bdfb(0xb7)]),_0x29a555[_0x56bdfb(0xf6)]=_0xc1910b[_0x56bdfb(0xb9)]['_'],_0xc1910b&&(_0x29a555[_0x56bdfb(0xc0)]={..._0xc1910b[_0x56bdfb(0xc0)],'provides':_0xc1910b[_0x56bdfb(0xbd)]}),_0x29a555[_0x56bdfb(0xd4)]({'element':_0x59964b}),_0x29a555[_0x56bdfb(0xa9)]();});}),_0xad1d1b(()=>{const _0x4d195a=_0x3d69,_0x5075f9=_0x42a01e['editor'];_0x5075f9&&(_0x5075f9[_0x4d195a(0xf6)]=null,_0x5075f9[_0x4d195a(0xc0)]=null);}),{'rootEl':_0x3cd398};},'render'(){return _0x41bb87('div',{'ref':_0x57ca48=>{const _0x44b712=_0x3d69;this[_0x44b712(0xd7)]=_0x57ca48;}});}}),U=d({'name':'NodeViewWrapper','props':{'as':{'type':String,'default':_0x20a74c(0xc4)}},'inject':[_0x20a74c(0xba),_0x20a74c(0xed)],'render'(){const _0x5c5370=_0x20a74c;var _0x853b04,_0x41cd0d;return _0x41bb87(this['as'],{'class':this[_0x5c5370(0xed)],'style':{'whiteSpace':_0x5c5370(0xab)},'data-node-view-wrapper':'','onDragstart':this[_0x5c5370(0xba)]},(_0x41cd0d=(_0x853b04=this[_0x5c5370(0xb6)])['default'])===null||_0x41cd0d===void 0x0?void 0x0:_0x41cd0d[_0x5c5370(0xef)](_0x853b04));}}),L=(_0x5d93b6={})=>{const _0x167251=_0x4031fc();return _0x2dd6ca(()=>{_0x167251['value']=new E(_0x5d93b6);}),_0xad1d1b(()=>{const _0x2c0c05=_0x3d69;var _0x3334e8,_0x488f78,_0x3cad45;const _0x3a0313=(_0x3334e8=_0x167251[_0x2c0c05(0xe0)])===null||_0x3334e8===void 0x0?void 0x0:_0x3334e8[_0x2c0c05(0xc2)]['element'],_0x564785=_0x3a0313==null?void 0x0:_0x3a0313[_0x2c0c05(0xcd)](!0x0);(_0x488f78=_0x3a0313==null?void 0x0:_0x3a0313[_0x2c0c05(0xd3)])===null||_0x488f78===void 0x0||_0x488f78['replaceChild'](_0x564785,_0x3a0313),(_0x3cad45=_0x167251[_0x2c0c05(0xe0)])===null||_0x3cad45===void 0x0||_0x3cad45['destroy']();}),_0x167251;};function _0x3d69(_0x322f89,_0x245f0c){_0x322f89=_0x322f89-0xa9;const _0x289952=_0x2899();let _0x3d69ef=_0x289952[_0x322f89];return _0x3d69ef;}class P{constructor(_0x4dd289,{props:_0x2675b4={},editor:_0x5ab155}){const _0x110faf=_0x20a74c;this[_0x110faf(0xf8)]=_0x5ab155,this[_0x110faf(0xc8)]=m(_0x4dd289),this['el']=document[_0x110faf(0xbf)]('div'),this[_0x110faf(0xb2)]=_0x1305ad(_0x2675b4),this[_0x110faf(0xe8)]=this['renderComponent']();}get[_0x20a74c(0xfa)](){const _0x284085=_0x20a74c;return this[_0x284085(0xe8)]['el'];}get[_0x20a74c(0xec)](){const _0x527e62=_0x20a74c;var _0x3d10da,_0x44537f,_0x167a7b,_0x4bf6b6;return!((_0x44537f=(_0x3d10da=this[_0x527e62(0xe8)][_0x527e62(0xca)])===null||_0x3d10da===void 0x0?void 0x0:_0x3d10da[_0x527e62(0xc8)])===null||_0x44537f===void 0x0)&&_0x44537f[_0x527e62(0xb4)]?this['renderedComponent'][_0x527e62(0xca)]['component'][_0x527e62(0xb4)]:(_0x4bf6b6=(_0x167a7b=this[_0x527e62(0xe8)][_0x527e62(0xca)])===null||_0x167a7b===void 0x0?void 0x0:_0x167a7b['component'])===null||_0x4bf6b6===void 0x0?void 0x0:_0x4bf6b6[_0x527e62(0xc6)];}[_0x20a74c(0xd1)](){const _0x351e96=_0x20a74c;let _0x11e23f=_0x41bb87(this[_0x351e96(0xc8)],this[_0x351e96(0xb2)]);return this[_0x351e96(0xf8)][_0x351e96(0xc0)]&&(_0x11e23f[_0x351e96(0xc0)]=this[_0x351e96(0xf8)][_0x351e96(0xc0)]),typeof document<'u'&&this['el']&&_0x3f645b(_0x11e23f,this['el']),{'vNode':_0x11e23f,'destroy':()=>{this['el']&&_0x3f645b(null,this['el']),this['el']=null,_0x11e23f=null;},'el':this['el']?this['el']['firstElementChild']:null};}[_0x20a74c(0xd2)](_0x29c2da={}){const _0xb01d68=_0x20a74c;Object[_0xb01d68(0xae)](_0x29c2da)[_0xb01d68(0xde)](([_0x2431ff,_0x1a6f33])=>{const _0x54d53d=_0xb01d68;this[_0x54d53d(0xb2)][_0x2431ff]=_0x1a6f33;}),this[_0xb01d68(0xd1)]();}['destroy'](){const _0x1cd233=_0x20a74c;this['renderedComponent'][_0x1cd233(0xc9)]();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x489e00{['mount'](){const _0x46a6f6=_0x20a74c,_0x286cef={'editor':this['editor'],'node':this[_0x46a6f6(0xdf)],'decorations':this['decorations'],'innerDecorations':this['innerDecorations'],'view':this['view'],'selected':!0x1,'extension':this[_0x46a6f6(0xf9)],'HTMLAttributes':this[_0x46a6f6(0xeb)],'getPos':()=>this['getPos'](),'updateAttributes':(_0x7922c2={})=>this[_0x46a6f6(0xda)](_0x7922c2),'deleteNode':()=>this[_0x46a6f6(0xb1)]()},_0x461653=this[_0x46a6f6(0xba)]['bind'](this);this[_0x46a6f6(0xed)]=_0x1b88ef(this[_0x46a6f6(0xcf)]());const _0x51bed2=d({'extends':{...this[_0x46a6f6(0xc8)]},'props':Object[_0x46a6f6(0xf4)](_0x286cef),'template':this[_0x46a6f6(0xc8)][_0x46a6f6(0xe3)],'setup':_0x5cd888=>{const _0xddf7a2=_0x46a6f6;var _0x3fd91d,_0x43c8cf;return _0x3c7d7b(_0xddf7a2(0xba),_0x461653),_0x3c7d7b(_0xddf7a2(0xed),this[_0xddf7a2(0xed)]),(_0x43c8cf=(_0x3fd91d=this[_0xddf7a2(0xc8)])['setup'])===null||_0x43c8cf===void 0x0?void 0x0:_0x43c8cf[_0xddf7a2(0xef)](_0x3fd91d,_0x5cd888,{'expose':()=>{}});},'__scopeId':this['component'][_0x46a6f6(0xb0)],'__cssModules':this[_0x46a6f6(0xc8)][_0x46a6f6(0xb8)],'__name':this[_0x46a6f6(0xc8)][_0x46a6f6(0xe4)],'__file':this['component']['__file']});this[_0x46a6f6(0xd0)]=this[_0x46a6f6(0xd0)][_0x46a6f6(0xe6)](this),this[_0x46a6f6(0xf8)]['on'](_0x46a6f6(0xea),this[_0x46a6f6(0xd0)]),this['renderer']=new P(_0x51bed2,{'editor':this[_0x46a6f6(0xf8)],'props':_0x286cef});}get[_0x20a74c(0xad)](){const _0x308869=_0x20a74c;if(!this['renderer'][_0x308869(0xfa)]||!this[_0x308869(0xdd)][_0x308869(0xfa)]['hasAttribute']('data-node-view-wrapper'))throw Error('Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.');return this['renderer'][_0x308869(0xfa)];}get['contentDOM'](){const _0x235f19=_0x20a74c;return this[_0x235f19(0xdf)]['isLeaf']?null:this[_0x235f19(0xad)]['querySelector']('[data-node-view-content]');}[_0x20a74c(0xd0)](){const _0x1daee3=_0x20a74c,{from:_0x5601b4,to:_0x5f0686}=this['editor'][_0x1daee3(0xc1)][_0x1daee3(0xf2)],_0x373ece=this['getPos']();if(typeof _0x373ece=='number'){if(_0x5601b4<=_0x373ece&&_0x5f0686>=_0x373ece+this[_0x1daee3(0xdf)][_0x1daee3(0xaa)]){if(this['renderer'][_0x1daee3(0xb2)][_0x1daee3(0xf7)])return;this[_0x1daee3(0xe9)]();}else{if(!this['renderer'][_0x1daee3(0xb2)][_0x1daee3(0xf7)])return;this[_0x1daee3(0xcc)]();}}}['update'](_0x4be499,_0x43cc23,_0x154130){const _0x245657=_0x20a74c,_0x54c0f8=_0x56e47a=>{const _0xd47f8a=_0x3d69;this['decorationClasses']['value']=this[_0xd47f8a(0xcf)](),this[_0xd47f8a(0xdd)]['updateProps'](_0x56e47a);};if(typeof this[_0x245657(0xc2)]['update']=='function'){const _0x11c480=this[_0x245657(0xdf)],_0x3c0d47=this[_0x245657(0xc7)],_0x71d0c3=this['innerDecorations'];return this[_0x245657(0xdf)]=_0x4be499,this[_0x245657(0xc7)]=_0x43cc23,this[_0x245657(0xe1)]=_0x154130,this[_0x245657(0xc2)]['update']({'oldNode':_0x11c480,'oldDecorations':_0x3c0d47,'newNode':_0x4be499,'newDecorations':_0x43cc23,'oldInnerDecorations':_0x71d0c3,'innerDecorations':_0x154130,'updateProps':()=>_0x54c0f8({'node':_0x4be499,'decorations':_0x43cc23,'innerDecorations':_0x154130})});}return _0x4be499['type']!==this[_0x245657(0xdf)][_0x245657(0xfc)]?!0x1:(_0x4be499===this[_0x245657(0xdf)]&&this[_0x245657(0xc7)]===_0x43cc23&&this[_0x245657(0xe1)]===_0x154130||(this[_0x245657(0xdf)]=_0x4be499,this[_0x245657(0xc7)]=_0x43cc23,this[_0x245657(0xe1)]=_0x154130,_0x54c0f8({'node':_0x4be499,'decorations':_0x43cc23,'innerDecorations':_0x154130})),!0x0);}[_0x20a74c(0xe9)](){const _0x162a3e=_0x20a74c;this[_0x162a3e(0xdd)][_0x162a3e(0xd2)]({'selected':!0x0}),this[_0x162a3e(0xdd)][_0x162a3e(0xfa)]&&this[_0x162a3e(0xdd)][_0x162a3e(0xfa)][_0x162a3e(0xcb)][_0x162a3e(0xf1)]('ProseMirror-selectednode');}[_0x20a74c(0xcc)](){const _0x14583f=_0x20a74c;this[_0x14583f(0xdd)][_0x14583f(0xd2)]({'selected':!0x1}),this[_0x14583f(0xdd)][_0x14583f(0xfa)]&&this[_0x14583f(0xdd)]['element'][_0x14583f(0xcb)]['remove']('ProseMirror-selectednode');}['getDecorationClasses'](){const _0x3bdf30=_0x20a74c;return this[_0x3bdf30(0xc7)][_0x3bdf30(0xe7)](_0x3fbfbb=>_0x3fbfbb['type']['attrs']['class'])[_0x3bdf30(0xac)]()[_0x3bdf30(0xbe)]('\x20');}['destroy'](){const _0x301644=_0x20a74c;this[_0x301644(0xdd)]['destroy'](),this[_0x301644(0xf8)]['off'](_0x301644(0xea),this[_0x301644(0xd0)]);}}function F(_0x571b4,_0x41ae69){return _0x2ff553=>{const _0x3cbf6f=_0x3d69;if(!_0x2ff553['editor']['contentComponent'])return{};const _0x4e504e=typeof _0x571b4==_0x3cbf6f(0xfb)&&_0x3cbf6f(0xce)in _0x571b4?_0x571b4[_0x3cbf6f(0xce)]:_0x571b4;return new q(_0x4e504e,_0x2ff553,_0x41ae69);};}export{M as E,U as N,F as V,P as a,R as n,L as u};