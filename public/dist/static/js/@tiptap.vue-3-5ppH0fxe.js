const _0x583deb=_0x48f0;function _0x48f0(_0x317525,_0x3a0672){_0x317525=_0x317525-0x1d2;const _0x436ed1=_0x436e();let _0x48f021=_0x436ed1[_0x317525];return _0x48f021;}(function(_0x2499b0,_0x1579a3){const _0x536c84=_0x48f0,_0xbff0dd=_0x2499b0();while(!![]){try{const _0x4e8611=-parseInt(_0x536c84(0x1dd))/0x1+parseInt(_0x536c84(0x1ed))/0x2+parseInt(_0x536c84(0x219))/0x3+parseInt(_0x536c84(0x206))/0x4+parseInt(_0x536c84(0x20f))/0x5*(-parseInt(_0x536c84(0x21c))/0x6)+parseInt(_0x536c84(0x200))/0x7+-parseInt(_0x536c84(0x21b))/0x8*(parseInt(_0x536c84(0x1e5))/0x9);if(_0x4e8611===_0x1579a3)break;else _0xbff0dd['push'](_0xbff0dd['shift']());}catch(_0x3b4ada){_0xbff0dd['push'](_0xbff0dd['shift']());}}}(_0x436e,0xa2bd5));function _0x436e(){const _0x19d5ab=['default','update','createElement','props','[data-node-view-content]','append','nodeSize','175455fpbrIj','provides','data-node-view-wrapper','attrs','flat','contentDOM','selected','decorationClasses','querySelector','editor','1971963rNxflO','add','24ghrUyZ','6dKdjqX','createNodeViews','class','appContext','view','onDragStart','deselectNode','options','firstElementChild','reactiveState','contentComponent','type','hasAttribute','registerPlugin','ProseMirror-selectednode','element','setup','updateProps','__vccOpts','selectNode','updateAttributes','__name','classList','handleSelectionUpdate','entries','selectionUpdate','exposed','HTMLAttributes','595249RBFVkm','firstChild','value','bind','proxy','mount','$slots','node','4628655tRhwMP','destroy','call','state','renderComponent','renderedComponent','vNode','deleteNode','1338576KuGKcJ','extensionStorage','map','innerDecorations','reactiveExtensionStorage','selection','extension','getPos','component','parentNode','rootEl','off','unregisterPlugin','renderer','normal','__scopeId','childNodes','dom','join','8546629LOiUaz','storage','ctx','getDecorationClasses','decorations','keys','1169000PQBBLT','setOptions'];_0x436e=function(){return _0x19d5ab;};return _0x436e();}import'./vue-CtDVafEO.js';import{p as _0xd495be,q as _0x2f9f54}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x5b5517,j as _0x4771ee,h as _0x128803,p as _0x41528c,n as _0x4bfdae,g as _0x94b818,q as _0x46a55b}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x4a99fd,r as _0x96462d,u as _0x4312ca,m,a as _0x44d6eb,c as _0x1605bd}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x3c0396}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x5a8ec4){return _0x1605bd((_0x560e0b,_0x5f471c)=>({'get'(){return _0x560e0b(),_0x5a8ec4;},'set'(_0x4e2df4){_0x5a8ec4=_0x4e2df4,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x5f471c();});});}}));}class E extends _0xd495be{constructor(_0xc4324c={}){const _0xfaf9fb=_0x48f0;return super(_0xc4324c),this[_0xfaf9fb(0x226)]=null,this[_0xfaf9fb(0x21f)]=null,this[_0xfaf9fb(0x225)]=c(this['view'][_0xfaf9fb(0x1e8)]),this[_0xfaf9fb(0x1f1)]=c(this[_0xfaf9fb(0x1ee)]),this['on']('beforeTransaction',({nextState:_0x34b0c6})=>{const _0x5cc3c1=_0xfaf9fb;this['reactiveState']['value']=_0x34b0c6,this[_0x5cc3c1(0x1f1)][_0x5cc3c1(0x1df)]=this[_0x5cc3c1(0x1ee)];}),m(this);}get['state'](){const _0x379fb4=_0x48f0;return this[_0x379fb4(0x225)]?this[_0x379fb4(0x225)][_0x379fb4(0x1df)]:this[_0x379fb4(0x220)]['state'];}get[_0x583deb(0x201)](){const _0x5cd775=_0x583deb;return this[_0x5cd775(0x1f1)]?this['reactiveExtensionStorage']['value']:super[_0x5cd775(0x201)];}[_0x583deb(0x229)](_0x415952,_0x2605ae){const _0x4860b9=_0x583deb,_0x4877b6=super[_0x4860b9(0x229)](_0x415952,_0x2605ae);return this['reactiveState']&&(this[_0x4860b9(0x225)][_0x4860b9(0x1df)]=_0x4877b6),_0x4877b6;}[_0x583deb(0x1f9)](_0x1273ad){const _0x118eb9=_0x583deb,_0x30a064=super[_0x118eb9(0x1f9)](_0x1273ad);return this['reactiveState']&&_0x30a064&&(this['reactiveState'][_0x118eb9(0x1df)]=_0x30a064),_0x30a064;}}const M=d({'name':'EditorContent','props':{'editor':{'default':null,'type':Object}},'setup'(_0x4934ec){const _0x4ac062=_0x96462d(),_0x29a39b=_0x94b818();return _0x41528c(()=>{const _0x1661a1=_0x48f0,_0x14958d=_0x4934ec[_0x1661a1(0x218)];_0x14958d&&_0x14958d['options'][_0x1661a1(0x22b)]&&_0x4ac062[_0x1661a1(0x1df)]&&_0x4bfdae(()=>{const _0x3093bc=_0x1661a1;if(!_0x4ac062[_0x3093bc(0x1df)]||!_0x14958d['options'][_0x3093bc(0x22b)][_0x3093bc(0x1de)])return;const _0x1c361d=_0x4312ca(_0x4ac062[_0x3093bc(0x1df)]);_0x4ac062['value'][_0x3093bc(0x20d)](..._0x14958d[_0x3093bc(0x223)][_0x3093bc(0x22b)][_0x3093bc(0x1fd)]),_0x14958d[_0x3093bc(0x226)]=_0x29a39b[_0x3093bc(0x202)]['_'],_0x29a39b&&(_0x14958d['appContext']={..._0x29a39b[_0x3093bc(0x21f)],'provides':_0x29a39b[_0x3093bc(0x210)]}),_0x14958d[_0x3093bc(0x207)]({'element':_0x1c361d}),_0x14958d[_0x3093bc(0x21d)]();});}),_0x4771ee(()=>{const _0x6a051f=_0x48f0,_0x5b2af5=_0x4934ec[_0x6a051f(0x218)];_0x5b2af5&&(_0x5b2af5[_0x6a051f(0x226)]=null,_0x5b2af5['appContext']=null);}),{'rootEl':_0x4ac062};},'render'(){return _0x128803('div',{'ref':_0x43f5e5=>{const _0x57f8c8=_0x48f0;this[_0x57f8c8(0x1f7)]=_0x43f5e5;}});}}),U=d({'name':'NodeViewWrapper','props':{'as':{'type':String,'default':'div'}},'inject':[_0x583deb(0x221),'decorationClasses'],'render'(){const _0xc62564=_0x583deb;var _0x5d42d5,_0x5400fd;return _0x128803(this['as'],{'class':this[_0xc62564(0x216)],'style':{'whiteSpace':_0xc62564(0x1fb)},'data-node-view-wrapper':'','onDragstart':this['onDragStart']},(_0x5400fd=(_0x5d42d5=this[_0xc62564(0x1e3)])[_0xc62564(0x208)])===null||_0x5400fd===void 0x0?void 0x0:_0x5400fd[_0xc62564(0x1e7)](_0x5d42d5));}}),L=(_0x516810={})=>{const _0x5bd85a=_0x4a99fd();return _0x5b5517(()=>{_0x5bd85a['value']=new E(_0x516810);}),_0x4771ee(()=>{const _0x223183=_0x48f0;var _0x29b230,_0x361747,_0x4a33ff;const _0x3aafaa=(_0x29b230=_0x5bd85a['value'])===null||_0x29b230===void 0x0?void 0x0:_0x29b230[_0x223183(0x223)][_0x223183(0x22b)],_0x4857f7=_0x3aafaa==null?void 0x0:_0x3aafaa['cloneNode'](!0x0);(_0x361747=_0x3aafaa==null?void 0x0:_0x3aafaa[_0x223183(0x1f6)])===null||_0x361747===void 0x0||_0x361747['replaceChild'](_0x4857f7,_0x3aafaa),(_0x4a33ff=_0x5bd85a[_0x223183(0x1df)])===null||_0x4a33ff===void 0x0||_0x4a33ff['destroy']();}),_0x5bd85a;};class P{constructor(_0x242c4f,{props:_0x441de={},editor:_0x5c5615}){const _0x3e5632=_0x583deb;this[_0x3e5632(0x218)]=_0x5c5615,this[_0x3e5632(0x1f5)]=m(_0x242c4f),this['el']=document[_0x3e5632(0x20a)]('div'),this[_0x3e5632(0x20b)]=_0x44d6eb(_0x441de),this[_0x3e5632(0x1ea)]=this[_0x3e5632(0x1e9)]();}get[_0x583deb(0x22b)](){return this['renderedComponent']['el'];}get['ref'](){const _0x33f4d5=_0x583deb;var _0x4abef6,_0x3eaa09,_0x22fadd,_0x590494;return!((_0x3eaa09=(_0x4abef6=this[_0x33f4d5(0x1ea)][_0x33f4d5(0x1eb)])===null||_0x4abef6===void 0x0?void 0x0:_0x4abef6[_0x33f4d5(0x1f5)])===null||_0x3eaa09===void 0x0)&&_0x3eaa09[_0x33f4d5(0x1db)]?this['renderedComponent'][_0x33f4d5(0x1eb)][_0x33f4d5(0x1f5)][_0x33f4d5(0x1db)]:(_0x590494=(_0x22fadd=this[_0x33f4d5(0x1ea)][_0x33f4d5(0x1eb)])===null||_0x22fadd===void 0x0?void 0x0:_0x22fadd[_0x33f4d5(0x1f5)])===null||_0x590494===void 0x0?void 0x0:_0x590494[_0x33f4d5(0x1e1)];}['renderComponent'](){const _0x23aa76=_0x583deb;let _0x5cac97=_0x128803(this[_0x23aa76(0x1f5)],this[_0x23aa76(0x20b)]);return this[_0x23aa76(0x218)][_0x23aa76(0x21f)]&&(_0x5cac97[_0x23aa76(0x21f)]=this['editor']['appContext']),typeof document<'u'&&this['el']&&_0x3c0396(_0x5cac97,this['el']),{'vNode':_0x5cac97,'destroy':()=>{this['el']&&_0x3c0396(null,this['el']),this['el']=null,_0x5cac97=null;},'el':this['el']?this['el'][_0x23aa76(0x224)]:null};}[_0x583deb(0x1d2)](_0x35f421={}){const _0x1cead5=_0x583deb;Object[_0x1cead5(0x1d9)](_0x35f421)['forEach'](([_0x4c5c8e,_0x16fffc])=>{this['props'][_0x4c5c8e]=_0x16fffc;}),this[_0x1cead5(0x1e9)]();}[_0x583deb(0x1e6)](){const _0x49d84a=_0x583deb;this[_0x49d84a(0x1ea)]['destroy']();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x2f9f54{[_0x583deb(0x1e2)](){const _0x58f65d=_0x583deb,_0x96a8a3={'editor':this[_0x58f65d(0x218)],'node':this[_0x58f65d(0x1e4)],'decorations':this[_0x58f65d(0x204)],'innerDecorations':this[_0x58f65d(0x1f0)],'view':this[_0x58f65d(0x220)],'selected':!0x1,'extension':this[_0x58f65d(0x1f3)],'HTMLAttributes':this[_0x58f65d(0x1dc)],'getPos':()=>this[_0x58f65d(0x1f4)](),'updateAttributes':(_0x5be2dc={})=>this[_0x58f65d(0x1d5)](_0x5be2dc),'deleteNode':()=>this[_0x58f65d(0x1ec)]()},_0x250259=this['onDragStart'][_0x58f65d(0x1e0)](this);this['decorationClasses']=_0x96462d(this[_0x58f65d(0x203)]());const _0x1b3f8c=d({'extends':{...this[_0x58f65d(0x1f5)]},'props':Object[_0x58f65d(0x205)](_0x96a8a3),'template':this[_0x58f65d(0x1f5)]['template'],'setup':_0x5a5f4e=>{const _0x2b1f10=_0x58f65d;var _0x41a5cf,_0x370f5a;return _0x46a55b(_0x2b1f10(0x221),_0x250259),_0x46a55b(_0x2b1f10(0x216),this[_0x2b1f10(0x216)]),(_0x370f5a=(_0x41a5cf=this[_0x2b1f10(0x1f5)])[_0x2b1f10(0x22c)])===null||_0x370f5a===void 0x0?void 0x0:_0x370f5a[_0x2b1f10(0x1e7)](_0x41a5cf,_0x5a5f4e,{'expose':()=>{}});},'__scopeId':this[_0x58f65d(0x1f5)][_0x58f65d(0x1fc)],'__cssModules':this[_0x58f65d(0x1f5)]['__cssModules'],'__name':this[_0x58f65d(0x1f5)][_0x58f65d(0x1d6)],'__file':this[_0x58f65d(0x1f5)]['__file']});this[_0x58f65d(0x1d8)]=this[_0x58f65d(0x1d8)][_0x58f65d(0x1e0)](this),this[_0x58f65d(0x218)]['on'](_0x58f65d(0x1da),this[_0x58f65d(0x1d8)]),this[_0x58f65d(0x1fa)]=new P(_0x1b3f8c,{'editor':this[_0x58f65d(0x218)],'props':_0x96a8a3});}get[_0x583deb(0x1fe)](){const _0x5ca6be=_0x583deb;if(!this[_0x5ca6be(0x1fa)][_0x5ca6be(0x22b)]||!this['renderer'][_0x5ca6be(0x22b)][_0x5ca6be(0x228)](_0x5ca6be(0x211)))throw Error('Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.');return this[_0x5ca6be(0x1fa)][_0x5ca6be(0x22b)];}get[_0x583deb(0x214)](){const _0x45e3f3=_0x583deb;return this['node']['isLeaf']?null:this['dom'][_0x45e3f3(0x217)](_0x45e3f3(0x20c));}[_0x583deb(0x1d8)](){const _0x546db5=_0x583deb,{from:_0x30e708,to:_0x44365a}=this[_0x546db5(0x218)][_0x546db5(0x1e8)][_0x546db5(0x1f2)],_0x387cfa=this[_0x546db5(0x1f4)]();if(typeof _0x387cfa=='number'){if(_0x30e708<=_0x387cfa&&_0x44365a>=_0x387cfa+this[_0x546db5(0x1e4)][_0x546db5(0x20e)]){if(this[_0x546db5(0x1fa)][_0x546db5(0x20b)][_0x546db5(0x215)])return;this[_0x546db5(0x1d4)]();}else{if(!this[_0x546db5(0x1fa)][_0x546db5(0x20b)][_0x546db5(0x215)])return;this[_0x546db5(0x222)]();}}}['update'](_0x3b847c,_0x3904c3,_0x2556fc){const _0x1a1e82=_0x583deb,_0xf4f2bd=_0x497d96=>{const _0x3bb927=_0x48f0;this[_0x3bb927(0x216)][_0x3bb927(0x1df)]=this[_0x3bb927(0x203)](),this['renderer'][_0x3bb927(0x1d2)](_0x497d96);};if(typeof this[_0x1a1e82(0x223)][_0x1a1e82(0x209)]=='function'){const _0x3b1496=this[_0x1a1e82(0x1e4)],_0x48d9c1=this[_0x1a1e82(0x204)],_0x98b3eb=this['innerDecorations'];return this[_0x1a1e82(0x1e4)]=_0x3b847c,this['decorations']=_0x3904c3,this[_0x1a1e82(0x1f0)]=_0x2556fc,this[_0x1a1e82(0x223)]['update']({'oldNode':_0x3b1496,'oldDecorations':_0x48d9c1,'newNode':_0x3b847c,'newDecorations':_0x3904c3,'oldInnerDecorations':_0x98b3eb,'innerDecorations':_0x2556fc,'updateProps':()=>_0xf4f2bd({'node':_0x3b847c,'decorations':_0x3904c3,'innerDecorations':_0x2556fc})});}return _0x3b847c[_0x1a1e82(0x227)]!==this[_0x1a1e82(0x1e4)][_0x1a1e82(0x227)]?!0x1:(_0x3b847c===this[_0x1a1e82(0x1e4)]&&this[_0x1a1e82(0x204)]===_0x3904c3&&this[_0x1a1e82(0x1f0)]===_0x2556fc||(this[_0x1a1e82(0x1e4)]=_0x3b847c,this[_0x1a1e82(0x204)]=_0x3904c3,this[_0x1a1e82(0x1f0)]=_0x2556fc,_0xf4f2bd({'node':_0x3b847c,'decorations':_0x3904c3,'innerDecorations':_0x2556fc})),!0x0);}[_0x583deb(0x1d4)](){const _0x50b365=_0x583deb;this[_0x50b365(0x1fa)][_0x50b365(0x1d2)]({'selected':!0x0}),this['renderer'][_0x50b365(0x22b)]&&this[_0x50b365(0x1fa)]['element'][_0x50b365(0x1d7)][_0x50b365(0x21a)](_0x50b365(0x22a));}[_0x583deb(0x222)](){const _0x556824=_0x583deb;this['renderer'][_0x556824(0x1d2)]({'selected':!0x1}),this['renderer']['element']&&this[_0x556824(0x1fa)]['element'][_0x556824(0x1d7)]['remove']('ProseMirror-selectednode');}['getDecorationClasses'](){const _0x348c20=_0x583deb;return this[_0x348c20(0x204)][_0x348c20(0x1ef)](_0x5644da=>_0x5644da[_0x348c20(0x227)][_0x348c20(0x212)][_0x348c20(0x21e)])[_0x348c20(0x213)]()[_0x348c20(0x1ff)]('\x20');}['destroy'](){const _0x2a6d6a=_0x583deb;this[_0x2a6d6a(0x1fa)][_0x2a6d6a(0x1e6)](),this[_0x2a6d6a(0x218)][_0x2a6d6a(0x1f8)](_0x2a6d6a(0x1da),this[_0x2a6d6a(0x1d8)]);}}function F(_0x168fe3,_0x40fa63){return _0x163b17=>{const _0x3836e0=_0x48f0;if(!_0x163b17[_0x3836e0(0x218)]['contentComponent'])return{};const _0x16b364=typeof _0x168fe3=='function'&&'__vccOpts'in _0x168fe3?_0x168fe3[_0x3836e0(0x1d3)]:_0x168fe3;return new q(_0x16b364,_0x163b17,_0x40fa63);};}export{M as E,U as N,F as V,P as a,R as n,L as u};