const _0x1c4fd1=_0x3c31;function _0x558b(){const _0x2e5c57=['options','extensionStorage','cloneNode','NodeViewWrapper','4920309oFeGmK','storage','19790PhZHqX','destroy','reactiveExtensionStorage','function','mount','__scopeId','deselectNode','renderComponent','bind','createNodeViews','remove','selectionUpdate','div','class','updateAttributes','dom','appContext','call','classList','state','data-node-view-wrapper','replaceChild','editor','hasAttribute','createElement','setup','onDragStart','renderer','element','view','setOptions','innerDecorations','add','props','component','contentDOM','handleSelectionUpdate','[data-node-view-content]','47160XSeQYo','exposed','update','selection','decorations','ctx','3952729hXmLeK','rootEl','126366FGFwCl','beforeTransaction','extension','default','EditorContent','21SQsuRb','off','parentNode','getPos','flat','910wBRWsm','3gHgnrU','childNodes','keys','selectNode','vNode','90PTOAWW','HTMLAttributes','4604264RGKTeY','querySelector','4660324LznMmb','nodeSize','reactiveState','append','node','ref','10oeccVT','type','value','firstElementChild','getDecorationClasses','__vccOpts','contentComponent','renderedComponent','registerPlugin','provides','map','7zQCkWm','updateProps','decorationClasses','unregisterPlugin','isLeaf','ProseMirror-selectednode'];_0x558b=function(){return _0x2e5c57;};return _0x558b();}(function(_0x3da2d4,_0x381fa4){const _0xfad16d=_0x3c31,_0x431ebe=_0x3da2d4();while(!![]){try{const _0x678d67=-parseInt(_0xfad16d(0x11a))/0x1*(-parseInt(_0xfad16d(0x146))/0x2)+parseInt(_0xfad16d(0x120))/0x3*(parseInt(_0xfad16d(0x129))/0x4)+-parseInt(_0xfad16d(0x125))/0x5*(-parseInt(_0xfad16d(0x115))/0x6)+parseInt(_0xfad16d(0x13a))/0x7*(-parseInt(_0xfad16d(0x127))/0x8)+parseInt(_0xfad16d(0x144))/0x9*(-parseInt(_0xfad16d(0x12f))/0xa)+parseInt(_0xfad16d(0x113))/0xb+parseInt(_0xfad16d(0x10d))/0xc*(-parseInt(_0xfad16d(0x11f))/0xd);if(_0x678d67===_0x381fa4)break;else _0x431ebe['push'](_0x431ebe['shift']());}catch(_0x2e66c5){_0x431ebe['push'](_0x431ebe['shift']());}}}(_0x558b,0xae4fb));import'./vue-CtDVafEO.js';import{p as _0x5f0339,q as _0x39002d}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x8e3451,j as _0x205b4c,h as _0x37c8f5,p as _0x2162c8,n as _0x194d89,g as _0x5c5667,q as _0x1a5106}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x3b1cb2,r as _0x4e3002,u as _0x4a1382,m,a as _0x244a83,c as _0x104869}from'./@vue.reactivity-Bi9M0yVH.js';function _0x3c31(_0x3f9a88,_0x1224f3){_0x3f9a88=_0x3f9a88-0x10b;const _0x558bbd=_0x558b();let _0x3c3132=_0x558bbd[_0x3f9a88];return _0x3c3132;}import{r as _0x26bacf}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x2ea78f){return _0x104869((_0x4fe1da,_0x5b665b)=>({'get'(){return _0x4fe1da(),_0x2ea78f;},'set'(_0xd354dc){_0x2ea78f=_0xd354dc,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x5b665b();});});}}));}class E extends _0x5f0339{constructor(_0x58d4f5={}){const _0x37e77e=_0x3c31;return super(_0x58d4f5),this[_0x37e77e(0x135)]=null,this['appContext']=null,this[_0x37e77e(0x12b)]=c(this[_0x37e77e(0x163)][_0x37e77e(0x159)]),this[_0x37e77e(0x148)]=c(this['extensionStorage']),this['on'](_0x37e77e(0x116),({nextState:_0x3649da})=>{const _0x4d214e=_0x37e77e;this[_0x4d214e(0x12b)]['value']=_0x3649da,this[_0x4d214e(0x148)][_0x4d214e(0x131)]=this[_0x4d214e(0x141)];}),m(this);}get[_0x1c4fd1(0x159)](){const _0x319cfc=_0x1c4fd1;return this['reactiveState']?this[_0x319cfc(0x12b)][_0x319cfc(0x131)]:this[_0x319cfc(0x163)][_0x319cfc(0x159)];}get[_0x1c4fd1(0x145)](){const _0x4e0388=_0x1c4fd1;return this[_0x4e0388(0x148)]?this[_0x4e0388(0x148)]['value']:super[_0x4e0388(0x145)];}[_0x1c4fd1(0x137)](_0x3c8976,_0xe7cac9){const _0xec0731=_0x1c4fd1,_0x1397c7=super[_0xec0731(0x137)](_0x3c8976,_0xe7cac9);return this[_0xec0731(0x12b)]&&(this['reactiveState'][_0xec0731(0x131)]=_0x1397c7),_0x1397c7;}[_0x1c4fd1(0x13d)](_0x572dc7){const _0x1361ff=_0x1c4fd1,_0x2a5f5a=super[_0x1361ff(0x13d)](_0x572dc7);return this['reactiveState']&&_0x2a5f5a&&(this[_0x1361ff(0x12b)][_0x1361ff(0x131)]=_0x2a5f5a),_0x2a5f5a;}}const M=d({'name':_0x1c4fd1(0x119),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x256d23){const _0x28f127=_0x4e3002(),_0x56ebd2=_0x5c5667();return _0x2162c8(()=>{const _0xb26e4e=_0x3c31,_0x38b437=_0x256d23[_0xb26e4e(0x15c)];_0x38b437&&_0x38b437[_0xb26e4e(0x140)][_0xb26e4e(0x162)]&&_0x28f127[_0xb26e4e(0x131)]&&_0x194d89(()=>{const _0x1b280=_0xb26e4e;if(!_0x28f127[_0x1b280(0x131)]||!_0x38b437['options']['element']['firstChild'])return;const _0xc6cac9=_0x4a1382(_0x28f127[_0x1b280(0x131)]);_0x28f127[_0x1b280(0x131)][_0x1b280(0x12c)](..._0x38b437[_0x1b280(0x140)][_0x1b280(0x162)][_0x1b280(0x121)]),_0x38b437[_0x1b280(0x135)]=_0x56ebd2[_0x1b280(0x112)]['_'],_0x56ebd2&&(_0x38b437['appContext']={..._0x56ebd2[_0x1b280(0x156)],'provides':_0x56ebd2[_0x1b280(0x138)]}),_0x38b437[_0x1b280(0x164)]({'element':_0xc6cac9}),_0x38b437[_0x1b280(0x14f)]();});}),_0x205b4c(()=>{const _0x377cff=_0x3c31,_0x3aea0d=_0x256d23[_0x377cff(0x15c)];_0x3aea0d&&(_0x3aea0d[_0x377cff(0x135)]=null,_0x3aea0d[_0x377cff(0x156)]=null);}),{'rootEl':_0x28f127};},'render'(){const _0x3dd8f2=_0x1c4fd1;return _0x37c8f5(_0x3dd8f2(0x152),{'ref':_0x57f9da=>{const _0x3b201b=_0x3dd8f2;this[_0x3b201b(0x114)]=_0x57f9da;}});}}),U=d({'name':_0x1c4fd1(0x143),'props':{'as':{'type':String,'default':_0x1c4fd1(0x152)}},'inject':[_0x1c4fd1(0x160),'decorationClasses'],'render'(){const _0x4ed74d=_0x1c4fd1;var _0x3ba9a1,_0x1d5fc6;return _0x37c8f5(this['as'],{'class':this[_0x4ed74d(0x13c)],'style':{'whiteSpace':'normal'},'data-node-view-wrapper':'','onDragstart':this[_0x4ed74d(0x160)]},(_0x1d5fc6=(_0x3ba9a1=this['$slots'])[_0x4ed74d(0x118)])===null||_0x1d5fc6===void 0x0?void 0x0:_0x1d5fc6[_0x4ed74d(0x157)](_0x3ba9a1));}}),L=(_0x2a9250={})=>{const _0x2f8e62=_0x3b1cb2();return _0x8e3451(()=>{_0x2f8e62['value']=new E(_0x2a9250);}),_0x205b4c(()=>{const _0x507ea9=_0x3c31;var _0x49958d,_0x4e3909,_0x433557;const _0x13ca78=(_0x49958d=_0x2f8e62[_0x507ea9(0x131)])===null||_0x49958d===void 0x0?void 0x0:_0x49958d[_0x507ea9(0x140)][_0x507ea9(0x162)],_0xd36c19=_0x13ca78==null?void 0x0:_0x13ca78[_0x507ea9(0x142)](!0x0);(_0x4e3909=_0x13ca78==null?void 0x0:_0x13ca78[_0x507ea9(0x11c)])===null||_0x4e3909===void 0x0||_0x4e3909[_0x507ea9(0x15b)](_0xd36c19,_0x13ca78),(_0x433557=_0x2f8e62['value'])===null||_0x433557===void 0x0||_0x433557[_0x507ea9(0x147)]();}),_0x2f8e62;};class P{constructor(_0x43b8bb,{props:_0x18bf78={},editor:_0x40cc4c}){const _0xd2f29=_0x1c4fd1;this['editor']=_0x40cc4c,this[_0xd2f29(0x168)]=m(_0x43b8bb),this['el']=document[_0xd2f29(0x15e)](_0xd2f29(0x152)),this[_0xd2f29(0x167)]=_0x244a83(_0x18bf78),this['renderedComponent']=this[_0xd2f29(0x14d)]();}get['element'](){return this['renderedComponent']['el'];}get[_0x1c4fd1(0x12e)](){const _0x7dd841=_0x1c4fd1;var _0xf2041f,_0x1993da,_0x5e8c19,_0x4266e2;return!((_0x1993da=(_0xf2041f=this[_0x7dd841(0x136)][_0x7dd841(0x124)])===null||_0xf2041f===void 0x0?void 0x0:_0xf2041f[_0x7dd841(0x168)])===null||_0x1993da===void 0x0)&&_0x1993da[_0x7dd841(0x10e)]?this[_0x7dd841(0x136)][_0x7dd841(0x124)][_0x7dd841(0x168)][_0x7dd841(0x10e)]:(_0x4266e2=(_0x5e8c19=this[_0x7dd841(0x136)][_0x7dd841(0x124)])===null||_0x5e8c19===void 0x0?void 0x0:_0x5e8c19[_0x7dd841(0x168)])===null||_0x4266e2===void 0x0?void 0x0:_0x4266e2['proxy'];}['renderComponent'](){const _0x3ec821=_0x1c4fd1;let _0x574a56=_0x37c8f5(this[_0x3ec821(0x168)],this[_0x3ec821(0x167)]);return this['editor']['appContext']&&(_0x574a56[_0x3ec821(0x156)]=this['editor'][_0x3ec821(0x156)]),typeof document<'u'&&this['el']&&_0x26bacf(_0x574a56,this['el']),{'vNode':_0x574a56,'destroy':()=>{this['el']&&_0x26bacf(null,this['el']),this['el']=null,_0x574a56=null;},'el':this['el']?this['el'][_0x3ec821(0x132)]:null};}[_0x1c4fd1(0x13b)](_0x593e97={}){const _0x9db79c=_0x1c4fd1;Object['entries'](_0x593e97)['forEach'](([_0x1a961d,_0xd7f44])=>{const _0x26cbbd=_0x3c31;this[_0x26cbbd(0x167)][_0x1a961d]=_0xd7f44;}),this[_0x9db79c(0x14d)]();}[_0x1c4fd1(0x147)](){const _0x4dd763=_0x1c4fd1;this[_0x4dd763(0x136)]['destroy']();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x39002d{[_0x1c4fd1(0x14a)](){const _0x250ec6=_0x1c4fd1,_0x4277bd={'editor':this[_0x250ec6(0x15c)],'node':this[_0x250ec6(0x12d)],'decorations':this[_0x250ec6(0x111)],'innerDecorations':this[_0x250ec6(0x165)],'view':this[_0x250ec6(0x163)],'selected':!0x1,'extension':this[_0x250ec6(0x117)],'HTMLAttributes':this[_0x250ec6(0x126)],'getPos':()=>this[_0x250ec6(0x11d)](),'updateAttributes':(_0x24d15d={})=>this[_0x250ec6(0x154)](_0x24d15d),'deleteNode':()=>this['deleteNode']()},_0x4b17a3=this[_0x250ec6(0x160)][_0x250ec6(0x14e)](this);this[_0x250ec6(0x13c)]=_0x4e3002(this[_0x250ec6(0x133)]());const _0x5f2207=d({'extends':{...this[_0x250ec6(0x168)]},'props':Object[_0x250ec6(0x122)](_0x4277bd),'template':this['component']['template'],'setup':_0x566543=>{const _0x21dbd1=_0x250ec6;var _0x1a2f0e,_0x50a22e;return _0x1a5106(_0x21dbd1(0x160),_0x4b17a3),_0x1a5106(_0x21dbd1(0x13c),this[_0x21dbd1(0x13c)]),(_0x50a22e=(_0x1a2f0e=this[_0x21dbd1(0x168)])[_0x21dbd1(0x15f)])===null||_0x50a22e===void 0x0?void 0x0:_0x50a22e['call'](_0x1a2f0e,_0x566543,{'expose':()=>{}});},'__scopeId':this['component'][_0x250ec6(0x14b)],'__cssModules':this['component']['__cssModules'],'__name':this[_0x250ec6(0x168)]['__name'],'__file':this[_0x250ec6(0x168)]['__file']});this[_0x250ec6(0x10b)]=this['handleSelectionUpdate'][_0x250ec6(0x14e)](this),this[_0x250ec6(0x15c)]['on'](_0x250ec6(0x151),this['handleSelectionUpdate']),this[_0x250ec6(0x161)]=new P(_0x5f2207,{'editor':this[_0x250ec6(0x15c)],'props':_0x4277bd});}get[_0x1c4fd1(0x155)](){const _0x3316af=_0x1c4fd1;if(!this[_0x3316af(0x161)]['element']||!this[_0x3316af(0x161)][_0x3316af(0x162)][_0x3316af(0x15d)](_0x3316af(0x15a)))throw Error('Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.');return this[_0x3316af(0x161)][_0x3316af(0x162)];}get[_0x1c4fd1(0x169)](){const _0x11cd36=_0x1c4fd1;return this[_0x11cd36(0x12d)][_0x11cd36(0x13e)]?null:this[_0x11cd36(0x155)][_0x11cd36(0x128)](_0x11cd36(0x10c));}[_0x1c4fd1(0x10b)](){const _0x475c20=_0x1c4fd1,{from:_0x30a57b,to:_0x33a5a5}=this[_0x475c20(0x15c)][_0x475c20(0x159)][_0x475c20(0x110)],_0x2678f9=this[_0x475c20(0x11d)]();if(typeof _0x2678f9=='number'){if(_0x30a57b<=_0x2678f9&&_0x33a5a5>=_0x2678f9+this[_0x475c20(0x12d)][_0x475c20(0x12a)]){if(this[_0x475c20(0x161)][_0x475c20(0x167)]['selected'])return;this[_0x475c20(0x123)]();}else{if(!this[_0x475c20(0x161)][_0x475c20(0x167)]['selected'])return;this['deselectNode']();}}}['update'](_0x4fa3ae,_0x24b8f2,_0x11d766){const _0xd69a24=_0x1c4fd1,_0x1f529d=_0x282792=>{const _0x11b094=_0x3c31;this['decorationClasses'][_0x11b094(0x131)]=this[_0x11b094(0x133)](),this[_0x11b094(0x161)]['updateProps'](_0x282792);};if(typeof this[_0xd69a24(0x140)][_0xd69a24(0x10f)]==_0xd69a24(0x149)){const _0x10dc60=this[_0xd69a24(0x12d)],_0x5ed6dd=this[_0xd69a24(0x111)],_0x2c4066=this['innerDecorations'];return this['node']=_0x4fa3ae,this['decorations']=_0x24b8f2,this['innerDecorations']=_0x11d766,this['options'][_0xd69a24(0x10f)]({'oldNode':_0x10dc60,'oldDecorations':_0x5ed6dd,'newNode':_0x4fa3ae,'newDecorations':_0x24b8f2,'oldInnerDecorations':_0x2c4066,'innerDecorations':_0x11d766,'updateProps':()=>_0x1f529d({'node':_0x4fa3ae,'decorations':_0x24b8f2,'innerDecorations':_0x11d766})});}return _0x4fa3ae[_0xd69a24(0x130)]!==this[_0xd69a24(0x12d)]['type']?!0x1:(_0x4fa3ae===this[_0xd69a24(0x12d)]&&this['decorations']===_0x24b8f2&&this['innerDecorations']===_0x11d766||(this[_0xd69a24(0x12d)]=_0x4fa3ae,this[_0xd69a24(0x111)]=_0x24b8f2,this[_0xd69a24(0x165)]=_0x11d766,_0x1f529d({'node':_0x4fa3ae,'decorations':_0x24b8f2,'innerDecorations':_0x11d766})),!0x0);}[_0x1c4fd1(0x123)](){const _0x50ed48=_0x1c4fd1;this[_0x50ed48(0x161)][_0x50ed48(0x13b)]({'selected':!0x0}),this[_0x50ed48(0x161)]['element']&&this[_0x50ed48(0x161)][_0x50ed48(0x162)][_0x50ed48(0x158)][_0x50ed48(0x166)]('ProseMirror-selectednode');}[_0x1c4fd1(0x14c)](){const _0x2551a7=_0x1c4fd1;this[_0x2551a7(0x161)][_0x2551a7(0x13b)]({'selected':!0x1}),this[_0x2551a7(0x161)][_0x2551a7(0x162)]&&this['renderer'][_0x2551a7(0x162)][_0x2551a7(0x158)][_0x2551a7(0x150)](_0x2551a7(0x13f));}['getDecorationClasses'](){const _0x33baee=_0x1c4fd1;return this['decorations'][_0x33baee(0x139)](_0xb0b87f=>_0xb0b87f[_0x33baee(0x130)]['attrs'][_0x33baee(0x153)])[_0x33baee(0x11e)]()['join']('\x20');}[_0x1c4fd1(0x147)](){const _0x5bc908=_0x1c4fd1;this[_0x5bc908(0x161)][_0x5bc908(0x147)](),this['editor'][_0x5bc908(0x11b)](_0x5bc908(0x151),this[_0x5bc908(0x10b)]);}}function F(_0x2fe624,_0x4d0056){return _0x18ffa0=>{const _0x2a2196=_0x3c31;if(!_0x18ffa0[_0x2a2196(0x15c)][_0x2a2196(0x135)])return{};const _0x5060b8=typeof _0x2fe624=='function'&&_0x2a2196(0x134)in _0x2fe624?_0x2fe624[_0x2a2196(0x134)]:_0x2fe624;return new q(_0x5060b8,_0x18ffa0,_0x4d0056);};}export{M as E,U as N,F as V,P as a,R as n,L as u};