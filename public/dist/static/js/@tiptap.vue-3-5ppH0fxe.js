const _0x4b7fab=_0x3367;function _0x3367(_0x194ae0,_0x3da874){_0x194ae0=_0x194ae0-0xde;const _0x59a869=_0x59a8();let _0x33674d=_0x59a869[_0x194ae0];return _0x33674d;}function _0x59a8(){const _0x3abb36=['reactiveState','bind','330vanjJc','attrs','classList','1684076anlMOW','NodeViewWrapper','createNodeViews','view','forEach','handleSelectionUpdate','unregisterPlugin','12rnfqOi','innerDecorations','dom','setOptions','deselectNode','beforeTransaction','entries','57016sqKHuc','destroy','keys','update','querySelector','isLeaf','decorationClasses','off','component','parentNode','2knNrLx','contentComponent','value','normal','__vccOpts','__cssModules','map','options','appContext','remove','renderComponent','onDragStart','deleteNode','function','cloneNode','renderer','element','54940KmKOaZ','updateProps','data-node-view-wrapper','default','join','extension','childNodes','registerPlugin','getDecorationClasses','__file','selectNode','editor','8718498tfrDXf','selection','14453528CKoAlt','2640eWZnFj','ctx','selectionUpdate','updateAttributes','type','state','template','storage','exposed','replaceChild','class','reactiveExtensionStorage','extensionStorage','firstChild','210490KNeJwc','div','renderedComponent','decorations','vNode','ProseMirror-selectednode','getPos','append','__name','__scopeId','4702209JHNSPZ','node','props'];_0x59a8=function(){return _0x3abb36;};return _0x59a8();}(function(_0x31b1ca,_0x4b385e){const _0x4f95e9=_0x3367,_0x349ef7=_0x31b1ca();while(!![]){try{const _0x33fb18=-parseInt(_0x4f95e9(0x106))/0x1*(-parseInt(_0x4f95e9(0x11e))/0x2)+parseInt(_0x4f95e9(0xfe))/0x3+parseInt(_0x4f95e9(0x114))/0x4*(-parseInt(_0x4f95e9(0x103))/0x5)+-parseInt(_0x4f95e9(0x10d))/0x6*(-parseInt(_0x4f95e9(0xf4))/0x7)+-parseInt(_0x4f95e9(0xe5))/0x8+-parseInt(_0x4f95e9(0xe3))/0x9+-parseInt(_0x4f95e9(0x12f))/0xa*(-parseInt(_0x4f95e9(0xe6))/0xb);if(_0x33fb18===_0x4b385e)break;else _0x349ef7['push'](_0x349ef7['shift']());}catch(_0x3e628f){_0x349ef7['push'](_0x349ef7['shift']());}}}(_0x59a8,0xdf252));import'./vue-CtDVafEO.js';import{p as _0x1b022b,q as _0x4b8169}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x4cbd8f,j as _0x23ce11,h as _0x2a314c,p as _0x300cde,n as _0x3001a1,g as _0x20dff4,q as _0x352c1b}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x7685a8,r as _0x57fe2d,u as _0x226000,m,a as _0x329c76,c as _0x303507}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x39a7ae}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x230077){return _0x303507((_0x1a9752,_0x2795ba)=>({'get'(){return _0x1a9752(),_0x230077;},'set'(_0xce1e2e){_0x230077=_0xce1e2e,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x2795ba();});});}}));}class E extends _0x1b022b{constructor(_0x5dd945={}){const _0x46230c=_0x3367;return super(_0x5dd945),this[_0x46230c(0x11f)]=null,this['appContext']=null,this[_0x46230c(0x101)]=c(this[_0x46230c(0x109)][_0x46230c(0xeb)]),this[_0x46230c(0xf1)]=c(this[_0x46230c(0xf2)]),this['on'](_0x46230c(0x112),({nextState:_0x4f011d})=>{const _0x3a45af=_0x46230c;this[_0x3a45af(0x101)][_0x3a45af(0x120)]=_0x4f011d,this[_0x3a45af(0xf1)][_0x3a45af(0x120)]=this[_0x3a45af(0xf2)];}),m(this);}get[_0x4b7fab(0xeb)](){const _0x2da7db=_0x4b7fab;return this[_0x2da7db(0x101)]?this[_0x2da7db(0x101)][_0x2da7db(0x120)]:this[_0x2da7db(0x109)][_0x2da7db(0xeb)];}get[_0x4b7fab(0xed)](){const _0x4025f7=_0x4b7fab;return this[_0x4025f7(0xf1)]?this['reactiveExtensionStorage'][_0x4025f7(0x120)]:super[_0x4025f7(0xed)];}[_0x4b7fab(0xde)](_0x5cf3e6,_0x2c27d8){const _0x555afd=_0x4b7fab,_0x496230=super['registerPlugin'](_0x5cf3e6,_0x2c27d8);return this['reactiveState']&&(this['reactiveState'][_0x555afd(0x120)]=_0x496230),_0x496230;}[_0x4b7fab(0x10c)](_0x2c049c){const _0x42c0bc=_0x4b7fab,_0x4551ae=super[_0x42c0bc(0x10c)](_0x2c049c);return this[_0x42c0bc(0x101)]&&_0x4551ae&&(this['reactiveState'][_0x42c0bc(0x120)]=_0x4551ae),_0x4551ae;}}const M=d({'name':'EditorContent','props':{'editor':{'default':null,'type':Object}},'setup'(_0x13b046){const _0xb77b96=_0x57fe2d(),_0x5934e7=_0x20dff4();return _0x300cde(()=>{const _0x1e7d27=_0x3367,_0x3a8eff=_0x13b046[_0x1e7d27(0xe2)];_0x3a8eff&&_0x3a8eff[_0x1e7d27(0x125)][_0x1e7d27(0x12e)]&&_0xb77b96[_0x1e7d27(0x120)]&&_0x3001a1(()=>{const _0x29d0a7=_0x1e7d27;if(!_0xb77b96[_0x29d0a7(0x120)]||!_0x3a8eff[_0x29d0a7(0x125)][_0x29d0a7(0x12e)][_0x29d0a7(0xf3)])return;const _0x223028=_0x226000(_0xb77b96['value']);_0xb77b96[_0x29d0a7(0x120)][_0x29d0a7(0xfb)](..._0x3a8eff['options']['element'][_0x29d0a7(0x135)]),_0x3a8eff['contentComponent']=_0x5934e7[_0x29d0a7(0xe7)]['_'],_0x5934e7&&(_0x3a8eff[_0x29d0a7(0x126)]={..._0x5934e7['appContext'],'provides':_0x5934e7['provides']}),_0x3a8eff[_0x29d0a7(0x110)]({'element':_0x223028}),_0x3a8eff[_0x29d0a7(0x108)]();});}),_0x23ce11(()=>{const _0x256b6a=_0x3367,_0x2e2d6f=_0x13b046[_0x256b6a(0xe2)];_0x2e2d6f&&(_0x2e2d6f['contentComponent']=null,_0x2e2d6f[_0x256b6a(0x126)]=null);}),{'rootEl':_0xb77b96};},'render'(){const _0x50cbbc=_0x4b7fab;return _0x2a314c(_0x50cbbc(0xf5),{'ref':_0x1a05af=>{this['rootEl']=_0x1a05af;}});}}),U=d({'name':_0x4b7fab(0x107),'props':{'as':{'type':String,'default':_0x4b7fab(0xf5)}},'inject':[_0x4b7fab(0x129),'decorationClasses'],'render'(){const _0x91ac05=_0x4b7fab;var _0x3da3b2,_0x3fc6c7;return _0x2a314c(this['as'],{'class':this[_0x91ac05(0x11a)],'style':{'whiteSpace':_0x91ac05(0x121)},'data-node-view-wrapper':'','onDragstart':this['onDragStart']},(_0x3fc6c7=(_0x3da3b2=this['$slots'])[_0x91ac05(0x132)])===null||_0x3fc6c7===void 0x0?void 0x0:_0x3fc6c7['call'](_0x3da3b2));}}),L=(_0x11334b={})=>{const _0xf885c1=_0x7685a8();return _0x4cbd8f(()=>{const _0x1b07a8=_0x3367;_0xf885c1[_0x1b07a8(0x120)]=new E(_0x11334b);}),_0x23ce11(()=>{const _0x4f7b23=_0x3367;var _0x5a6e93,_0x45f578,_0x5aca05;const _0xe9e4f3=(_0x5a6e93=_0xf885c1['value'])===null||_0x5a6e93===void 0x0?void 0x0:_0x5a6e93[_0x4f7b23(0x125)]['element'],_0x1f9073=_0xe9e4f3==null?void 0x0:_0xe9e4f3[_0x4f7b23(0x12c)](!0x0);(_0x45f578=_0xe9e4f3==null?void 0x0:_0xe9e4f3[_0x4f7b23(0x11d)])===null||_0x45f578===void 0x0||_0x45f578[_0x4f7b23(0xef)](_0x1f9073,_0xe9e4f3),(_0x5aca05=_0xf885c1[_0x4f7b23(0x120)])===null||_0x5aca05===void 0x0||_0x5aca05[_0x4f7b23(0x115)]();}),_0xf885c1;};class P{constructor(_0x467672,{props:_0x100d24={},editor:_0x372b1f}){const _0x50dce0=_0x4b7fab;this[_0x50dce0(0xe2)]=_0x372b1f,this[_0x50dce0(0x11c)]=m(_0x467672),this['el']=document['createElement'](_0x50dce0(0xf5)),this[_0x50dce0(0x100)]=_0x329c76(_0x100d24),this[_0x50dce0(0xf6)]=this['renderComponent']();}get[_0x4b7fab(0x12e)](){return this['renderedComponent']['el'];}get['ref'](){const _0x1b623c=_0x4b7fab;var _0x4cd781,_0x2c73de,_0x1bf3a8,_0x59f367;return!((_0x2c73de=(_0x4cd781=this['renderedComponent']['vNode'])===null||_0x4cd781===void 0x0?void 0x0:_0x4cd781[_0x1b623c(0x11c)])===null||_0x2c73de===void 0x0)&&_0x2c73de[_0x1b623c(0xee)]?this[_0x1b623c(0xf6)][_0x1b623c(0xf8)][_0x1b623c(0x11c)][_0x1b623c(0xee)]:(_0x59f367=(_0x1bf3a8=this[_0x1b623c(0xf6)][_0x1b623c(0xf8)])===null||_0x1bf3a8===void 0x0?void 0x0:_0x1bf3a8[_0x1b623c(0x11c)])===null||_0x59f367===void 0x0?void 0x0:_0x59f367['proxy'];}['renderComponent'](){const _0x520cc1=_0x4b7fab;let _0x15be36=_0x2a314c(this[_0x520cc1(0x11c)],this[_0x520cc1(0x100)]);return this[_0x520cc1(0xe2)][_0x520cc1(0x126)]&&(_0x15be36[_0x520cc1(0x126)]=this[_0x520cc1(0xe2)]['appContext']),typeof document<'u'&&this['el']&&_0x39a7ae(_0x15be36,this['el']),{'vNode':_0x15be36,'destroy':()=>{this['el']&&_0x39a7ae(null,this['el']),this['el']=null,_0x15be36=null;},'el':this['el']?this['el']['firstElementChild']:null};}['updateProps'](_0x417e9b={}){const _0x945681=_0x4b7fab;Object[_0x945681(0x113)](_0x417e9b)[_0x945681(0x10a)](([_0xa47ee1,_0x14bd2a])=>{const _0x20e86f=_0x945681;this[_0x20e86f(0x100)][_0xa47ee1]=_0x14bd2a;}),this[_0x945681(0x128)]();}[_0x4b7fab(0x115)](){const _0x31119d=_0x4b7fab;this[_0x31119d(0xf6)][_0x31119d(0x115)]();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x4b8169{['mount'](){const _0x2e9654=_0x4b7fab,_0x1d44ec={'editor':this[_0x2e9654(0xe2)],'node':this[_0x2e9654(0xff)],'decorations':this[_0x2e9654(0xf7)],'innerDecorations':this[_0x2e9654(0x10e)],'view':this[_0x2e9654(0x109)],'selected':!0x1,'extension':this[_0x2e9654(0x134)],'HTMLAttributes':this['HTMLAttributes'],'getPos':()=>this[_0x2e9654(0xfa)](),'updateAttributes':(_0x49d559={})=>this[_0x2e9654(0xe9)](_0x49d559),'deleteNode':()=>this[_0x2e9654(0x12a)]()},_0x3688f8=this[_0x2e9654(0x129)][_0x2e9654(0x102)](this);this[_0x2e9654(0x11a)]=_0x57fe2d(this[_0x2e9654(0xdf)]());const _0x47a3df=d({'extends':{...this[_0x2e9654(0x11c)]},'props':Object[_0x2e9654(0x116)](_0x1d44ec),'template':this[_0x2e9654(0x11c)][_0x2e9654(0xec)],'setup':_0x3db932=>{const _0x4dc02f=_0x2e9654;var _0x423487,_0x4c650a;return _0x352c1b(_0x4dc02f(0x129),_0x3688f8),_0x352c1b('decorationClasses',this[_0x4dc02f(0x11a)]),(_0x4c650a=(_0x423487=this[_0x4dc02f(0x11c)])['setup'])===null||_0x4c650a===void 0x0?void 0x0:_0x4c650a['call'](_0x423487,_0x3db932,{'expose':()=>{}});},'__scopeId':this[_0x2e9654(0x11c)][_0x2e9654(0xfd)],'__cssModules':this[_0x2e9654(0x11c)][_0x2e9654(0x123)],'__name':this[_0x2e9654(0x11c)][_0x2e9654(0xfc)],'__file':this['component'][_0x2e9654(0xe0)]});this[_0x2e9654(0x10b)]=this['handleSelectionUpdate']['bind'](this),this[_0x2e9654(0xe2)]['on'](_0x2e9654(0xe8),this['handleSelectionUpdate']),this[_0x2e9654(0x12d)]=new P(_0x47a3df,{'editor':this[_0x2e9654(0xe2)],'props':_0x1d44ec});}get[_0x4b7fab(0x10f)](){const _0x572f65=_0x4b7fab;if(!this[_0x572f65(0x12d)][_0x572f65(0x12e)]||!this[_0x572f65(0x12d)][_0x572f65(0x12e)]['hasAttribute'](_0x572f65(0x131)))throw Error('Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.');return this[_0x572f65(0x12d)]['element'];}get['contentDOM'](){const _0x137335=_0x4b7fab;return this['node'][_0x137335(0x119)]?null:this[_0x137335(0x10f)][_0x137335(0x118)]('[data-node-view-content]');}[_0x4b7fab(0x10b)](){const _0x326c3d=_0x4b7fab,{from:_0x3a2b1a,to:_0x146dc2}=this[_0x326c3d(0xe2)][_0x326c3d(0xeb)][_0x326c3d(0xe4)],_0x37b07e=this['getPos']();if(typeof _0x37b07e=='number'){if(_0x3a2b1a<=_0x37b07e&&_0x146dc2>=_0x37b07e+this[_0x326c3d(0xff)]['nodeSize']){if(this[_0x326c3d(0x12d)]['props']['selected'])return;this['selectNode']();}else{if(!this[_0x326c3d(0x12d)][_0x326c3d(0x100)]['selected'])return;this[_0x326c3d(0x111)]();}}}[_0x4b7fab(0x117)](_0x2bd6de,_0xe5e3df,_0x390a0e){const _0x2faaba=_0x4b7fab,_0x546a4e=_0x28003d=>{const _0x2dc33f=_0x3367;this[_0x2dc33f(0x11a)][_0x2dc33f(0x120)]=this[_0x2dc33f(0xdf)](),this[_0x2dc33f(0x12d)][_0x2dc33f(0x130)](_0x28003d);};if(typeof this[_0x2faaba(0x125)][_0x2faaba(0x117)]==_0x2faaba(0x12b)){const _0x4ffeb3=this[_0x2faaba(0xff)],_0x514e33=this['decorations'],_0x47ccfc=this[_0x2faaba(0x10e)];return this[_0x2faaba(0xff)]=_0x2bd6de,this[_0x2faaba(0xf7)]=_0xe5e3df,this[_0x2faaba(0x10e)]=_0x390a0e,this['options'][_0x2faaba(0x117)]({'oldNode':_0x4ffeb3,'oldDecorations':_0x514e33,'newNode':_0x2bd6de,'newDecorations':_0xe5e3df,'oldInnerDecorations':_0x47ccfc,'innerDecorations':_0x390a0e,'updateProps':()=>_0x546a4e({'node':_0x2bd6de,'decorations':_0xe5e3df,'innerDecorations':_0x390a0e})});}return _0x2bd6de[_0x2faaba(0xea)]!==this['node'][_0x2faaba(0xea)]?!0x1:(_0x2bd6de===this[_0x2faaba(0xff)]&&this['decorations']===_0xe5e3df&&this[_0x2faaba(0x10e)]===_0x390a0e||(this[_0x2faaba(0xff)]=_0x2bd6de,this[_0x2faaba(0xf7)]=_0xe5e3df,this[_0x2faaba(0x10e)]=_0x390a0e,_0x546a4e({'node':_0x2bd6de,'decorations':_0xe5e3df,'innerDecorations':_0x390a0e})),!0x0);}[_0x4b7fab(0xe1)](){const _0x37e8a4=_0x4b7fab;this[_0x37e8a4(0x12d)]['updateProps']({'selected':!0x0}),this[_0x37e8a4(0x12d)][_0x37e8a4(0x12e)]&&this[_0x37e8a4(0x12d)][_0x37e8a4(0x12e)][_0x37e8a4(0x105)]['add'](_0x37e8a4(0xf9));}['deselectNode'](){const _0x1dd702=_0x4b7fab;this[_0x1dd702(0x12d)]['updateProps']({'selected':!0x1}),this[_0x1dd702(0x12d)][_0x1dd702(0x12e)]&&this['renderer'][_0x1dd702(0x12e)][_0x1dd702(0x105)][_0x1dd702(0x127)](_0x1dd702(0xf9));}[_0x4b7fab(0xdf)](){const _0x44abbf=_0x4b7fab;return this['decorations'][_0x44abbf(0x124)](_0x23e1b0=>_0x23e1b0[_0x44abbf(0xea)][_0x44abbf(0x104)][_0x44abbf(0xf0)])['flat']()[_0x44abbf(0x133)]('\x20');}[_0x4b7fab(0x115)](){const _0xdf95c5=_0x4b7fab;this[_0xdf95c5(0x12d)][_0xdf95c5(0x115)](),this['editor'][_0xdf95c5(0x11b)]('selectionUpdate',this[_0xdf95c5(0x10b)]);}}function F(_0x48a579,_0x380887){return _0x3611a7=>{const _0x38eff9=_0x3367;if(!_0x3611a7['editor'][_0x38eff9(0x11f)])return{};const _0x1bae75=typeof _0x48a579==_0x38eff9(0x12b)&&'__vccOpts'in _0x48a579?_0x48a579[_0x38eff9(0x122)]:_0x48a579;return new q(_0x1bae75,_0x3611a7,_0x380887);};}export{M as E,U as N,F as V,P as a,R as n,L as u};