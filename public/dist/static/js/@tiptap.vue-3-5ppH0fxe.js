const _0x407f3e=_0x4c6d;(function(_0x33ea41,_0x17214f){const _0x299ed7=_0x4c6d,_0x229a37=_0x33ea41();while(!![]){try{const _0x29e76b=parseInt(_0x299ed7(0xb2))/0x1*(parseInt(_0x299ed7(0xaf))/0x2)+parseInt(_0x299ed7(0xae))/0x3+parseInt(_0x299ed7(0xdb))/0x4*(-parseInt(_0x299ed7(0xc6))/0x5)+-parseInt(_0x299ed7(0xc2))/0x6+parseInt(_0x299ed7(0xc3))/0x7*(-parseInt(_0x299ed7(0xbf))/0x8)+-parseInt(_0x299ed7(0xc5))/0x9*(parseInt(_0x299ed7(0xa6))/0xa)+-parseInt(_0x299ed7(0xce))/0xb*(-parseInt(_0x299ed7(0xe1))/0xc);if(_0x29e76b===_0x17214f)break;else _0x229a37['push'](_0x229a37['shift']());}catch(_0x5967b9){_0x229a37['push'](_0x229a37['shift']());}}}(_0x55db,0x9734e));function _0x4c6d(_0x8e289e,_0x4715d7){_0x8e289e=_0x8e289e-0xa1;const _0x55dbf2=_0x55db();let _0x4c6d59=_0x55dbf2[_0x8e289e];return _0x4c6d59;}import'./vue-CtDVafEO.js';import{p as _0x1e877a,q as _0x51b748}from'./@tiptap.core-HsqG-hEX.js';import{d,f as _0x70f3aa,j as _0x1107a8,h as _0x2cf4d7,p as _0x2771ce,n as _0x11c308,g as _0x3dac56,q as _0x4b8a10}from'./@vue.runtime-core-KVqrk7Le.js';import{s as _0x5b38e4,r as _0x294308,u as _0x5c1d52,m,a as _0x33cca5,c as _0x37c4b0}from'./@vue.reactivity-Bi9M0yVH.js';import{r as _0x25d0eb}from'./@vue.runtime-dom-C_oXYm3W.js';function c(_0x3a6349){return _0x37c4b0((_0x3df56d,_0x2541a8)=>({'get'(){return _0x3df56d(),_0x3a6349;},'set'(_0x32b494){_0x3a6349=_0x32b494,requestAnimationFrame(()=>{requestAnimationFrame(()=>{_0x2541a8();});});}}));}class E extends _0x1e877a{constructor(_0x508e81={}){const _0x18300a=_0x4c6d;return super(_0x508e81),this[_0x18300a(0xcb)]=null,this[_0x18300a(0xe6)]=null,this[_0x18300a(0xfd)]=c(this[_0x18300a(0xe3)][_0x18300a(0xde)]),this[_0x18300a(0xdd)]=c(this[_0x18300a(0xa3)]),this['on'](_0x18300a(0xe7),({nextState:_0x1da136})=>{const _0x46f80c=_0x18300a;this[_0x46f80c(0xfd)]['value']=_0x1da136,this['reactiveExtensionStorage']['value']=this[_0x46f80c(0xa3)];}),m(this);}get[_0x407f3e(0xde)](){const _0x2a1d29=_0x407f3e;return this[_0x2a1d29(0xfd)]?this['reactiveState'][_0x2a1d29(0xb3)]:this[_0x2a1d29(0xe3)][_0x2a1d29(0xde)];}get['storage'](){const _0xc0f674=_0x407f3e;return this[_0xc0f674(0xdd)]?this[_0xc0f674(0xdd)]['value']:super[_0xc0f674(0xef)];}['registerPlugin'](_0x38d525,_0x2c6d70){const _0xdc052d=_0x407f3e,_0x3bc1bd=super[_0xdc052d(0xdf)](_0x38d525,_0x2c6d70);return this[_0xdc052d(0xfd)]&&(this[_0xdc052d(0xfd)]['value']=_0x3bc1bd),_0x3bc1bd;}[_0x407f3e(0xee)](_0x519925){const _0xc47d04=_0x407f3e,_0x387aad=super[_0xc47d04(0xee)](_0x519925);return this[_0xc47d04(0xfd)]&&_0x387aad&&(this[_0xc47d04(0xfd)][_0xc47d04(0xb3)]=_0x387aad),_0x387aad;}}const M=d({'name':_0x407f3e(0xbe),'props':{'editor':{'default':null,'type':Object}},'setup'(_0x5491b7){const _0x57cc1b=_0x294308(),_0x338b16=_0x3dac56();return _0x2771ce(()=>{const _0x83584=_0x4c6d,_0x2f8460=_0x5491b7[_0x83584(0xb0)];_0x2f8460&&_0x2f8460['options']['element']&&_0x57cc1b[_0x83584(0xb3)]&&_0x11c308(()=>{const _0x51b752=_0x83584;if(!_0x57cc1b[_0x51b752(0xb3)]||!_0x2f8460[_0x51b752(0xf3)][_0x51b752(0xd3)][_0x51b752(0xa2)])return;const _0x470107=_0x5c1d52(_0x57cc1b[_0x51b752(0xb3)]);_0x57cc1b[_0x51b752(0xb3)][_0x51b752(0xf1)](..._0x2f8460[_0x51b752(0xf3)]['element'][_0x51b752(0xd1)]),_0x2f8460[_0x51b752(0xcb)]=_0x338b16['ctx']['_'],_0x338b16&&(_0x2f8460[_0x51b752(0xe6)]={..._0x338b16[_0x51b752(0xe6)],'provides':_0x338b16['provides']}),_0x2f8460[_0x51b752(0xe2)]({'element':_0x470107}),_0x2f8460[_0x51b752(0xaa)]();});}),_0x1107a8(()=>{const _0x5f35c4=_0x4c6d,_0x52fd6e=_0x5491b7[_0x5f35c4(0xb0)];_0x52fd6e&&(_0x52fd6e[_0x5f35c4(0xcb)]=null,_0x52fd6e[_0x5f35c4(0xe6)]=null);}),{'rootEl':_0x57cc1b};},'render'(){const _0x2a4223=_0x407f3e;return _0x2cf4d7(_0x2a4223(0xea),{'ref':_0x312145=>{const _0x505465=_0x2a4223;this[_0x505465(0xec)]=_0x312145;}});}}),U=d({'name':'NodeViewWrapper','props':{'as':{'type':String,'default':'div'}},'inject':['onDragStart','decorationClasses'],'render'(){const _0xd61040=_0x407f3e;var _0x4c10a7,_0x121364;return _0x2cf4d7(this['as'],{'class':this[_0xd61040(0xd0)],'style':{'whiteSpace':_0xd61040(0xfa)},'data-node-view-wrapper':'','onDragstart':this[_0xd61040(0xd4)]},(_0x121364=(_0x4c10a7=this['$slots'])[_0xd61040(0xdc)])===null||_0x121364===void 0x0?void 0x0:_0x121364['call'](_0x4c10a7));}}),L=(_0x2eed7d={})=>{const _0x5ee9a8=_0x5b38e4();return _0x70f3aa(()=>{_0x5ee9a8['value']=new E(_0x2eed7d);}),_0x1107a8(()=>{const _0x3abd4b=_0x4c6d;var _0x45a973,_0x1b979f,_0x2d9902;const _0x3d35fa=(_0x45a973=_0x5ee9a8['value'])===null||_0x45a973===void 0x0?void 0x0:_0x45a973[_0x3abd4b(0xf3)][_0x3abd4b(0xd3)],_0x5ee3b8=_0x3d35fa==null?void 0x0:_0x3d35fa[_0x3abd4b(0xb6)](!0x0);(_0x1b979f=_0x3d35fa==null?void 0x0:_0x3d35fa['parentNode'])===null||_0x1b979f===void 0x0||_0x1b979f[_0x3abd4b(0xc0)](_0x5ee3b8,_0x3d35fa),(_0x2d9902=_0x5ee9a8[_0x3abd4b(0xb3)])===null||_0x2d9902===void 0x0||_0x2d9902['destroy']();}),_0x5ee9a8;};function _0x55db(){const _0x56eb09=['flat','reactiveState','updateProps','deleteNode','__name','firstChild','extensionStorage','handleSelectionUpdate','renderer','32310gwDSKF','nodeSize','HTMLAttributes','map','createNodeViews','exposed','selection','ProseMirror-selectednode','761388buhfwi','6KtLrMF','editor','template','356632JCDwcX','value','renderedComponent','getDecorationClasses','cloneNode','proxy','contentDOM','hasAttribute','keys','[data-node-view-content]','bind','mount','EditorContent','5351128KXtGid','replaceChild','selectionUpdate','5177334EBGZpT','7NsERbu','classList','3429rhYqbH','345JHboUT','selected','remove','setup','updateAttributes','contentComponent','innerDecorations','destroy','66bOTEUm','call','decorationClasses','childNodes','props','element','onDragStart','join','off','vNode','add','node','__file','32356gUJgEb','default','reactiveExtensionStorage','state','registerPlugin','ref','5233164DMIFLS','setOptions','view','type','selectNode','appContext','beforeTransaction','extension','function','div','Please\x20use\x20the\x20NodeViewWrapper\x20component\x20for\x20your\x20node\x20view.','rootEl','querySelector','unregisterPlugin','storage','number','append','data-node-view-wrapper','options','decorations','component','dom','__vccOpts','update','renderComponent','normal','forEach'];_0x55db=function(){return _0x56eb09;};return _0x55db();}class P{constructor(_0x3baa0a,{props:_0x2fd7e2={},editor:_0xfa5e44}){const _0x11c2c8=_0x407f3e;this['editor']=_0xfa5e44,this[_0x11c2c8(0xf5)]=m(_0x3baa0a),this['el']=document['createElement']('div'),this['props']=_0x33cca5(_0x2fd7e2),this[_0x11c2c8(0xb4)]=this['renderComponent']();}get[_0x407f3e(0xd3)](){const _0x34e71b=_0x407f3e;return this[_0x34e71b(0xb4)]['el'];}get[_0x407f3e(0xe0)](){const _0x198b27=_0x407f3e;var _0x2259b4,_0x1b03cd,_0xea194b,_0x314600;return!((_0x1b03cd=(_0x2259b4=this['renderedComponent']['vNode'])===null||_0x2259b4===void 0x0?void 0x0:_0x2259b4[_0x198b27(0xf5)])===null||_0x1b03cd===void 0x0)&&_0x1b03cd[_0x198b27(0xab)]?this[_0x198b27(0xb4)][_0x198b27(0xd7)][_0x198b27(0xf5)]['exposed']:(_0x314600=(_0xea194b=this['renderedComponent'][_0x198b27(0xd7)])===null||_0xea194b===void 0x0?void 0x0:_0xea194b['component'])===null||_0x314600===void 0x0?void 0x0:_0x314600[_0x198b27(0xb7)];}[_0x407f3e(0xf9)](){const _0x3fc0e1=_0x407f3e;let _0x5a9ab5=_0x2cf4d7(this[_0x3fc0e1(0xf5)],this[_0x3fc0e1(0xd2)]);return this[_0x3fc0e1(0xb0)]['appContext']&&(_0x5a9ab5['appContext']=this[_0x3fc0e1(0xb0)]['appContext']),typeof document<'u'&&this['el']&&_0x25d0eb(_0x5a9ab5,this['el']),{'vNode':_0x5a9ab5,'destroy':()=>{this['el']&&_0x25d0eb(null,this['el']),this['el']=null,_0x5a9ab5=null;},'el':this['el']?this['el']['firstElementChild']:null};}[_0x407f3e(0xfe)](_0x550219={}){const _0x5e8e46=_0x407f3e;Object['entries'](_0x550219)[_0x5e8e46(0xfb)](([_0x1010ac,_0x3afd85])=>{const _0x7ef753=_0x5e8e46;this[_0x7ef753(0xd2)][_0x1010ac]=_0x3afd85;}),this[_0x5e8e46(0xf9)]();}['destroy'](){const _0x2d6492=_0x407f3e;this[_0x2d6492(0xb4)][_0x2d6492(0xcd)]();}}const R={'editor':{'type':Object,'required':!0x0},'node':{'type':Object,'required':!0x0},'decorations':{'type':Object,'required':!0x0},'selected':{'type':Boolean,'required':!0x0},'extension':{'type':Object,'required':!0x0},'getPos':{'type':Function,'required':!0x0},'updateAttributes':{'type':Function,'required':!0x0},'deleteNode':{'type':Function,'required':!0x0},'view':{'type':Object,'required':!0x0},'innerDecorations':{'type':Object,'required':!0x0},'HTMLAttributes':{'type':Object,'required':!0x0}};class q extends _0x51b748{[_0x407f3e(0xbd)](){const _0x350951=_0x407f3e,_0x3b08fd={'editor':this['editor'],'node':this[_0x350951(0xd9)],'decorations':this[_0x350951(0xf4)],'innerDecorations':this['innerDecorations'],'view':this[_0x350951(0xe3)],'selected':!0x1,'extension':this[_0x350951(0xe8)],'HTMLAttributes':this[_0x350951(0xa8)],'getPos':()=>this['getPos'](),'updateAttributes':(_0x4753c1={})=>this[_0x350951(0xca)](_0x4753c1),'deleteNode':()=>this[_0x350951(0xff)]()},_0x511813=this[_0x350951(0xd4)][_0x350951(0xbc)](this);this['decorationClasses']=_0x294308(this[_0x350951(0xb5)]());const _0x8a1963=d({'extends':{...this[_0x350951(0xf5)]},'props':Object[_0x350951(0xba)](_0x3b08fd),'template':this[_0x350951(0xf5)][_0x350951(0xb1)],'setup':_0x1ec8ae=>{const _0x164661=_0x350951;var _0x288a47,_0x4f7bf5;return _0x4b8a10(_0x164661(0xd4),_0x511813),_0x4b8a10('decorationClasses',this[_0x164661(0xd0)]),(_0x4f7bf5=(_0x288a47=this[_0x164661(0xf5)])[_0x164661(0xc9)])===null||_0x4f7bf5===void 0x0?void 0x0:_0x4f7bf5[_0x164661(0xcf)](_0x288a47,_0x1ec8ae,{'expose':()=>{}});},'__scopeId':this['component']['__scopeId'],'__cssModules':this[_0x350951(0xf5)]['__cssModules'],'__name':this[_0x350951(0xf5)][_0x350951(0xa1)],'__file':this['component'][_0x350951(0xda)]});this['handleSelectionUpdate']=this[_0x350951(0xa4)]['bind'](this),this[_0x350951(0xb0)]['on'](_0x350951(0xc1),this[_0x350951(0xa4)]),this[_0x350951(0xa5)]=new P(_0x8a1963,{'editor':this[_0x350951(0xb0)],'props':_0x3b08fd});}get[_0x407f3e(0xf6)](){const _0x35ccdd=_0x407f3e;if(!this[_0x35ccdd(0xa5)][_0x35ccdd(0xd3)]||!this[_0x35ccdd(0xa5)][_0x35ccdd(0xd3)][_0x35ccdd(0xb9)](_0x35ccdd(0xf2)))throw Error(_0x35ccdd(0xeb));return this[_0x35ccdd(0xa5)]['element'];}get[_0x407f3e(0xb8)](){const _0x11cc6f=_0x407f3e;return this[_0x11cc6f(0xd9)]['isLeaf']?null:this[_0x11cc6f(0xf6)][_0x11cc6f(0xed)](_0x11cc6f(0xbb));}[_0x407f3e(0xa4)](){const _0x3d6ee7=_0x407f3e,{from:_0x22ed5a,to:_0x576b08}=this['editor'][_0x3d6ee7(0xde)][_0x3d6ee7(0xac)],_0x5dfa71=this['getPos']();if(typeof _0x5dfa71==_0x3d6ee7(0xf0)){if(_0x22ed5a<=_0x5dfa71&&_0x576b08>=_0x5dfa71+this[_0x3d6ee7(0xd9)][_0x3d6ee7(0xa7)]){if(this[_0x3d6ee7(0xa5)][_0x3d6ee7(0xd2)][_0x3d6ee7(0xc7)])return;this['selectNode']();}else{if(!this[_0x3d6ee7(0xa5)][_0x3d6ee7(0xd2)][_0x3d6ee7(0xc7)])return;this['deselectNode']();}}}['update'](_0x4b9115,_0x124a78,_0x13113c){const _0x345055=_0x407f3e,_0x633f07=_0x45164c=>{const _0xd3c2ba=_0x4c6d;this['decorationClasses']['value']=this[_0xd3c2ba(0xb5)](),this['renderer'][_0xd3c2ba(0xfe)](_0x45164c);};if(typeof this[_0x345055(0xf3)][_0x345055(0xf8)]==_0x345055(0xe9)){const _0x588d97=this[_0x345055(0xd9)],_0x55cac3=this['decorations'],_0x480ddf=this['innerDecorations'];return this[_0x345055(0xd9)]=_0x4b9115,this[_0x345055(0xf4)]=_0x124a78,this[_0x345055(0xcc)]=_0x13113c,this[_0x345055(0xf3)][_0x345055(0xf8)]({'oldNode':_0x588d97,'oldDecorations':_0x55cac3,'newNode':_0x4b9115,'newDecorations':_0x124a78,'oldInnerDecorations':_0x480ddf,'innerDecorations':_0x13113c,'updateProps':()=>_0x633f07({'node':_0x4b9115,'decorations':_0x124a78,'innerDecorations':_0x13113c})});}return _0x4b9115[_0x345055(0xe4)]!==this['node'][_0x345055(0xe4)]?!0x1:(_0x4b9115===this[_0x345055(0xd9)]&&this[_0x345055(0xf4)]===_0x124a78&&this[_0x345055(0xcc)]===_0x13113c||(this[_0x345055(0xd9)]=_0x4b9115,this[_0x345055(0xf4)]=_0x124a78,this['innerDecorations']=_0x13113c,_0x633f07({'node':_0x4b9115,'decorations':_0x124a78,'innerDecorations':_0x13113c})),!0x0);}[_0x407f3e(0xe5)](){const _0x265846=_0x407f3e;this[_0x265846(0xa5)]['updateProps']({'selected':!0x0}),this[_0x265846(0xa5)][_0x265846(0xd3)]&&this['renderer'][_0x265846(0xd3)][_0x265846(0xc4)][_0x265846(0xd8)](_0x265846(0xad));}['deselectNode'](){const _0x3b950f=_0x407f3e;this['renderer'][_0x3b950f(0xfe)]({'selected':!0x1}),this['renderer'][_0x3b950f(0xd3)]&&this[_0x3b950f(0xa5)][_0x3b950f(0xd3)][_0x3b950f(0xc4)][_0x3b950f(0xc8)](_0x3b950f(0xad));}[_0x407f3e(0xb5)](){const _0x200a3a=_0x407f3e;return this[_0x200a3a(0xf4)][_0x200a3a(0xa9)](_0x532428=>_0x532428[_0x200a3a(0xe4)]['attrs']['class'])[_0x200a3a(0xfc)]()[_0x200a3a(0xd5)]('\x20');}[_0x407f3e(0xcd)](){const _0x270ad7=_0x407f3e;this[_0x270ad7(0xa5)]['destroy'](),this[_0x270ad7(0xb0)][_0x270ad7(0xd6)]('selectionUpdate',this[_0x270ad7(0xa4)]);}}function F(_0x264455,_0x1288dd){return _0x36d9ff=>{const _0x42611e=_0x4c6d;if(!_0x36d9ff[_0x42611e(0xb0)][_0x42611e(0xcb)])return{};const _0x47b076=typeof _0x264455==_0x42611e(0xe9)&&_0x42611e(0xf7)in _0x264455?_0x264455[_0x42611e(0xf7)]:_0x264455;return new q(_0x47b076,_0x36d9ff,_0x1288dd);};}export{M as E,U as N,F as V,P as a,R as n,L as u};