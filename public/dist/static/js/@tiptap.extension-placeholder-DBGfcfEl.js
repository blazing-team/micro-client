import{E as p,l as m}from"./@tiptap.core-HsqG-hEX.js";import{P as u,a as y}from"./prosemirror-state-DcLGimL2.js";import{D as E,a as f}from"./prosemirror-view-DEGNo2BM.js";const O=p.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something â€¦",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new u({key:new y("placeholder"),props:{decorations:({doc:o,selection:a})=>{const l=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=a,i=[];if(!l)return null;const c=this.editor.isEmpty;return o.descendants((t,e)=>{const n=s>=e&&s<=e+t.nodeSize,d=!t.isLeaf&&m(t);if((n||!this.options.showOnlyCurrent)&&d){const r=[this.options.emptyNodeClass];c&&r.push(this.options.emptyEditorClass);const h=E.node(e,e+t.nodeSize,{class:r.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:n}):this.options.placeholder});i.push(h)}return this.options.includeChildren}),f.create(o,i)}}})]}});export{O as P};
