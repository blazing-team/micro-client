const _0x16de6f=_0x4779;(function(_0x441f66,_0xc8678d){const _0x3d006e=_0x4779,_0xfaefa4=_0x441f66();while(!![]){try{const _0x1a7f42=-parseInt(_0x3d006e(0x16f))/0x1+parseInt(_0x3d006e(0x19f))/0x2+parseInt(_0x3d006e(0x18a))/0x3*(parseInt(_0x3d006e(0x17e))/0x4)+-parseInt(_0x3d006e(0x186))/0x5+parseInt(_0x3d006e(0x179))/0x6+parseInt(_0x3d006e(0x19c))/0x7+-parseInt(_0x3d006e(0x196))/0x8;if(_0x1a7f42===_0xc8678d)break;else _0xfaefa4['push'](_0xfaefa4['shift']());}catch(_0x2824e7){_0xfaefa4['push'](_0xfaefa4['shift']());}}}(_0x5b8b,0xb1fe8));import{P as _0x5663da,a as _0x39cd3f}from'./prosemirror-state-DcLGimL2.js';import{a as _0x4328e0,D as _0x446593}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x4a8398}from'./@tiptap.core-HsqG-hEX.js';function _0x5b8b(){const _0x10e8d2=['3cvzNDV','[data-decoration-id=\x22','onKeyDown','$from','floor','range','id_','decorationId','test','|$)','key','suggestion','8169048PFqfXo','span','[^\x5cs','is-empty','\x00]?$','isText','4032616OlCHMt','create','querySelector','609130NeqLzf','length','from','index','onUpdate','424271DksmlS','nodeBefore','view','state','(?:^)?','onStart','input','max','call','text','6327264JJSMjh','query','slice','inline','active','1914584ZAHoqk','pop','composing','onBeforeUpdate','join','pos','doc','getBoundingClientRect','1196885TYuDAp','getState','onExit','dom'];_0x5b8b=function(){return _0x10e8d2;};return _0x5b8b();}function J(_0x5a1e7a){const _0x49819f=_0x4779;var _0x790cfb;const {char:_0x2d57bc,allowSpaces:_0x46d8fc,allowToIncludeChar:_0x11a36b,allowedPrefixes:_0x329fe1,startOfLine:_0x5777e3,$position:_0x19c91d}=_0x5a1e7a,_0x398b8c=_0x46d8fc&&!_0x11a36b,_0x4760d5=_0x4a8398(_0x2d57bc),_0x727d18=new RegExp('\x5cs'+_0x4760d5+'$'),_0x451505=_0x5777e3?'^':'',_0xf2f352=_0x11a36b?'':_0x4760d5,_0x278c29=_0x398b8c?new RegExp(''+_0x451505+_0x4760d5+'.*?(?=\x5cs'+_0xf2f352+_0x49819f(0x193),'gm'):new RegExp(_0x451505+_0x49819f(0x173)+_0x4760d5+_0x49819f(0x198)+_0xf2f352+']*','gm'),_0x6ea800=((_0x790cfb=_0x19c91d[_0x49819f(0x170)])===null||_0x790cfb===void 0x0?void 0x0:_0x790cfb[_0x49819f(0x19b)])&&_0x19c91d[_0x49819f(0x170)][_0x49819f(0x178)];if(!_0x6ea800)return null;const _0x6f38a5=_0x19c91d['pos']-_0x6ea800['length'],_0x2f6e4b=Array[_0x49819f(0x1a1)](_0x6ea800['matchAll'](_0x278c29))[_0x49819f(0x17f)]();if(!_0x2f6e4b||_0x2f6e4b[_0x49819f(0x175)]===void 0x0||_0x2f6e4b[_0x49819f(0x16d)]===void 0x0)return null;const _0x50fb7c=_0x2f6e4b[_0x49819f(0x175)][_0x49819f(0x17b)](Math[_0x49819f(0x176)](0x0,_0x2f6e4b['index']-0x1),_0x2f6e4b[_0x49819f(0x16d)]),_0x11bec7=new RegExp('^['+(_0x329fe1==null?void 0x0:_0x329fe1[_0x49819f(0x182)](''))+_0x49819f(0x19a))[_0x49819f(0x192)](_0x50fb7c);if(_0x329fe1!==null&&!_0x11bec7)return null;const _0x2e0c35=_0x6f38a5+_0x2f6e4b['index'];let _0x4a23a6=_0x2e0c35+_0x2f6e4b[0x0]['length'];return _0x398b8c&&_0x727d18[_0x49819f(0x192)](_0x6ea800[_0x49819f(0x17b)](_0x4a23a6-0x1,_0x4a23a6+0x1))&&(_0x2f6e4b[0x0]+='\x20',_0x4a23a6+=0x1),_0x2e0c35<_0x19c91d[_0x49819f(0x183)]&&_0x4a23a6>=_0x19c91d[_0x49819f(0x183)]?{'range':{'from':_0x2e0c35,'to':_0x4a23a6},'query':_0x2f6e4b[0x0]['slice'](_0x2d57bc[_0x49819f(0x1a0)]),'text':_0x2f6e4b[0x0]}:null;}const Q=new _0x39cd3f(_0x16de6f(0x195));function Y({pluginKey:_0x5080ed=Q,editor:_0x24fff7,char:_0x262390='@',allowSpaces:_0xd791c4=!0x1,allowToIncludeChar:_0x51263b=!0x1,allowedPrefixes:_0x57d634=['\x20'],startOfLine:_0x2e0961=!0x1,decorationTag:_0x5d288f=_0x16de6f(0x197),decorationClass:_0xff808=_0x16de6f(0x195),decorationContent:_0x197eae='',decorationEmptyClass:_0x4cecfe=_0x16de6f(0x199),command:_0x3c8482=()=>null,items:_0x2bd0ac=()=>[],render:_0x1b5f61=()=>({}),allow:_0x1dd90e=()=>!0x0,findSuggestionMatch:_0xbdd69a=J}){let _0x3f70e4;const _0x397435=_0x1b5f61==null?void 0x0:_0x1b5f61(),_0x546768=new _0x5663da({'key':_0x5080ed,'view'(){return{'update':async(_0x1118e2,_0x38a2bd)=>{const _0x3b3e41=_0x4779;var _0x502a83,_0xa7d6ef,_0x465793,_0x1a682f,_0x2a0098,_0x4dda6b,_0x45a61e;const _0x1bb097=(_0x502a83=this[_0x3b3e41(0x194)])===null||_0x502a83===void 0x0?void 0x0:_0x502a83[_0x3b3e41(0x187)](_0x38a2bd),_0x1137f6=(_0xa7d6ef=this[_0x3b3e41(0x194)])===null||_0xa7d6ef===void 0x0?void 0x0:_0xa7d6ef[_0x3b3e41(0x187)](_0x1118e2[_0x3b3e41(0x172)]),_0x5b24e2=_0x1bb097[_0x3b3e41(0x17d)]&&_0x1137f6['active']&&_0x1bb097[_0x3b3e41(0x18f)][_0x3b3e41(0x1a1)]!==_0x1137f6[_0x3b3e41(0x18f)]['from'],_0x2e6004=!_0x1bb097[_0x3b3e41(0x17d)]&&_0x1137f6[_0x3b3e41(0x17d)],_0x4e54ff=_0x1bb097[_0x3b3e41(0x17d)]&&!_0x1137f6['active'],_0x42faee=!_0x2e6004&&!_0x4e54ff&&_0x1bb097['query']!==_0x1137f6[_0x3b3e41(0x17a)],_0x106b7f=_0x2e6004||_0x5b24e2&&_0x42faee,_0x4f526c=_0x42faee||_0x5b24e2,_0x389baf=_0x4e54ff||_0x5b24e2&&_0x42faee;if(!_0x106b7f&&!_0x4f526c&&!_0x389baf)return;const _0x58a7fb=_0x389baf&&!_0x106b7f?_0x1bb097:_0x1137f6,_0x3d4804=_0x1118e2['dom'][_0x3b3e41(0x19e)](_0x3b3e41(0x18b)+_0x58a7fb['decorationId']+'\x22]');_0x3f70e4={'editor':_0x24fff7,'range':_0x58a7fb[_0x3b3e41(0x18f)],'query':_0x58a7fb[_0x3b3e41(0x17a)],'text':_0x58a7fb[_0x3b3e41(0x178)],'items':[],'command':_0x4e2df6=>_0x3c8482({'editor':_0x24fff7,'range':_0x58a7fb[_0x3b3e41(0x18f)],'props':_0x4e2df6}),'decorationNode':_0x3d4804,'clientRect':_0x3d4804?()=>{const _0x784192=_0x3b3e41;var _0x5c9524;const {decorationId:_0x26b545}=(_0x5c9524=this[_0x784192(0x194)])===null||_0x5c9524===void 0x0?void 0x0:_0x5c9524[_0x784192(0x187)](_0x24fff7[_0x784192(0x172)]),_0x335e7d=_0x1118e2[_0x784192(0x189)][_0x784192(0x19e)](_0x784192(0x18b)+_0x26b545+'\x22]');return(_0x335e7d==null?void 0x0:_0x335e7d[_0x784192(0x185)]())||null;}:null},_0x106b7f&&((_0x465793=_0x397435==null?void 0x0:_0x397435['onBeforeStart'])===null||_0x465793===void 0x0||_0x465793[_0x3b3e41(0x177)](_0x397435,_0x3f70e4)),_0x4f526c&&((_0x1a682f=_0x397435==null?void 0x0:_0x397435[_0x3b3e41(0x181)])===null||_0x1a682f===void 0x0||_0x1a682f[_0x3b3e41(0x177)](_0x397435,_0x3f70e4)),(_0x4f526c||_0x106b7f)&&(_0x3f70e4['items']=await _0x2bd0ac({'editor':_0x24fff7,'query':_0x58a7fb[_0x3b3e41(0x17a)]})),_0x389baf&&((_0x2a0098=_0x397435==null?void 0x0:_0x397435[_0x3b3e41(0x188)])===null||_0x2a0098===void 0x0||_0x2a0098['call'](_0x397435,_0x3f70e4)),_0x4f526c&&((_0x4dda6b=_0x397435==null?void 0x0:_0x397435[_0x3b3e41(0x16e)])===null||_0x4dda6b===void 0x0||_0x4dda6b[_0x3b3e41(0x177)](_0x397435,_0x3f70e4)),_0x106b7f&&((_0x45a61e=_0x397435==null?void 0x0:_0x397435[_0x3b3e41(0x174)])===null||_0x45a61e===void 0x0||_0x45a61e[_0x3b3e41(0x177)](_0x397435,_0x3f70e4));},'destroy':()=>{const _0x4fab69=_0x4779;var _0x1260f4;_0x3f70e4&&((_0x1260f4=_0x397435==null?void 0x0:_0x397435[_0x4fab69(0x188)])===null||_0x1260f4===void 0x0||_0x1260f4[_0x4fab69(0x177)](_0x397435,_0x3f70e4));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x38c2ce,_0x3396c1,_0x239b46,_0x48354d){const _0x21320f=_0x4779,{isEditable:_0x1deafc}=_0x24fff7,{composing:_0x34d12a}=_0x24fff7[_0x21320f(0x171)],{selection:_0x1bcd8f}=_0x38c2ce,{empty:_0x422017,from:_0x5c2aa2}=_0x1bcd8f,_0x3d775a={..._0x3396c1};if(_0x3d775a[_0x21320f(0x180)]=_0x34d12a,_0x1deafc&&(_0x422017||_0x24fff7[_0x21320f(0x171)]['composing'])){(_0x5c2aa2<_0x3396c1[_0x21320f(0x18f)]['from']||_0x5c2aa2>_0x3396c1[_0x21320f(0x18f)]['to'])&&!_0x34d12a&&!_0x3396c1[_0x21320f(0x180)]&&(_0x3d775a['active']=!0x1);const _0xfef259=_0xbdd69a({'char':_0x262390,'allowSpaces':_0xd791c4,'allowToIncludeChar':_0x51263b,'allowedPrefixes':_0x57d634,'startOfLine':_0x2e0961,'$position':_0x1bcd8f[_0x21320f(0x18d)]}),_0x65faf=_0x21320f(0x190)+Math[_0x21320f(0x18e)](Math['random']()*0xffffffff);_0xfef259&&_0x1dd90e({'editor':_0x24fff7,'state':_0x48354d,'range':_0xfef259[_0x21320f(0x18f)],'isActive':_0x3396c1[_0x21320f(0x17d)]})?(_0x3d775a[_0x21320f(0x17d)]=!0x0,_0x3d775a[_0x21320f(0x191)]=_0x3396c1['decorationId']?_0x3396c1['decorationId']:_0x65faf,_0x3d775a[_0x21320f(0x18f)]=_0xfef259[_0x21320f(0x18f)],_0x3d775a[_0x21320f(0x17a)]=_0xfef259[_0x21320f(0x17a)],_0x3d775a[_0x21320f(0x178)]=_0xfef259[_0x21320f(0x178)]):_0x3d775a[_0x21320f(0x17d)]=!0x1;}else _0x3d775a[_0x21320f(0x17d)]=!0x1;return _0x3d775a[_0x21320f(0x17d)]||(_0x3d775a['decorationId']=null,_0x3d775a[_0x21320f(0x18f)]={'from':0x0,'to':0x0},_0x3d775a['query']=null,_0x3d775a[_0x21320f(0x178)]=null),_0x3d775a;}},'props':{'handleKeyDown'(_0x3d4375,_0x57bfe3){const _0x1ab249=_0x4779;var _0x57e04d;const {active:_0x3512d3,range:_0x4a2b39}=_0x546768[_0x1ab249(0x187)](_0x3d4375[_0x1ab249(0x172)]);return _0x3512d3&&((_0x57e04d=_0x397435==null?void 0x0:_0x397435[_0x1ab249(0x18c)])===null||_0x57e04d===void 0x0?void 0x0:_0x57e04d[_0x1ab249(0x177)](_0x397435,{'view':_0x3d4375,'event':_0x57bfe3,'range':_0x4a2b39}))||!0x1;},'decorations'(_0x3941ca){const _0x2aaba4=_0x4779,{active:_0x8c736e,range:_0x39c570,decorationId:_0x3ea6ce,query:_0x693475}=_0x546768[_0x2aaba4(0x187)](_0x3941ca);if(!_0x8c736e)return null;const _0x1c8707=!(_0x693475!=null&&_0x693475[_0x2aaba4(0x1a0)]),_0x32a51e=[_0xff808];return _0x1c8707&&_0x32a51e['push'](_0x4cecfe),_0x4328e0[_0x2aaba4(0x19d)](_0x3941ca[_0x2aaba4(0x184)],[_0x446593[_0x2aaba4(0x17c)](_0x39c570['from'],_0x39c570['to'],{'nodeName':_0x5d288f,'class':_0x32a51e['join']('\x20'),'data-decoration-id':_0x3ea6ce,'data-decoration-content':_0x197eae})]);}}});return _0x546768;}function _0x4779(_0x194f39,_0xee30c6){_0x194f39=_0x194f39-0x16d;const _0x5b8bd7=_0x5b8b();let _0x4779bd=_0x5b8bd7[_0x194f39];return _0x4779bd;}export{Y as S};