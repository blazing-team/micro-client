const _0x21afcc=_0x2c4e;(function(_0x32d055,_0xbf3023){const _0x43656b=_0x2c4e,_0x37e849=_0x32d055();while(!![]){try{const _0x24956b=-parseInt(_0x43656b(0x1e6))/0x1+-parseInt(_0x43656b(0x1d6))/0x2*(parseInt(_0x43656b(0x1e7))/0x3)+parseInt(_0x43656b(0x1f6))/0x4*(parseInt(_0x43656b(0x1d2))/0x5)+parseInt(_0x43656b(0x1dc))/0x6+parseInt(_0x43656b(0x1e5))/0x7*(-parseInt(_0x43656b(0x1f7))/0x8)+-parseInt(_0x43656b(0x1d0))/0x9+parseInt(_0x43656b(0x1f1))/0xa*(parseInt(_0x43656b(0x1d7))/0xb);if(_0x24956b===_0xbf3023)break;else _0x37e849['push'](_0x37e849['shift']());}catch(_0x192e40){_0x37e849['push'](_0x37e849['shift']());}}}(_0x40dc,0x9f4f0));import{P as _0x39a7ff,a as _0x3e10c4}from'./prosemirror-state-DcLGimL2.js';import{a as _0xd7d595,D as _0x371187}from'./prosemirror-view-DEGNo2BM.js';function _0x2c4e(_0x1a0118,_0xbb750d){_0x1a0118=_0x1a0118-0x1c9;const _0x40dcdd=_0x40dc();let _0x2c4e8e=_0x40dcdd[_0x1a0118];return _0x2c4e8e;}import{o as _0x13116d}from'./@tiptap.core-HsqG-hEX.js';function J(_0x50c91a){const _0x597f56=_0x2c4e;var _0x48e2fe;const {char:_0x463e8f,allowSpaces:_0x4e1042,allowToIncludeChar:_0x2207b3,allowedPrefixes:_0x4943d6,startOfLine:_0xb12ac0,$position:_0xeafe1f}=_0x50c91a,_0x121ed3=_0x4e1042&&!_0x2207b3,_0x7d2ed=_0x13116d(_0x463e8f),_0x860916=new RegExp('\x5cs'+_0x7d2ed+'$'),_0x1597d1=_0xb12ac0?'^':'',_0x39a51c=_0x2207b3?'':_0x7d2ed,_0x46acd6=_0x121ed3?new RegExp(''+_0x1597d1+_0x7d2ed+_0x597f56(0x1d1)+_0x39a51c+_0x597f56(0x1eb),'gm'):new RegExp(_0x1597d1+'(?:^)?'+_0x7d2ed+_0x597f56(0x1ee)+_0x39a51c+']*','gm'),_0x3614f9=((_0x48e2fe=_0xeafe1f[_0x597f56(0x1ef)])===null||_0x48e2fe===void 0x0?void 0x0:_0x48e2fe[_0x597f56(0x1f5)])&&_0xeafe1f[_0x597f56(0x1ef)][_0x597f56(0x1dd)];if(!_0x3614f9)return null;const _0x5cfc95=_0xeafe1f[_0x597f56(0x1db)]-_0x3614f9['length'],_0x3fe642=Array['from'](_0x3614f9[_0x597f56(0x1c9)](_0x46acd6))[_0x597f56(0x1fb)]();if(!_0x3fe642||_0x3fe642[_0x597f56(0x1e0)]===void 0x0||_0x3fe642[_0x597f56(0x1f4)]===void 0x0)return null;const _0x1d9247=_0x3fe642[_0x597f56(0x1e0)][_0x597f56(0x1ca)](Math[_0x597f56(0x1e9)](0x0,_0x3fe642['index']-0x1),_0x3fe642[_0x597f56(0x1f4)]),_0x3e34cf=new RegExp('^['+(_0x4943d6==null?void 0x0:_0x4943d6[_0x597f56(0x1ea)](''))+_0x597f56(0x1d3))[_0x597f56(0x1e4)](_0x1d9247);if(_0x4943d6!==null&&!_0x3e34cf)return null;const _0x45e290=_0x5cfc95+_0x3fe642[_0x597f56(0x1f4)];let _0x947151=_0x45e290+_0x3fe642[0x0][_0x597f56(0x1ec)];return _0x121ed3&&_0x860916[_0x597f56(0x1e4)](_0x3614f9[_0x597f56(0x1ca)](_0x947151-0x1,_0x947151+0x1))&&(_0x3fe642[0x0]+='\x20',_0x947151+=0x1),_0x45e290<_0xeafe1f[_0x597f56(0x1db)]&&_0x947151>=_0xeafe1f[_0x597f56(0x1db)]?{'range':{'from':_0x45e290,'to':_0x947151},'query':_0x3fe642[0x0]['slice'](_0x463e8f[_0x597f56(0x1ec)]),'text':_0x3fe642[0x0]}:null;}const Q=new _0x3e10c4('suggestion');function _0x40dc(){const _0x2f52ea=['.*?(?=\x5cs','4395RDbiec','\x00]?$','query','range','2vdgrEc','11XfCjTi','composing','span','active','pos','6963030dfbkeF','text','onExit','querySelector','input','from','[data-decoration-id=\x22','inline','test','21LRtsMi','1302665pHUVmb','2896095kVeARe','decorationId','max','join','|$)','length','getBoundingClientRect','[^\x5cs','nodeBefore','onKeyDown','30325590WeBCrt','onBeforeUpdate','dom','index','isText','2836umKWDf','2805640LehibM','onStart','state','getState','pop','matchAll','slice','call','onUpdate','key','onBeforeStart','floor','7592418jRMsAD'];_0x40dc=function(){return _0x2f52ea;};return _0x40dc();}function Y({pluginKey:_0x4c37f=Q,editor:_0x27c362,char:_0x7b712='@',allowSpaces:_0x150161=!0x1,allowToIncludeChar:_0x561e3c=!0x1,allowedPrefixes:_0x187e83=['\x20'],startOfLine:_0x32c177=!0x1,decorationTag:_0xae6ac2=_0x21afcc(0x1d9),decorationClass:_0x3ec450='suggestion',decorationContent:_0x26ba09='',decorationEmptyClass:_0x5bd435='is-empty',command:_0x2a3d3d=()=>null,items:_0x3f6b08=()=>[],render:_0x57a243=()=>({}),allow:_0x3412ff=()=>!0x0,findSuggestionMatch:_0x17ecab=J}){let _0x2feb9b;const _0x47bd0a=_0x57a243==null?void 0x0:_0x57a243(),_0x492fb4=new _0x39a7ff({'key':_0x4c37f,'view'(){return{'update':async(_0x4b6107,_0x2e207f)=>{const _0x345f56=_0x2c4e;var _0x230818,_0x4ef1ba,_0x267139,_0x2ee898,_0x434a47,_0x29dd57,_0x94e81c;const _0x15b45f=(_0x230818=this['key'])===null||_0x230818===void 0x0?void 0x0:_0x230818['getState'](_0x2e207f),_0xa7e2ea=(_0x4ef1ba=this[_0x345f56(0x1cd)])===null||_0x4ef1ba===void 0x0?void 0x0:_0x4ef1ba[_0x345f56(0x1fa)](_0x4b6107[_0x345f56(0x1f9)]),_0x258d46=_0x15b45f[_0x345f56(0x1da)]&&_0xa7e2ea[_0x345f56(0x1da)]&&_0x15b45f[_0x345f56(0x1d5)][_0x345f56(0x1e1)]!==_0xa7e2ea[_0x345f56(0x1d5)]['from'],_0x3e4fd9=!_0x15b45f[_0x345f56(0x1da)]&&_0xa7e2ea['active'],_0x577034=_0x15b45f[_0x345f56(0x1da)]&&!_0xa7e2ea[_0x345f56(0x1da)],_0xd7d7b1=!_0x3e4fd9&&!_0x577034&&_0x15b45f[_0x345f56(0x1d4)]!==_0xa7e2ea['query'],_0x235213=_0x3e4fd9||_0x258d46&&_0xd7d7b1,_0x2f710c=_0xd7d7b1||_0x258d46,_0x13ff50=_0x577034||_0x258d46&&_0xd7d7b1;if(!_0x235213&&!_0x2f710c&&!_0x13ff50)return;const _0x365042=_0x13ff50&&!_0x235213?_0x15b45f:_0xa7e2ea,_0x2c1507=_0x4b6107[_0x345f56(0x1f3)][_0x345f56(0x1df)](_0x345f56(0x1e2)+_0x365042[_0x345f56(0x1e8)]+'\x22]');_0x2feb9b={'editor':_0x27c362,'range':_0x365042[_0x345f56(0x1d5)],'query':_0x365042['query'],'text':_0x365042[_0x345f56(0x1dd)],'items':[],'command':_0x371442=>_0x2a3d3d({'editor':_0x27c362,'range':_0x365042[_0x345f56(0x1d5)],'props':_0x371442}),'decorationNode':_0x2c1507,'clientRect':_0x2c1507?()=>{const _0x23cd11=_0x345f56;var _0x501b51;const {decorationId:_0x236296}=(_0x501b51=this[_0x23cd11(0x1cd)])===null||_0x501b51===void 0x0?void 0x0:_0x501b51[_0x23cd11(0x1fa)](_0x27c362[_0x23cd11(0x1f9)]),_0x304511=_0x4b6107[_0x23cd11(0x1f3)][_0x23cd11(0x1df)](_0x23cd11(0x1e2)+_0x236296+'\x22]');return(_0x304511==null?void 0x0:_0x304511[_0x23cd11(0x1ed)]())||null;}:null},_0x235213&&((_0x267139=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x345f56(0x1ce)])===null||_0x267139===void 0x0||_0x267139[_0x345f56(0x1cb)](_0x47bd0a,_0x2feb9b)),_0x2f710c&&((_0x2ee898=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x345f56(0x1f2)])===null||_0x2ee898===void 0x0||_0x2ee898[_0x345f56(0x1cb)](_0x47bd0a,_0x2feb9b)),(_0x2f710c||_0x235213)&&(_0x2feb9b['items']=await _0x3f6b08({'editor':_0x27c362,'query':_0x365042[_0x345f56(0x1d4)]})),_0x13ff50&&((_0x434a47=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x345f56(0x1de)])===null||_0x434a47===void 0x0||_0x434a47[_0x345f56(0x1cb)](_0x47bd0a,_0x2feb9b)),_0x2f710c&&((_0x29dd57=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x345f56(0x1cc)])===null||_0x29dd57===void 0x0||_0x29dd57['call'](_0x47bd0a,_0x2feb9b)),_0x235213&&((_0x94e81c=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x345f56(0x1f8)])===null||_0x94e81c===void 0x0||_0x94e81c[_0x345f56(0x1cb)](_0x47bd0a,_0x2feb9b));},'destroy':()=>{const _0x25ffb2=_0x2c4e;var _0x2d0810;_0x2feb9b&&((_0x2d0810=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x25ffb2(0x1de)])===null||_0x2d0810===void 0x0||_0x2d0810[_0x25ffb2(0x1cb)](_0x47bd0a,_0x2feb9b));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x1219b0,_0x145e18,_0x121108,_0xdfcb58){const _0x3c7d96=_0x2c4e,{isEditable:_0x39e097}=_0x27c362,{composing:_0x47dc1b}=_0x27c362['view'],{selection:_0x715762}=_0x1219b0,{empty:_0xfdb083,from:_0x5d4a0c}=_0x715762,_0x519bf0={..._0x145e18};if(_0x519bf0['composing']=_0x47dc1b,_0x39e097&&(_0xfdb083||_0x27c362['view'][_0x3c7d96(0x1d8)])){(_0x5d4a0c<_0x145e18['range'][_0x3c7d96(0x1e1)]||_0x5d4a0c>_0x145e18[_0x3c7d96(0x1d5)]['to'])&&!_0x47dc1b&&!_0x145e18[_0x3c7d96(0x1d8)]&&(_0x519bf0[_0x3c7d96(0x1da)]=!0x1);const _0x167d6e=_0x17ecab({'char':_0x7b712,'allowSpaces':_0x150161,'allowToIncludeChar':_0x561e3c,'allowedPrefixes':_0x187e83,'startOfLine':_0x32c177,'$position':_0x715762['$from']}),_0x3b597='id_'+Math[_0x3c7d96(0x1cf)](Math['random']()*0xffffffff);_0x167d6e&&_0x3412ff({'editor':_0x27c362,'state':_0xdfcb58,'range':_0x167d6e['range'],'isActive':_0x145e18[_0x3c7d96(0x1da)]})?(_0x519bf0[_0x3c7d96(0x1da)]=!0x0,_0x519bf0[_0x3c7d96(0x1e8)]=_0x145e18[_0x3c7d96(0x1e8)]?_0x145e18[_0x3c7d96(0x1e8)]:_0x3b597,_0x519bf0[_0x3c7d96(0x1d5)]=_0x167d6e[_0x3c7d96(0x1d5)],_0x519bf0[_0x3c7d96(0x1d4)]=_0x167d6e[_0x3c7d96(0x1d4)],_0x519bf0[_0x3c7d96(0x1dd)]=_0x167d6e[_0x3c7d96(0x1dd)]):_0x519bf0[_0x3c7d96(0x1da)]=!0x1;}else _0x519bf0[_0x3c7d96(0x1da)]=!0x1;return _0x519bf0[_0x3c7d96(0x1da)]||(_0x519bf0[_0x3c7d96(0x1e8)]=null,_0x519bf0[_0x3c7d96(0x1d5)]={'from':0x0,'to':0x0},_0x519bf0[_0x3c7d96(0x1d4)]=null,_0x519bf0[_0x3c7d96(0x1dd)]=null),_0x519bf0;}},'props':{'handleKeyDown'(_0x531dfd,_0x3050e4){const _0x432634=_0x2c4e;var _0x31de86;const {active:_0x118233,range:_0x53868b}=_0x492fb4[_0x432634(0x1fa)](_0x531dfd[_0x432634(0x1f9)]);return _0x118233&&((_0x31de86=_0x47bd0a==null?void 0x0:_0x47bd0a[_0x432634(0x1f0)])===null||_0x31de86===void 0x0?void 0x0:_0x31de86[_0x432634(0x1cb)](_0x47bd0a,{'view':_0x531dfd,'event':_0x3050e4,'range':_0x53868b}))||!0x1;},'decorations'(_0x12f035){const _0x342413=_0x2c4e,{active:_0x429249,range:_0x5c6ad3,decorationId:_0x138344,query:_0x1c1857}=_0x492fb4[_0x342413(0x1fa)](_0x12f035);if(!_0x429249)return null;const _0x1f0a99=!(_0x1c1857!=null&&_0x1c1857[_0x342413(0x1ec)]),_0x115805=[_0x3ec450];return _0x1f0a99&&_0x115805['push'](_0x5bd435),_0xd7d595['create'](_0x12f035['doc'],[_0x371187[_0x342413(0x1e3)](_0x5c6ad3[_0x342413(0x1e1)],_0x5c6ad3['to'],{'nodeName':_0xae6ac2,'class':_0x115805[_0x342413(0x1ea)]('\x20'),'data-decoration-id':_0x138344,'data-decoration-content':_0x26ba09})]);}}});return _0x492fb4;}export{Y as S};