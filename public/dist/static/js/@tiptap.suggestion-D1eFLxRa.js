const _0x330640=_0xe2ca;(function(_0x3fa426,_0x443ec9){const _0x1d8039=_0xe2ca,_0x54956e=_0x3fa426();while(!![]){try{const _0x4404c1=-parseInt(_0x1d8039(0xc0))/0x1+-parseInt(_0x1d8039(0xaf))/0x2+-parseInt(_0x1d8039(0xb4))/0x3+-parseInt(_0x1d8039(0xc1))/0x4*(parseInt(_0x1d8039(0xc8))/0x5)+parseInt(_0x1d8039(0xb6))/0x6+-parseInt(_0x1d8039(0xab))/0x7+-parseInt(_0x1d8039(0xcb))/0x8*(-parseInt(_0x1d8039(0xbe))/0x9);if(_0x4404c1===_0x443ec9)break;else _0x54956e['push'](_0x54956e['shift']());}catch(_0x50ef04){_0x54956e['push'](_0x54956e['shift']());}}}(_0xdd10,0x8d5c8));function _0xe2ca(_0x45c994,_0x38c260){_0x45c994=_0x45c994-0xa1;const _0xdd104a=_0xdd10();let _0xe2ca0e=_0xdd104a[_0x45c994];return _0xe2ca0e;}import{P as _0x19ed5c,a as _0x1186aa}from'./prosemirror-state-DcLGimL2.js';import{a as _0x4f53aa,D as _0x551bf7}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x214ecd}from'./@tiptap.core-HsqG-hEX.js';function J(_0x7ad7c7){const _0x1da6a1=_0xe2ca;var _0x286bb9;const {char:_0x20c4b4,allowSpaces:_0x16dcc2,allowToIncludeChar:_0x24a4e7,allowedPrefixes:_0x555a83,startOfLine:_0x499e09,$position:_0x298a74}=_0x7ad7c7,_0x29f9ea=_0x16dcc2&&!_0x24a4e7,_0x489d22=_0x214ecd(_0x20c4b4),_0x1a72db=new RegExp('\x5cs'+_0x489d22+'$'),_0x564951=_0x499e09?'^':'',_0xf00da5=_0x24a4e7?'':_0x489d22,_0x57e01e=_0x29f9ea?new RegExp(''+_0x564951+_0x489d22+_0x1da6a1(0xae)+_0xf00da5+_0x1da6a1(0xb7),'gm'):new RegExp(_0x564951+_0x1da6a1(0xb0)+_0x489d22+_0x1da6a1(0xd5)+_0xf00da5+']*','gm'),_0x3367d9=((_0x286bb9=_0x298a74[_0x1da6a1(0xbb)])===null||_0x286bb9===void 0x0?void 0x0:_0x286bb9['isText'])&&_0x298a74[_0x1da6a1(0xbb)][_0x1da6a1(0xd7)];if(!_0x3367d9)return null;const _0x2ba8b4=_0x298a74[_0x1da6a1(0xa8)]-_0x3367d9[_0x1da6a1(0xb9)],_0x69bb80=Array[_0x1da6a1(0xa1)](_0x3367d9[_0x1da6a1(0xc2)](_0x57e01e))[_0x1da6a1(0xd4)]();if(!_0x69bb80||_0x69bb80['input']===void 0x0||_0x69bb80[_0x1da6a1(0xc4)]===void 0x0)return null;const _0x33009e=_0x69bb80[_0x1da6a1(0xa5)][_0x1da6a1(0xcf)](Math[_0x1da6a1(0xd3)](0x0,_0x69bb80[_0x1da6a1(0xc4)]-0x1),_0x69bb80[_0x1da6a1(0xc4)]),_0x1d74bc=new RegExp('^['+(_0x555a83==null?void 0x0:_0x555a83[_0x1da6a1(0xba)](''))+_0x1da6a1(0xc7))[_0x1da6a1(0xc9)](_0x33009e);if(_0x555a83!==null&&!_0x1d74bc)return null;const _0x43f6c5=_0x2ba8b4+_0x69bb80[_0x1da6a1(0xc4)];let _0x2a7323=_0x43f6c5+_0x69bb80[0x0][_0x1da6a1(0xb9)];return _0x29f9ea&&_0x1a72db['test'](_0x3367d9[_0x1da6a1(0xcf)](_0x2a7323-0x1,_0x2a7323+0x1))&&(_0x69bb80[0x0]+='\x20',_0x2a7323+=0x1),_0x43f6c5<_0x298a74[_0x1da6a1(0xa8)]&&_0x2a7323>=_0x298a74[_0x1da6a1(0xa8)]?{'range':{'from':_0x43f6c5,'to':_0x2a7323},'query':_0x69bb80[0x0][_0x1da6a1(0xcf)](_0x20c4b4[_0x1da6a1(0xb9)]),'text':_0x69bb80[0x0]}:null;}function _0xdd10(){const _0x1a2326=['735888yVmQnZ','|$)','state','length','join','nodeBefore','onBeforeStart','id_','790281lbdraI','call','482038kDMsQV','8RyyFKQ','matchAll','push','index','random','dom','\x00]?$','1512715NHCQhs','test','onExit','432yMSZGe','items','getState','decorationId','slice','query','key','[data-decoration-id=\x22','max','pop','[^\x5cs','composing','text','from','onBeforeUpdate','onUpdate','suggestion','input','getBoundingClientRect','doc','pos','view','querySelector','6812568mmzEQm','active','onKeyDown','.*?(?=\x5cs','2250044MrYRPz','(?:^)?','span','range','inline','3299844IFEZZz','$from'];_0xdd10=function(){return _0x1a2326;};return _0xdd10();}const Q=new _0x1186aa(_0x330640(0xa4));function Y({pluginKey:_0x57a632=Q,editor:_0x3aef2c,char:_0xb564e5='@',allowSpaces:_0x330780=!0x1,allowToIncludeChar:_0x511f9d=!0x1,allowedPrefixes:_0x5087c8=['\x20'],startOfLine:_0x19efe5=!0x1,decorationTag:_0x53e80=_0x330640(0xb1),decorationClass:_0x26f8a1=_0x330640(0xa4),decorationContent:_0x1f66aa='',decorationEmptyClass:_0x40d7e2='is-empty',command:_0x41e4f7=()=>null,items:_0x2b3169=()=>[],render:_0x91c106=()=>({}),allow:_0xc2a8dd=()=>!0x0,findSuggestionMatch:_0x4bd1ff=J}){let _0x1b7df7;const _0x3b0e9f=_0x91c106==null?void 0x0:_0x91c106(),_0xd9311d=new _0x19ed5c({'key':_0x57a632,'view'(){return{'update':async(_0x169e43,_0x42b668)=>{const _0xfbe340=_0xe2ca;var _0x1d6976,_0x1a1943,_0x1ad5cf,_0x15d6d7,_0x1e8d11,_0x641603,_0x135d43;const _0x1e1e45=(_0x1d6976=this['key'])===null||_0x1d6976===void 0x0?void 0x0:_0x1d6976[_0xfbe340(0xcd)](_0x42b668),_0x21ef3a=(_0x1a1943=this['key'])===null||_0x1a1943===void 0x0?void 0x0:_0x1a1943['getState'](_0x169e43['state']),_0x4d0031=_0x1e1e45[_0xfbe340(0xac)]&&_0x21ef3a[_0xfbe340(0xac)]&&_0x1e1e45[_0xfbe340(0xb2)][_0xfbe340(0xa1)]!==_0x21ef3a[_0xfbe340(0xb2)][_0xfbe340(0xa1)],_0x2653e5=!_0x1e1e45[_0xfbe340(0xac)]&&_0x21ef3a[_0xfbe340(0xac)],_0x544141=_0x1e1e45[_0xfbe340(0xac)]&&!_0x21ef3a[_0xfbe340(0xac)],_0x468331=!_0x2653e5&&!_0x544141&&_0x1e1e45[_0xfbe340(0xd0)]!==_0x21ef3a[_0xfbe340(0xd0)],_0x308d50=_0x2653e5||_0x4d0031&&_0x468331,_0x18fdec=_0x468331||_0x4d0031,_0x51802c=_0x544141||_0x4d0031&&_0x468331;if(!_0x308d50&&!_0x18fdec&&!_0x51802c)return;const _0x34e74b=_0x51802c&&!_0x308d50?_0x1e1e45:_0x21ef3a,_0xddec68=_0x169e43[_0xfbe340(0xc6)][_0xfbe340(0xaa)]('[data-decoration-id=\x22'+_0x34e74b[_0xfbe340(0xce)]+'\x22]');_0x1b7df7={'editor':_0x3aef2c,'range':_0x34e74b['range'],'query':_0x34e74b[_0xfbe340(0xd0)],'text':_0x34e74b['text'],'items':[],'command':_0x155a6b=>_0x41e4f7({'editor':_0x3aef2c,'range':_0x34e74b['range'],'props':_0x155a6b}),'decorationNode':_0xddec68,'clientRect':_0xddec68?()=>{const _0x1572a8=_0xfbe340;var _0x43a607;const {decorationId:_0x355f68}=(_0x43a607=this[_0x1572a8(0xd1)])===null||_0x43a607===void 0x0?void 0x0:_0x43a607['getState'](_0x3aef2c[_0x1572a8(0xb8)]),_0x5a8199=_0x169e43[_0x1572a8(0xc6)][_0x1572a8(0xaa)](_0x1572a8(0xd2)+_0x355f68+'\x22]');return(_0x5a8199==null?void 0x0:_0x5a8199[_0x1572a8(0xa6)]())||null;}:null},_0x308d50&&((_0x1ad5cf=_0x3b0e9f==null?void 0x0:_0x3b0e9f[_0xfbe340(0xbc)])===null||_0x1ad5cf===void 0x0||_0x1ad5cf['call'](_0x3b0e9f,_0x1b7df7)),_0x18fdec&&((_0x15d6d7=_0x3b0e9f==null?void 0x0:_0x3b0e9f[_0xfbe340(0xa2)])===null||_0x15d6d7===void 0x0||_0x15d6d7[_0xfbe340(0xbf)](_0x3b0e9f,_0x1b7df7)),(_0x18fdec||_0x308d50)&&(_0x1b7df7[_0xfbe340(0xcc)]=await _0x2b3169({'editor':_0x3aef2c,'query':_0x34e74b[_0xfbe340(0xd0)]})),_0x51802c&&((_0x1e8d11=_0x3b0e9f==null?void 0x0:_0x3b0e9f[_0xfbe340(0xca)])===null||_0x1e8d11===void 0x0||_0x1e8d11[_0xfbe340(0xbf)](_0x3b0e9f,_0x1b7df7)),_0x18fdec&&((_0x641603=_0x3b0e9f==null?void 0x0:_0x3b0e9f[_0xfbe340(0xa3)])===null||_0x641603===void 0x0||_0x641603[_0xfbe340(0xbf)](_0x3b0e9f,_0x1b7df7)),_0x308d50&&((_0x135d43=_0x3b0e9f==null?void 0x0:_0x3b0e9f['onStart'])===null||_0x135d43===void 0x0||_0x135d43['call'](_0x3b0e9f,_0x1b7df7));},'destroy':()=>{var _0x54dce0;_0x1b7df7&&((_0x54dce0=_0x3b0e9f==null?void 0x0:_0x3b0e9f['onExit'])===null||_0x54dce0===void 0x0||_0x54dce0['call'](_0x3b0e9f,_0x1b7df7));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x1a4ca5,_0x59ab63,_0x5256df,_0x132365){const _0x5510a5=_0xe2ca,{isEditable:_0x1893b5}=_0x3aef2c,{composing:_0x15b9fb}=_0x3aef2c[_0x5510a5(0xa9)],{selection:_0x510297}=_0x1a4ca5,{empty:_0x54edad,from:_0x1d3b94}=_0x510297,_0xfa215b={..._0x59ab63};if(_0xfa215b[_0x5510a5(0xd6)]=_0x15b9fb,_0x1893b5&&(_0x54edad||_0x3aef2c[_0x5510a5(0xa9)][_0x5510a5(0xd6)])){(_0x1d3b94<_0x59ab63[_0x5510a5(0xb2)]['from']||_0x1d3b94>_0x59ab63['range']['to'])&&!_0x15b9fb&&!_0x59ab63[_0x5510a5(0xd6)]&&(_0xfa215b[_0x5510a5(0xac)]=!0x1);const _0xd695d0=_0x4bd1ff({'char':_0xb564e5,'allowSpaces':_0x330780,'allowToIncludeChar':_0x511f9d,'allowedPrefixes':_0x5087c8,'startOfLine':_0x19efe5,'$position':_0x510297[_0x5510a5(0xb5)]}),_0x1bb80c=_0x5510a5(0xbd)+Math['floor'](Math[_0x5510a5(0xc5)]()*0xffffffff);_0xd695d0&&_0xc2a8dd({'editor':_0x3aef2c,'state':_0x132365,'range':_0xd695d0['range'],'isActive':_0x59ab63[_0x5510a5(0xac)]})?(_0xfa215b['active']=!0x0,_0xfa215b[_0x5510a5(0xce)]=_0x59ab63[_0x5510a5(0xce)]?_0x59ab63[_0x5510a5(0xce)]:_0x1bb80c,_0xfa215b[_0x5510a5(0xb2)]=_0xd695d0['range'],_0xfa215b['query']=_0xd695d0[_0x5510a5(0xd0)],_0xfa215b[_0x5510a5(0xd7)]=_0xd695d0[_0x5510a5(0xd7)]):_0xfa215b[_0x5510a5(0xac)]=!0x1;}else _0xfa215b[_0x5510a5(0xac)]=!0x1;return _0xfa215b[_0x5510a5(0xac)]||(_0xfa215b[_0x5510a5(0xce)]=null,_0xfa215b[_0x5510a5(0xb2)]={'from':0x0,'to':0x0},_0xfa215b[_0x5510a5(0xd0)]=null,_0xfa215b['text']=null),_0xfa215b;}},'props':{'handleKeyDown'(_0x1f8ba8,_0x59bdf4){const _0xefe1dc=_0xe2ca;var _0x3244ce;const {active:_0x2ed662,range:_0x2d0008}=_0xd9311d['getState'](_0x1f8ba8['state']);return _0x2ed662&&((_0x3244ce=_0x3b0e9f==null?void 0x0:_0x3b0e9f[_0xefe1dc(0xad)])===null||_0x3244ce===void 0x0?void 0x0:_0x3244ce['call'](_0x3b0e9f,{'view':_0x1f8ba8,'event':_0x59bdf4,'range':_0x2d0008}))||!0x1;},'decorations'(_0x110452){const _0x9e92e1=_0xe2ca,{active:_0x55d3da,range:_0x3c032b,decorationId:_0x3612ff,query:_0x52fc62}=_0xd9311d[_0x9e92e1(0xcd)](_0x110452);if(!_0x55d3da)return null;const _0x1409fe=!(_0x52fc62!=null&&_0x52fc62[_0x9e92e1(0xb9)]),_0x8a3725=[_0x26f8a1];return _0x1409fe&&_0x8a3725[_0x9e92e1(0xc3)](_0x40d7e2),_0x4f53aa['create'](_0x110452[_0x9e92e1(0xa7)],[_0x551bf7[_0x9e92e1(0xb3)](_0x3c032b['from'],_0x3c032b['to'],{'nodeName':_0x53e80,'class':_0x8a3725['join']('\x20'),'data-decoration-id':_0x3612ff,'data-decoration-content':_0x1f66aa})]);}}});return _0xd9311d;}export{Y as S};