const _0x375882=_0x1cb8;(function(_0x3c31fc,_0x184021){const _0x3df3bb=_0x1cb8,_0x4d4497=_0x3c31fc();while(!![]){try{const _0x4f1a15=parseInt(_0x3df3bb(0x1c2))/0x1+parseInt(_0x3df3bb(0x1c5))/0x2+parseInt(_0x3df3bb(0x1ba))/0x3+-parseInt(_0x3df3bb(0x19b))/0x4*(parseInt(_0x3df3bb(0x197))/0x5)+-parseInt(_0x3df3bb(0x1bc))/0x6*(parseInt(_0x3df3bb(0x1b1))/0x7)+parseInt(_0x3df3bb(0x1ae))/0x8+parseInt(_0x3df3bb(0x1c1))/0x9*(-parseInt(_0x3df3bb(0x1bb))/0xa);if(_0x4f1a15===_0x184021)break;else _0x4d4497['push'](_0x4d4497['shift']());}catch(_0x3c5b72){_0x4d4497['push'](_0x4d4497['shift']());}}}(_0x3562,0x9ff94));import{P as _0x26e50a,a as _0x389e03}from'./prosemirror-state-DcLGimL2.js';import{a as _0x43aed5,D as _0xe98c2e}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x29f394}from'./@tiptap.core-HsqG-hEX.js';function J(_0x32eba2){const _0x153070=_0x1cb8;var _0x547527;const {char:_0xb05a02,allowSpaces:_0x2203ba,allowToIncludeChar:_0xe17118,allowedPrefixes:_0x536227,startOfLine:_0x50bac7,$position:_0x2bb534}=_0x32eba2,_0x362e39=_0x2203ba&&!_0xe17118,_0x495d5a=_0x29f394(_0xb05a02),_0x16692d=new RegExp('\x5cs'+_0x495d5a+'$'),_0x2b7f4d=_0x50bac7?'^':'',_0xacfade=_0xe17118?'':_0x495d5a,_0xfe616d=_0x362e39?new RegExp(''+_0x2b7f4d+_0x495d5a+_0x153070(0x1c6)+_0xacfade+_0x153070(0x1b8),'gm'):new RegExp(_0x2b7f4d+_0x153070(0x1b2)+_0x495d5a+_0x153070(0x1cb)+_0xacfade+']*','gm'),_0x4cb192=((_0x547527=_0x2bb534[_0x153070(0x1a6)])===null||_0x547527===void 0x0?void 0x0:_0x547527[_0x153070(0x1b9)])&&_0x2bb534[_0x153070(0x1a6)][_0x153070(0x1c7)];if(!_0x4cb192)return null;const _0x3f6e4a=_0x2bb534['pos']-_0x4cb192['length'],_0x57a6f0=Array[_0x153070(0x19f)](_0x4cb192['matchAll'](_0xfe616d))[_0x153070(0x1a0)]();if(!_0x57a6f0||_0x57a6f0[_0x153070(0x1b3)]===void 0x0||_0x57a6f0['index']===void 0x0)return null;const _0x221aec=_0x57a6f0[_0x153070(0x1b3)][_0x153070(0x1a3)](Math['max'](0x0,_0x57a6f0['index']-0x1),_0x57a6f0[_0x153070(0x1ac)]),_0x31a8ae=new RegExp('^['+(_0x536227==null?void 0x0:_0x536227['join'](''))+_0x153070(0x1b5))[_0x153070(0x1be)](_0x221aec);if(_0x536227!==null&&!_0x31a8ae)return null;const _0x5b382a=_0x3f6e4a+_0x57a6f0[_0x153070(0x1ac)];let _0x3df32b=_0x5b382a+_0x57a6f0[0x0][_0x153070(0x1a7)];return _0x362e39&&_0x16692d[_0x153070(0x1be)](_0x4cb192['slice'](_0x3df32b-0x1,_0x3df32b+0x1))&&(_0x57a6f0[0x0]+='\x20',_0x3df32b+=0x1),_0x5b382a<_0x2bb534[_0x153070(0x199)]&&_0x3df32b>=_0x2bb534[_0x153070(0x199)]?{'range':{'from':_0x5b382a,'to':_0x3df32b},'query':_0x57a6f0[0x0][_0x153070(0x1a3)](_0xb05a02[_0x153070(0x1a7)]),'text':_0x57a6f0[0x0]}:null;}const Q=new _0x389e03(_0x375882(0x1a5));function _0x3562(){const _0x2d25e7=['querySelector','168HeqgJM','(?:^)?','input','getState','\x00]?$','join','call','|$)','isText','1509930mzuSmo','110fsaVCj','252714IznTpS','dom','test','is-empty','$from','461493MZyHEy','343962hbVkfc','items','onExit','1289226eUSfIL','.*?(?=\x5cs','text','range','onBeforeUpdate','inline','[^\x5cs','onStart','160yKTVoT','floor','pos','id_','12708ZOnHBz','onKeyDown','state','create','from','pop','view','query','slice','decorationId','suggestion','nodeBefore','length','onUpdate','key','composing','onBeforeStart','index','active','6719472jAyfgy','[data-decoration-id=\x22'];_0x3562=function(){return _0x2d25e7;};return _0x3562();}function _0x1cb8(_0x39013d,_0x1aee98){_0x39013d=_0x39013d-0x196;const _0x356226=_0x3562();let _0x1cb8ac=_0x356226[_0x39013d];return _0x1cb8ac;}function Y({pluginKey:_0x16b7c3=Q,editor:_0x127024,char:_0x30e51d='@',allowSpaces:_0x15565f=!0x1,allowToIncludeChar:_0x232270=!0x1,allowedPrefixes:_0x2cd820=['\x20'],startOfLine:_0x350c38=!0x1,decorationTag:_0x1e6074='span',decorationClass:_0x474f1f=_0x375882(0x1a5),decorationContent:_0x24e7d1='',decorationEmptyClass:_0x50beb9=_0x375882(0x1bf),command:_0x5a5a73=()=>null,items:_0x20ca12=()=>[],render:_0x48cf2a=()=>({}),allow:_0x4f5831=()=>!0x0,findSuggestionMatch:_0xedf6d2=J}){let _0x4ab0dc;const _0x993468=_0x48cf2a==null?void 0x0:_0x48cf2a(),_0x1a9458=new _0x26e50a({'key':_0x16b7c3,'view'(){return{'update':async(_0x5eaeda,_0x27d746)=>{const _0x2193a6=_0x1cb8;var _0x1e0f75,_0x15bf9e,_0x201e40,_0x415b73,_0x15944e,_0xedaa8,_0x45f645;const _0x20f3b0=(_0x1e0f75=this[_0x2193a6(0x1a9)])===null||_0x1e0f75===void 0x0?void 0x0:_0x1e0f75[_0x2193a6(0x1b4)](_0x27d746),_0x36492d=(_0x15bf9e=this[_0x2193a6(0x1a9)])===null||_0x15bf9e===void 0x0?void 0x0:_0x15bf9e['getState'](_0x5eaeda[_0x2193a6(0x19d)]),_0x50dfa8=_0x20f3b0[_0x2193a6(0x1ad)]&&_0x36492d[_0x2193a6(0x1ad)]&&_0x20f3b0[_0x2193a6(0x1c8)]['from']!==_0x36492d['range'][_0x2193a6(0x19f)],_0x5bdd37=!_0x20f3b0[_0x2193a6(0x1ad)]&&_0x36492d[_0x2193a6(0x1ad)],_0x31462d=_0x20f3b0[_0x2193a6(0x1ad)]&&!_0x36492d['active'],_0x283cf6=!_0x5bdd37&&!_0x31462d&&_0x20f3b0[_0x2193a6(0x1a2)]!==_0x36492d['query'],_0x2d2612=_0x5bdd37||_0x50dfa8&&_0x283cf6,_0x1c3728=_0x283cf6||_0x50dfa8,_0x3bf828=_0x31462d||_0x50dfa8&&_0x283cf6;if(!_0x2d2612&&!_0x1c3728&&!_0x3bf828)return;const _0x587632=_0x3bf828&&!_0x2d2612?_0x20f3b0:_0x36492d,_0x3096ef=_0x5eaeda[_0x2193a6(0x1bd)]['querySelector'](_0x2193a6(0x1af)+_0x587632[_0x2193a6(0x1a4)]+'\x22]');_0x4ab0dc={'editor':_0x127024,'range':_0x587632['range'],'query':_0x587632[_0x2193a6(0x1a2)],'text':_0x587632[_0x2193a6(0x1c7)],'items':[],'command':_0x1d1412=>_0x5a5a73({'editor':_0x127024,'range':_0x587632[_0x2193a6(0x1c8)],'props':_0x1d1412}),'decorationNode':_0x3096ef,'clientRect':_0x3096ef?()=>{const _0x3b8762=_0x2193a6;var _0xce857c;const {decorationId:_0x40130d}=(_0xce857c=this[_0x3b8762(0x1a9)])===null||_0xce857c===void 0x0?void 0x0:_0xce857c['getState'](_0x127024[_0x3b8762(0x19d)]),_0x2ef345=_0x5eaeda[_0x3b8762(0x1bd)][_0x3b8762(0x1b0)]('[data-decoration-id=\x22'+_0x40130d+'\x22]');return(_0x2ef345==null?void 0x0:_0x2ef345['getBoundingClientRect']())||null;}:null},_0x2d2612&&((_0x201e40=_0x993468==null?void 0x0:_0x993468[_0x2193a6(0x1ab)])===null||_0x201e40===void 0x0||_0x201e40[_0x2193a6(0x1b7)](_0x993468,_0x4ab0dc)),_0x1c3728&&((_0x415b73=_0x993468==null?void 0x0:_0x993468[_0x2193a6(0x1c9)])===null||_0x415b73===void 0x0||_0x415b73[_0x2193a6(0x1b7)](_0x993468,_0x4ab0dc)),(_0x1c3728||_0x2d2612)&&(_0x4ab0dc[_0x2193a6(0x1c3)]=await _0x20ca12({'editor':_0x127024,'query':_0x587632[_0x2193a6(0x1a2)]})),_0x3bf828&&((_0x15944e=_0x993468==null?void 0x0:_0x993468['onExit'])===null||_0x15944e===void 0x0||_0x15944e['call'](_0x993468,_0x4ab0dc)),_0x1c3728&&((_0xedaa8=_0x993468==null?void 0x0:_0x993468[_0x2193a6(0x1a8)])===null||_0xedaa8===void 0x0||_0xedaa8['call'](_0x993468,_0x4ab0dc)),_0x2d2612&&((_0x45f645=_0x993468==null?void 0x0:_0x993468[_0x2193a6(0x196)])===null||_0x45f645===void 0x0||_0x45f645[_0x2193a6(0x1b7)](_0x993468,_0x4ab0dc));},'destroy':()=>{const _0x3332ae=_0x1cb8;var _0x27fb5e;_0x4ab0dc&&((_0x27fb5e=_0x993468==null?void 0x0:_0x993468[_0x3332ae(0x1c4)])===null||_0x27fb5e===void 0x0||_0x27fb5e['call'](_0x993468,_0x4ab0dc));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0xc1fee2,_0x297207,_0x3e024c,_0x2540d1){const _0x2dd858=_0x1cb8,{isEditable:_0x387b52}=_0x127024,{composing:_0x6e38a}=_0x127024['view'],{selection:_0xe24934}=_0xc1fee2,{empty:_0xc172db,from:_0x3e3a43}=_0xe24934,_0x53a15a={..._0x297207};if(_0x53a15a[_0x2dd858(0x1aa)]=_0x6e38a,_0x387b52&&(_0xc172db||_0x127024[_0x2dd858(0x1a1)][_0x2dd858(0x1aa)])){(_0x3e3a43<_0x297207[_0x2dd858(0x1c8)][_0x2dd858(0x19f)]||_0x3e3a43>_0x297207[_0x2dd858(0x1c8)]['to'])&&!_0x6e38a&&!_0x297207['composing']&&(_0x53a15a[_0x2dd858(0x1ad)]=!0x1);const _0x593563=_0xedf6d2({'char':_0x30e51d,'allowSpaces':_0x15565f,'allowToIncludeChar':_0x232270,'allowedPrefixes':_0x2cd820,'startOfLine':_0x350c38,'$position':_0xe24934[_0x2dd858(0x1c0)]}),_0x11bdc0=_0x2dd858(0x19a)+Math[_0x2dd858(0x198)](Math['random']()*0xffffffff);_0x593563&&_0x4f5831({'editor':_0x127024,'state':_0x2540d1,'range':_0x593563['range'],'isActive':_0x297207['active']})?(_0x53a15a['active']=!0x0,_0x53a15a[_0x2dd858(0x1a4)]=_0x297207[_0x2dd858(0x1a4)]?_0x297207['decorationId']:_0x11bdc0,_0x53a15a['range']=_0x593563[_0x2dd858(0x1c8)],_0x53a15a[_0x2dd858(0x1a2)]=_0x593563[_0x2dd858(0x1a2)],_0x53a15a[_0x2dd858(0x1c7)]=_0x593563['text']):_0x53a15a[_0x2dd858(0x1ad)]=!0x1;}else _0x53a15a[_0x2dd858(0x1ad)]=!0x1;return _0x53a15a[_0x2dd858(0x1ad)]||(_0x53a15a[_0x2dd858(0x1a4)]=null,_0x53a15a[_0x2dd858(0x1c8)]={'from':0x0,'to':0x0},_0x53a15a[_0x2dd858(0x1a2)]=null,_0x53a15a[_0x2dd858(0x1c7)]=null),_0x53a15a;}},'props':{'handleKeyDown'(_0x386dd3,_0x46a9c0){const _0xd2fbfe=_0x1cb8;var _0x658d03;const {active:_0x3b1f58,range:_0xa83f34}=_0x1a9458[_0xd2fbfe(0x1b4)](_0x386dd3['state']);return _0x3b1f58&&((_0x658d03=_0x993468==null?void 0x0:_0x993468[_0xd2fbfe(0x19c)])===null||_0x658d03===void 0x0?void 0x0:_0x658d03[_0xd2fbfe(0x1b7)](_0x993468,{'view':_0x386dd3,'event':_0x46a9c0,'range':_0xa83f34}))||!0x1;},'decorations'(_0x2ed94b){const _0x32d24a=_0x1cb8,{active:_0x4c34d2,range:_0x51289f,decorationId:_0x3a95ff,query:_0x3921fd}=_0x1a9458['getState'](_0x2ed94b);if(!_0x4c34d2)return null;const _0xc080ea=!(_0x3921fd!=null&&_0x3921fd[_0x32d24a(0x1a7)]),_0x39c3a2=[_0x474f1f];return _0xc080ea&&_0x39c3a2['push'](_0x50beb9),_0x43aed5[_0x32d24a(0x19e)](_0x2ed94b['doc'],[_0xe98c2e[_0x32d24a(0x1ca)](_0x51289f['from'],_0x51289f['to'],{'nodeName':_0x1e6074,'class':_0x39c3a2[_0x32d24a(0x1b6)]('\x20'),'data-decoration-id':_0x3a95ff,'data-decoration-content':_0x24e7d1})]);}}});return _0x1a9458;}export{Y as S};