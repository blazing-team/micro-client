const _0x415b43=_0x3799;(function(_0x17ec21,_0xb903d5){const _0x42d142=_0x3799,_0x1430a2=_0x17ec21();while(!![]){try{const _0x1d987b=-parseInt(_0x42d142(0x1ec))/0x1+parseInt(_0x42d142(0x1e4))/0x2+-parseInt(_0x42d142(0x1ea))/0x3*(-parseInt(_0x42d142(0x207))/0x4)+parseInt(_0x42d142(0x1f8))/0x5+parseInt(_0x42d142(0x1fc))/0x6+parseInt(_0x42d142(0x1d6))/0x7+parseInt(_0x42d142(0x1f1))/0x8*(-parseInt(_0x42d142(0x1e8))/0x9);if(_0x1d987b===_0xb903d5)break;else _0x1430a2['push'](_0x1430a2['shift']());}catch(_0x462f5d){_0x1430a2['push'](_0x1430a2['shift']());}}}(_0x25ee,0x4b33b));import{P as _0xf6c64e,a as _0x432dc7}from'./prosemirror-state-DcLGimL2.js';import{a as _0x5ec968,D as _0x1472a1}from'./prosemirror-view-DEGNo2BM.js';function _0x3799(_0x11c3f9,_0x5462b4){_0x11c3f9=_0x11c3f9-0x1d6;const _0x25eefc=_0x25ee();let _0x3799da=_0x25eefc[_0x11c3f9];return _0x3799da;}import{o as _0x5995af}from'./@tiptap.core-HsqG-hEX.js';function J(_0x373c35){const _0x5982e4=_0x3799;var _0x3a871c;const {char:_0x34ae36,allowSpaces:_0x3408f4,allowToIncludeChar:_0x4bea08,allowedPrefixes:_0x231512,startOfLine:_0x41849b,$position:_0x3b2009}=_0x373c35,_0x788298=_0x3408f4&&!_0x4bea08,_0x567818=_0x5995af(_0x34ae36),_0x33c4b2=new RegExp('\x5cs'+_0x567818+'$'),_0x2f18b8=_0x41849b?'^':'',_0x43925d=_0x4bea08?'':_0x567818,_0x107c31=_0x788298?new RegExp(''+_0x2f18b8+_0x567818+_0x5982e4(0x1f7)+_0x43925d+_0x5982e4(0x1d9),'gm'):new RegExp(_0x2f18b8+_0x5982e4(0x208)+_0x567818+_0x5982e4(0x1e6)+_0x43925d+']*','gm'),_0x4f3cd6=((_0x3a871c=_0x3b2009[_0x5982e4(0x204)])===null||_0x3a871c===void 0x0?void 0x0:_0x3a871c[_0x5982e4(0x1e5)])&&_0x3b2009[_0x5982e4(0x204)][_0x5982e4(0x206)];if(!_0x4f3cd6)return null;const _0x4eb0c0=_0x3b2009[_0x5982e4(0x20c)]-_0x4f3cd6['length'],_0x3350b3=Array['from'](_0x4f3cd6[_0x5982e4(0x1f4)](_0x107c31))['pop']();if(!_0x3350b3||_0x3350b3['input']===void 0x0||_0x3350b3[_0x5982e4(0x209)]===void 0x0)return null;const _0x55078e=_0x3350b3[_0x5982e4(0x1d8)][_0x5982e4(0x1e2)](Math[_0x5982e4(0x20d)](0x0,_0x3350b3[_0x5982e4(0x209)]-0x1),_0x3350b3[_0x5982e4(0x209)]),_0x2bc479=new RegExp('^['+(_0x231512==null?void 0x0:_0x231512['join'](''))+_0x5982e4(0x1fd))[_0x5982e4(0x1f0)](_0x55078e);if(_0x231512!==null&&!_0x2bc479)return null;const _0x13aba1=_0x4eb0c0+_0x3350b3[_0x5982e4(0x209)];let _0x5a2762=_0x13aba1+_0x3350b3[0x0]['length'];return _0x788298&&_0x33c4b2[_0x5982e4(0x1f0)](_0x4f3cd6[_0x5982e4(0x1e2)](_0x5a2762-0x1,_0x5a2762+0x1))&&(_0x3350b3[0x0]+='\x20',_0x5a2762+=0x1),_0x13aba1<_0x3b2009[_0x5982e4(0x20c)]&&_0x5a2762>=_0x3b2009['pos']?{'range':{'from':_0x13aba1,'to':_0x5a2762},'query':_0x3350b3[0x0][_0x5982e4(0x1e2)](_0x34ae36[_0x5982e4(0x203)]),'text':_0x3350b3[0x0]}:null;}const Q=new _0x432dc7(_0x415b43(0x1fe));function _0x25ee(){const _0x921e60=['getState','span','is-empty','2623056xxXYvP','\x00]?$','suggestion','call','push','onBeforeStart','from','length','nodeBefore','id_','text','156hgyKdO','(?:^)?','index','querySelector','doc','pos','max','view','143990NYgYfC','random','input','|$)','create','[data-decoration-id=\x22','range','composing','floor','inline','getBoundingClientRect','query','slice','$from','470412VQxxSv','isText','[^\x5cs','onBeforeUpdate','18AxHjqf','key','12738dBZgwS','items','94188wGLZzp','decorationId','state','active','test','4124384IzrDsp','dom','onKeyDown','matchAll','onExit','join','.*?(?=\x5cs','2873825vWULVf'];_0x25ee=function(){return _0x921e60;};return _0x25ee();}function Y({pluginKey:_0x2d98e7=Q,editor:_0x1bd1e5,char:_0x2fd5ca='@',allowSpaces:_0x339e00=!0x1,allowToIncludeChar:_0xd20ab7=!0x1,allowedPrefixes:_0x2e397b=['\x20'],startOfLine:_0x53ca9e=!0x1,decorationTag:_0x43fc2c=_0x415b43(0x1fa),decorationClass:_0x32763d='suggestion',decorationContent:_0x16dcb1='',decorationEmptyClass:_0x1a99d0=_0x415b43(0x1fb),command:_0x179cbc=()=>null,items:_0x3a22ef=()=>[],render:_0x544f37=()=>({}),allow:_0x570f71=()=>!0x0,findSuggestionMatch:_0x507776=J}){let _0x89dce8;const _0x48f162=_0x544f37==null?void 0x0:_0x544f37(),_0x41d0ab=new _0xf6c64e({'key':_0x2d98e7,'view'(){return{'update':async(_0x5af499,_0x31b688)=>{const _0x49546f=_0x3799;var _0x209cb4,_0x4d2015,_0x4646b7,_0x3eeac1,_0x14dd1b,_0x35db76,_0x4d01ee;const _0x21cb84=(_0x209cb4=this[_0x49546f(0x1e9)])===null||_0x209cb4===void 0x0?void 0x0:_0x209cb4['getState'](_0x31b688),_0x333c0d=(_0x4d2015=this[_0x49546f(0x1e9)])===null||_0x4d2015===void 0x0?void 0x0:_0x4d2015['getState'](_0x5af499[_0x49546f(0x1ee)]),_0x131e7c=_0x21cb84['active']&&_0x333c0d[_0x49546f(0x1ef)]&&_0x21cb84[_0x49546f(0x1dc)]['from']!==_0x333c0d[_0x49546f(0x1dc)][_0x49546f(0x202)],_0x382290=!_0x21cb84[_0x49546f(0x1ef)]&&_0x333c0d[_0x49546f(0x1ef)],_0x31f284=_0x21cb84['active']&&!_0x333c0d[_0x49546f(0x1ef)],_0x4779d1=!_0x382290&&!_0x31f284&&_0x21cb84[_0x49546f(0x1e1)]!==_0x333c0d[_0x49546f(0x1e1)],_0x558389=_0x382290||_0x131e7c&&_0x4779d1,_0xd9b549=_0x4779d1||_0x131e7c,_0x27e74a=_0x31f284||_0x131e7c&&_0x4779d1;if(!_0x558389&&!_0xd9b549&&!_0x27e74a)return;const _0x24969a=_0x27e74a&&!_0x558389?_0x21cb84:_0x333c0d,_0x2c14a9=_0x5af499[_0x49546f(0x1f2)][_0x49546f(0x20a)](_0x49546f(0x1db)+_0x24969a[_0x49546f(0x1ed)]+'\x22]');_0x89dce8={'editor':_0x1bd1e5,'range':_0x24969a['range'],'query':_0x24969a[_0x49546f(0x1e1)],'text':_0x24969a[_0x49546f(0x206)],'items':[],'command':_0x19c001=>_0x179cbc({'editor':_0x1bd1e5,'range':_0x24969a[_0x49546f(0x1dc)],'props':_0x19c001}),'decorationNode':_0x2c14a9,'clientRect':_0x2c14a9?()=>{const _0xd71b1e=_0x49546f;var _0x34473f;const {decorationId:_0x19dfd9}=(_0x34473f=this[_0xd71b1e(0x1e9)])===null||_0x34473f===void 0x0?void 0x0:_0x34473f[_0xd71b1e(0x1f9)](_0x1bd1e5['state']),_0x1e0e5d=_0x5af499[_0xd71b1e(0x1f2)][_0xd71b1e(0x20a)](_0xd71b1e(0x1db)+_0x19dfd9+'\x22]');return(_0x1e0e5d==null?void 0x0:_0x1e0e5d[_0xd71b1e(0x1e0)]())||null;}:null},_0x558389&&((_0x4646b7=_0x48f162==null?void 0x0:_0x48f162[_0x49546f(0x201)])===null||_0x4646b7===void 0x0||_0x4646b7[_0x49546f(0x1ff)](_0x48f162,_0x89dce8)),_0xd9b549&&((_0x3eeac1=_0x48f162==null?void 0x0:_0x48f162[_0x49546f(0x1e7)])===null||_0x3eeac1===void 0x0||_0x3eeac1[_0x49546f(0x1ff)](_0x48f162,_0x89dce8)),(_0xd9b549||_0x558389)&&(_0x89dce8[_0x49546f(0x1eb)]=await _0x3a22ef({'editor':_0x1bd1e5,'query':_0x24969a[_0x49546f(0x1e1)]})),_0x27e74a&&((_0x14dd1b=_0x48f162==null?void 0x0:_0x48f162[_0x49546f(0x1f5)])===null||_0x14dd1b===void 0x0||_0x14dd1b[_0x49546f(0x1ff)](_0x48f162,_0x89dce8)),_0xd9b549&&((_0x35db76=_0x48f162==null?void 0x0:_0x48f162['onUpdate'])===null||_0x35db76===void 0x0||_0x35db76[_0x49546f(0x1ff)](_0x48f162,_0x89dce8)),_0x558389&&((_0x4d01ee=_0x48f162==null?void 0x0:_0x48f162['onStart'])===null||_0x4d01ee===void 0x0||_0x4d01ee['call'](_0x48f162,_0x89dce8));},'destroy':()=>{var _0x53d14c;_0x89dce8&&((_0x53d14c=_0x48f162==null?void 0x0:_0x48f162['onExit'])===null||_0x53d14c===void 0x0||_0x53d14c['call'](_0x48f162,_0x89dce8));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x1c39f6,_0x53e5ce,_0x2dc233,_0xcff12f){const _0x1075b4=_0x3799,{isEditable:_0xdc3b18}=_0x1bd1e5,{composing:_0x4abeb2}=_0x1bd1e5[_0x1075b4(0x20e)],{selection:_0x4bd7b4}=_0x1c39f6,{empty:_0x4103f8,from:_0x37a609}=_0x4bd7b4,_0x38f5ee={..._0x53e5ce};if(_0x38f5ee[_0x1075b4(0x1dd)]=_0x4abeb2,_0xdc3b18&&(_0x4103f8||_0x1bd1e5['view']['composing'])){(_0x37a609<_0x53e5ce[_0x1075b4(0x1dc)][_0x1075b4(0x202)]||_0x37a609>_0x53e5ce[_0x1075b4(0x1dc)]['to'])&&!_0x4abeb2&&!_0x53e5ce[_0x1075b4(0x1dd)]&&(_0x38f5ee[_0x1075b4(0x1ef)]=!0x1);const _0x3fe69f=_0x507776({'char':_0x2fd5ca,'allowSpaces':_0x339e00,'allowToIncludeChar':_0xd20ab7,'allowedPrefixes':_0x2e397b,'startOfLine':_0x53ca9e,'$position':_0x4bd7b4[_0x1075b4(0x1e3)]}),_0x1ba02d=_0x1075b4(0x205)+Math[_0x1075b4(0x1de)](Math[_0x1075b4(0x1d7)]()*0xffffffff);_0x3fe69f&&_0x570f71({'editor':_0x1bd1e5,'state':_0xcff12f,'range':_0x3fe69f['range'],'isActive':_0x53e5ce[_0x1075b4(0x1ef)]})?(_0x38f5ee[_0x1075b4(0x1ef)]=!0x0,_0x38f5ee[_0x1075b4(0x1ed)]=_0x53e5ce[_0x1075b4(0x1ed)]?_0x53e5ce[_0x1075b4(0x1ed)]:_0x1ba02d,_0x38f5ee[_0x1075b4(0x1dc)]=_0x3fe69f[_0x1075b4(0x1dc)],_0x38f5ee[_0x1075b4(0x1e1)]=_0x3fe69f[_0x1075b4(0x1e1)],_0x38f5ee[_0x1075b4(0x206)]=_0x3fe69f['text']):_0x38f5ee['active']=!0x1;}else _0x38f5ee['active']=!0x1;return _0x38f5ee[_0x1075b4(0x1ef)]||(_0x38f5ee[_0x1075b4(0x1ed)]=null,_0x38f5ee[_0x1075b4(0x1dc)]={'from':0x0,'to':0x0},_0x38f5ee[_0x1075b4(0x1e1)]=null,_0x38f5ee['text']=null),_0x38f5ee;}},'props':{'handleKeyDown'(_0x1edec0,_0x445566){const _0xc9340=_0x3799;var _0x52de43;const {active:_0x5a7db3,range:_0x10b493}=_0x41d0ab[_0xc9340(0x1f9)](_0x1edec0[_0xc9340(0x1ee)]);return _0x5a7db3&&((_0x52de43=_0x48f162==null?void 0x0:_0x48f162[_0xc9340(0x1f3)])===null||_0x52de43===void 0x0?void 0x0:_0x52de43[_0xc9340(0x1ff)](_0x48f162,{'view':_0x1edec0,'event':_0x445566,'range':_0x10b493}))||!0x1;},'decorations'(_0x207230){const _0x17e2da=_0x3799,{active:_0x5d57d1,range:_0x5ddbbf,decorationId:_0x42dc3c,query:_0x1279e9}=_0x41d0ab['getState'](_0x207230);if(!_0x5d57d1)return null;const _0x407cdc=!(_0x1279e9!=null&&_0x1279e9[_0x17e2da(0x203)]),_0x280354=[_0x32763d];return _0x407cdc&&_0x280354[_0x17e2da(0x200)](_0x1a99d0),_0x5ec968[_0x17e2da(0x1da)](_0x207230[_0x17e2da(0x20b)],[_0x1472a1[_0x17e2da(0x1df)](_0x5ddbbf[_0x17e2da(0x202)],_0x5ddbbf['to'],{'nodeName':_0x43fc2c,'class':_0x280354[_0x17e2da(0x1f6)]('\x20'),'data-decoration-id':_0x42dc3c,'data-decoration-content':_0x16dcb1})]);}}});return _0x41d0ab;}export{Y as S};