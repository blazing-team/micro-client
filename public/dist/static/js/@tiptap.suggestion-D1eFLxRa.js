const _0x304315=_0x5eba;(function(_0x147055,_0xae136a){const _0xb0785e=_0x5eba,_0x55ac73=_0x147055();while(!![]){try{const _0x54a153=-parseInt(_0xb0785e(0xff))/0x1*(-parseInt(_0xb0785e(0x109))/0x2)+-parseInt(_0xb0785e(0x116))/0x3*(parseInt(_0xb0785e(0x121))/0x4)+-parseInt(_0xb0785e(0xf9))/0x5*(-parseInt(_0xb0785e(0x103))/0x6)+parseInt(_0xb0785e(0x104))/0x7*(-parseInt(_0xb0785e(0x107))/0x8)+-parseInt(_0xb0785e(0xf0))/0x9+-parseInt(_0xb0785e(0x115))/0xa+parseInt(_0xb0785e(0x10a))/0xb;if(_0x54a153===_0xae136a)break;else _0x55ac73['push'](_0x55ac73['shift']());}catch(_0x20ff63){_0x55ac73['push'](_0x55ac73['shift']());}}}(_0xa1c7,0x60b6d));import{P as _0x1e78db,a as _0x501eaf}from'./prosemirror-state-DcLGimL2.js';function _0xa1c7(){const _0x1d2d5e=['4691370bxuGbl','990ctpaCn','matchAll','onUpdate','view','join','inline','.*?(?=\x5cs','call','length','pop','onBeforeStart','1108EEOkvN','create','text','composing','from','2539512TUTbFv','onBeforeUpdate','dom','key','span','input','onKeyDown','test','index','9390GXYRQR','is-empty','pos','active','query','suggestion','55925BahIPj','id_','[^\x5cs','isText','666dNdlsW','630FDGIst','floor','state','824TxfcrU','getState','12slDiFV','7745298wwmOpX','slice','random','[data-decoration-id=\x22','nodeBefore','decorationId','getBoundingClientRect','querySelector','(?:^)?','max','range'];_0xa1c7=function(){return _0x1d2d5e;};return _0xa1c7();}import{a as _0x2ed1a1,D as _0x5361b4}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x4b0482}from'./@tiptap.core-HsqG-hEX.js';function J(_0x313266){const _0x28ec83=_0x5eba;var _0x34122c;const {char:_0x4baeed,allowSpaces:_0x37c815,allowToIncludeChar:_0x5ac012,allowedPrefixes:_0x934240,startOfLine:_0x56e65b,$position:_0x336b10}=_0x313266,_0xf9cb50=_0x37c815&&!_0x5ac012,_0x2a9035=_0x4b0482(_0x4baeed),_0x55eaa6=new RegExp('\x5cs'+_0x2a9035+'$'),_0x272446=_0x56e65b?'^':'',_0x4b897b=_0x5ac012?'':_0x2a9035,_0x1d33ca=_0xf9cb50?new RegExp(''+_0x272446+_0x2a9035+_0x28ec83(0x11c)+_0x4b897b+'|$)','gm'):new RegExp(_0x272446+_0x28ec83(0x112)+_0x2a9035+_0x28ec83(0x101)+_0x4b897b+']*','gm'),_0x2d51a1=((_0x34122c=_0x336b10[_0x28ec83(0x10e)])===null||_0x34122c===void 0x0?void 0x0:_0x34122c[_0x28ec83(0x102)])&&_0x336b10[_0x28ec83(0x10e)][_0x28ec83(0x123)];if(!_0x2d51a1)return null;const _0x593c63=_0x336b10[_0x28ec83(0xfb)]-_0x2d51a1[_0x28ec83(0x11e)],_0x216eea=Array[_0x28ec83(0xef)](_0x2d51a1[_0x28ec83(0x117)](_0x1d33ca))[_0x28ec83(0x11f)]();if(!_0x216eea||_0x216eea[_0x28ec83(0xf5)]===void 0x0||_0x216eea[_0x28ec83(0xf8)]===void 0x0)return null;const _0x5d2fa7=_0x216eea[_0x28ec83(0xf5)][_0x28ec83(0x10b)](Math[_0x28ec83(0x113)](0x0,_0x216eea['index']-0x1),_0x216eea[_0x28ec83(0xf8)]),_0x41ece8=new RegExp('^['+(_0x934240==null?void 0x0:_0x934240['join'](''))+'\x00]?$')[_0x28ec83(0xf7)](_0x5d2fa7);if(_0x934240!==null&&!_0x41ece8)return null;const _0x1dd144=_0x593c63+_0x216eea[_0x28ec83(0xf8)];let _0x4ecd33=_0x1dd144+_0x216eea[0x0][_0x28ec83(0x11e)];return _0xf9cb50&&_0x55eaa6['test'](_0x2d51a1['slice'](_0x4ecd33-0x1,_0x4ecd33+0x1))&&(_0x216eea[0x0]+='\x20',_0x4ecd33+=0x1),_0x1dd144<_0x336b10[_0x28ec83(0xfb)]&&_0x4ecd33>=_0x336b10['pos']?{'range':{'from':_0x1dd144,'to':_0x4ecd33},'query':_0x216eea[0x0][_0x28ec83(0x10b)](_0x4baeed[_0x28ec83(0x11e)]),'text':_0x216eea[0x0]}:null;}function _0x5eba(_0x44fec0,_0x10618a){_0x44fec0=_0x44fec0-0xee;const _0xa1c796=_0xa1c7();let _0x5eba4f=_0xa1c796[_0x44fec0];return _0x5eba4f;}const Q=new _0x501eaf(_0x304315(0xfe));function Y({pluginKey:_0x265d41=Q,editor:_0x4c1c77,char:_0x3ad6ad='@',allowSpaces:_0x2cbff6=!0x1,allowToIncludeChar:_0x100350=!0x1,allowedPrefixes:_0x4ab2a5=['\x20'],startOfLine:_0x30c870=!0x1,decorationTag:_0x5d1eea=_0x304315(0xf4),decorationClass:_0x25197f=_0x304315(0xfe),decorationContent:_0x20f263='',decorationEmptyClass:_0x13d577=_0x304315(0xfa),command:_0x3f080c=()=>null,items:_0xc19c04=()=>[],render:_0x2e1037=()=>({}),allow:_0x367bf2=()=>!0x0,findSuggestionMatch:_0x366884=J}){let _0x19a0e4;const _0x5d00ce=_0x2e1037==null?void 0x0:_0x2e1037(),_0x5a72f7=new _0x1e78db({'key':_0x265d41,'view'(){return{'update':async(_0xef7ff9,_0x2495bb)=>{const _0x52eff9=_0x5eba;var _0x355052,_0x40d841,_0x4b7a0f,_0x59046b,_0x3403cc,_0x185e14,_0x5c7863;const _0x3d02f7=(_0x355052=this['key'])===null||_0x355052===void 0x0?void 0x0:_0x355052[_0x52eff9(0x108)](_0x2495bb),_0x3c46c0=(_0x40d841=this['key'])===null||_0x40d841===void 0x0?void 0x0:_0x40d841[_0x52eff9(0x108)](_0xef7ff9[_0x52eff9(0x106)]),_0x217b2b=_0x3d02f7[_0x52eff9(0xfc)]&&_0x3c46c0[_0x52eff9(0xfc)]&&_0x3d02f7[_0x52eff9(0x114)][_0x52eff9(0xef)]!==_0x3c46c0[_0x52eff9(0x114)]['from'],_0x1ddf46=!_0x3d02f7[_0x52eff9(0xfc)]&&_0x3c46c0[_0x52eff9(0xfc)],_0x5cd7b9=_0x3d02f7['active']&&!_0x3c46c0[_0x52eff9(0xfc)],_0x5d3886=!_0x1ddf46&&!_0x5cd7b9&&_0x3d02f7[_0x52eff9(0xfd)]!==_0x3c46c0[_0x52eff9(0xfd)],_0x88819a=_0x1ddf46||_0x217b2b&&_0x5d3886,_0x40aab6=_0x5d3886||_0x217b2b,_0x33cd17=_0x5cd7b9||_0x217b2b&&_0x5d3886;if(!_0x88819a&&!_0x40aab6&&!_0x33cd17)return;const _0x10b004=_0x33cd17&&!_0x88819a?_0x3d02f7:_0x3c46c0,_0x5817a9=_0xef7ff9[_0x52eff9(0xf2)][_0x52eff9(0x111)](_0x52eff9(0x10d)+_0x10b004[_0x52eff9(0x10f)]+'\x22]');_0x19a0e4={'editor':_0x4c1c77,'range':_0x10b004[_0x52eff9(0x114)],'query':_0x10b004[_0x52eff9(0xfd)],'text':_0x10b004[_0x52eff9(0x123)],'items':[],'command':_0x486d2c=>_0x3f080c({'editor':_0x4c1c77,'range':_0x10b004[_0x52eff9(0x114)],'props':_0x486d2c}),'decorationNode':_0x5817a9,'clientRect':_0x5817a9?()=>{const _0x54b6aa=_0x52eff9;var _0x1ad34c;const {decorationId:_0x576085}=(_0x1ad34c=this[_0x54b6aa(0xf3)])===null||_0x1ad34c===void 0x0?void 0x0:_0x1ad34c[_0x54b6aa(0x108)](_0x4c1c77[_0x54b6aa(0x106)]),_0x45e00a=_0xef7ff9[_0x54b6aa(0xf2)][_0x54b6aa(0x111)](_0x54b6aa(0x10d)+_0x576085+'\x22]');return(_0x45e00a==null?void 0x0:_0x45e00a[_0x54b6aa(0x110)]())||null;}:null},_0x88819a&&((_0x4b7a0f=_0x5d00ce==null?void 0x0:_0x5d00ce[_0x52eff9(0x120)])===null||_0x4b7a0f===void 0x0||_0x4b7a0f[_0x52eff9(0x11d)](_0x5d00ce,_0x19a0e4)),_0x40aab6&&((_0x59046b=_0x5d00ce==null?void 0x0:_0x5d00ce[_0x52eff9(0xf1)])===null||_0x59046b===void 0x0||_0x59046b[_0x52eff9(0x11d)](_0x5d00ce,_0x19a0e4)),(_0x40aab6||_0x88819a)&&(_0x19a0e4['items']=await _0xc19c04({'editor':_0x4c1c77,'query':_0x10b004[_0x52eff9(0xfd)]})),_0x33cd17&&((_0x3403cc=_0x5d00ce==null?void 0x0:_0x5d00ce['onExit'])===null||_0x3403cc===void 0x0||_0x3403cc[_0x52eff9(0x11d)](_0x5d00ce,_0x19a0e4)),_0x40aab6&&((_0x185e14=_0x5d00ce==null?void 0x0:_0x5d00ce[_0x52eff9(0x118)])===null||_0x185e14===void 0x0||_0x185e14[_0x52eff9(0x11d)](_0x5d00ce,_0x19a0e4)),_0x88819a&&((_0x5c7863=_0x5d00ce==null?void 0x0:_0x5d00ce['onStart'])===null||_0x5c7863===void 0x0||_0x5c7863[_0x52eff9(0x11d)](_0x5d00ce,_0x19a0e4));},'destroy':()=>{const _0x225660=_0x5eba;var _0x335664;_0x19a0e4&&((_0x335664=_0x5d00ce==null?void 0x0:_0x5d00ce['onExit'])===null||_0x335664===void 0x0||_0x335664[_0x225660(0x11d)](_0x5d00ce,_0x19a0e4));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x59c670,_0x5d023d,_0x3aa09d,_0x24ca36){const _0xcfb7f1=_0x5eba,{isEditable:_0x2ed6a2}=_0x4c1c77,{composing:_0x5b9adb}=_0x4c1c77[_0xcfb7f1(0x119)],{selection:_0x296cac}=_0x59c670,{empty:_0x323100,from:_0x81d005}=_0x296cac,_0x468be1={..._0x5d023d};if(_0x468be1[_0xcfb7f1(0xee)]=_0x5b9adb,_0x2ed6a2&&(_0x323100||_0x4c1c77[_0xcfb7f1(0x119)][_0xcfb7f1(0xee)])){(_0x81d005<_0x5d023d[_0xcfb7f1(0x114)][_0xcfb7f1(0xef)]||_0x81d005>_0x5d023d[_0xcfb7f1(0x114)]['to'])&&!_0x5b9adb&&!_0x5d023d[_0xcfb7f1(0xee)]&&(_0x468be1[_0xcfb7f1(0xfc)]=!0x1);const _0x11e8bc=_0x366884({'char':_0x3ad6ad,'allowSpaces':_0x2cbff6,'allowToIncludeChar':_0x100350,'allowedPrefixes':_0x4ab2a5,'startOfLine':_0x30c870,'$position':_0x296cac['$from']}),_0x3b9518=_0xcfb7f1(0x100)+Math[_0xcfb7f1(0x105)](Math[_0xcfb7f1(0x10c)]()*0xffffffff);_0x11e8bc&&_0x367bf2({'editor':_0x4c1c77,'state':_0x24ca36,'range':_0x11e8bc[_0xcfb7f1(0x114)],'isActive':_0x5d023d[_0xcfb7f1(0xfc)]})?(_0x468be1['active']=!0x0,_0x468be1[_0xcfb7f1(0x10f)]=_0x5d023d[_0xcfb7f1(0x10f)]?_0x5d023d[_0xcfb7f1(0x10f)]:_0x3b9518,_0x468be1['range']=_0x11e8bc['range'],_0x468be1['query']=_0x11e8bc[_0xcfb7f1(0xfd)],_0x468be1['text']=_0x11e8bc['text']):_0x468be1['active']=!0x1;}else _0x468be1[_0xcfb7f1(0xfc)]=!0x1;return _0x468be1['active']||(_0x468be1[_0xcfb7f1(0x10f)]=null,_0x468be1[_0xcfb7f1(0x114)]={'from':0x0,'to':0x0},_0x468be1[_0xcfb7f1(0xfd)]=null,_0x468be1['text']=null),_0x468be1;}},'props':{'handleKeyDown'(_0x370c3e,_0x51c08c){const _0x1b9d49=_0x5eba;var _0x40be61;const {active:_0x1b7062,range:_0x3873dc}=_0x5a72f7[_0x1b9d49(0x108)](_0x370c3e[_0x1b9d49(0x106)]);return _0x1b7062&&((_0x40be61=_0x5d00ce==null?void 0x0:_0x5d00ce[_0x1b9d49(0xf6)])===null||_0x40be61===void 0x0?void 0x0:_0x40be61[_0x1b9d49(0x11d)](_0x5d00ce,{'view':_0x370c3e,'event':_0x51c08c,'range':_0x3873dc}))||!0x1;},'decorations'(_0x2d11d8){const _0x333dcf=_0x5eba,{active:_0x5b0f20,range:_0x4e9625,decorationId:_0xcf931e,query:_0x5015b6}=_0x5a72f7['getState'](_0x2d11d8);if(!_0x5b0f20)return null;const _0x327f54=!(_0x5015b6!=null&&_0x5015b6[_0x333dcf(0x11e)]),_0x2c3dce=[_0x25197f];return _0x327f54&&_0x2c3dce['push'](_0x13d577),_0x2ed1a1[_0x333dcf(0x122)](_0x2d11d8['doc'],[_0x5361b4[_0x333dcf(0x11b)](_0x4e9625[_0x333dcf(0xef)],_0x4e9625['to'],{'nodeName':_0x5d1eea,'class':_0x2c3dce[_0x333dcf(0x11a)]('\x20'),'data-decoration-id':_0xcf931e,'data-decoration-content':_0x20f263})]);}}});return _0x5a72f7;}export{Y as S};