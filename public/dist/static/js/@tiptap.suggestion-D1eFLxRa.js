const _0x1fd68f=_0x5b67;(function(_0xd9ff95,_0x21ea26){const _0x354de3=_0x5b67,_0x5cdae5=_0xd9ff95();while(!![]){try{const _0x1d0de5=-parseInt(_0x354de3(0xd8))/0x1*(parseInt(_0x354de3(0xe0))/0x2)+-parseInt(_0x354de3(0xe2))/0x3*(-parseInt(_0x354de3(0xda))/0x4)+parseInt(_0x354de3(0xd6))/0x5*(parseInt(_0x354de3(0xbc))/0x6)+-parseInt(_0x354de3(0xce))/0x7+parseInt(_0x354de3(0xd3))/0x8+parseInt(_0x354de3(0xb7))/0x9+parseInt(_0x354de3(0xc8))/0xa*(-parseInt(_0x354de3(0xd9))/0xb);if(_0x1d0de5===_0x21ea26)break;else _0x5cdae5['push'](_0x5cdae5['shift']());}catch(_0x4c5736){_0x5cdae5['push'](_0x5cdae5['shift']());}}}(_0x3ef0,0x5a5c6));function _0x5b67(_0x5c9580,_0x48e9e5){_0x5c9580=_0x5c9580-0xac;const _0x3ef07f=_0x3ef0();let _0x5b678b=_0x3ef07f[_0x5c9580];return _0x5b678b;}import{P as _0x57d58c,a as _0x3d1109}from'./prosemirror-state-DcLGimL2.js';import{a as _0x59f261,D as _0x19ce1b}from'./prosemirror-view-DEGNo2BM.js';function _0x3ef0(){const _0x3d263d=['index','3901185nyBZzu','pos','getState','onBeforeStart','suggestion','130170tqAwbj','push','pop','slice','input','items','create','test','onBeforeUpdate','length','onKeyDown','composing','256990zezzFg','max','matchAll','.*?(?=\x5cs','onExit','text','1640002pdXLgj','range','state','span','call','4390280IklNWL','query','active','145gnHAjc','querySelector','64mwBKUU','473HMIWxP','7028ofYuRy','nodeBefore','onStart','id_','|$)','(?:^)?','13188GCAfGr','view','888waEUbE','isText','key','[^\x5cs','from','\x00]?$','join','dom','floor','decorationId','doc'];_0x3ef0=function(){return _0x3d263d;};return _0x3ef0();}import{o as _0x3ffc5c}from'./@tiptap.core-HsqG-hEX.js';function J(_0x24a83c){const _0x117914=_0x5b67;var _0xe0e93e;const {char:_0x3f2bdf,allowSpaces:_0x4e62b4,allowToIncludeChar:_0x3db29e,allowedPrefixes:_0x6f2ee2,startOfLine:_0x504454,$position:_0xeae3c6}=_0x24a83c,_0x519532=_0x4e62b4&&!_0x3db29e,_0x5dceab=_0x3ffc5c(_0x3f2bdf),_0x94b33d=new RegExp('\x5cs'+_0x5dceab+'$'),_0x3359f9=_0x504454?'^':'',_0x5122a9=_0x3db29e?'':_0x5dceab,_0x3e3525=_0x519532?new RegExp(''+_0x3359f9+_0x5dceab+_0x117914(0xcb)+_0x5122a9+_0x117914(0xde),'gm'):new RegExp(_0x3359f9+_0x117914(0xdf)+_0x5dceab+_0x117914(0xae)+_0x5122a9+']*','gm'),_0x58b1e5=((_0xe0e93e=_0xeae3c6[_0x117914(0xdb)])===null||_0xe0e93e===void 0x0?void 0x0:_0xe0e93e[_0x117914(0xac)])&&_0xeae3c6[_0x117914(0xdb)][_0x117914(0xcd)];if(!_0x58b1e5)return null;const _0x57fb29=_0xeae3c6[_0x117914(0xb8)]-_0x58b1e5[_0x117914(0xc5)],_0x32b092=Array[_0x117914(0xaf)](_0x58b1e5[_0x117914(0xca)](_0x3e3525))[_0x117914(0xbe)]();if(!_0x32b092||_0x32b092[_0x117914(0xc0)]===void 0x0||_0x32b092[_0x117914(0xb6)]===void 0x0)return null;const _0x43958d=_0x32b092[_0x117914(0xc0)][_0x117914(0xbf)](Math[_0x117914(0xc9)](0x0,_0x32b092['index']-0x1),_0x32b092[_0x117914(0xb6)]),_0x18e307=new RegExp('^['+(_0x6f2ee2==null?void 0x0:_0x6f2ee2[_0x117914(0xb1)](''))+_0x117914(0xb0))['test'](_0x43958d);if(_0x6f2ee2!==null&&!_0x18e307)return null;const _0x184e7d=_0x57fb29+_0x32b092[_0x117914(0xb6)];let _0xc02c20=_0x184e7d+_0x32b092[0x0][_0x117914(0xc5)];return _0x519532&&_0x94b33d[_0x117914(0xc3)](_0x58b1e5[_0x117914(0xbf)](_0xc02c20-0x1,_0xc02c20+0x1))&&(_0x32b092[0x0]+='\x20',_0xc02c20+=0x1),_0x184e7d<_0xeae3c6[_0x117914(0xb8)]&&_0xc02c20>=_0xeae3c6[_0x117914(0xb8)]?{'range':{'from':_0x184e7d,'to':_0xc02c20},'query':_0x32b092[0x0][_0x117914(0xbf)](_0x3f2bdf[_0x117914(0xc5)]),'text':_0x32b092[0x0]}:null;}const Q=new _0x3d1109(_0x1fd68f(0xbb));function Y({pluginKey:_0x2cf213=Q,editor:_0xc38696,char:_0x2862fa='@',allowSpaces:_0x52d01c=!0x1,allowToIncludeChar:_0xae482d=!0x1,allowedPrefixes:_0x2e196e=['\x20'],startOfLine:_0x3248a9=!0x1,decorationTag:_0x12ff01=_0x1fd68f(0xd1),decorationClass:_0xa949b6=_0x1fd68f(0xbb),decorationContent:_0x5b62bd='',decorationEmptyClass:_0x4a24e8='is-empty',command:_0x486fcd=()=>null,items:_0x19259c=()=>[],render:_0x1760df=()=>({}),allow:_0x859ca6=()=>!0x0,findSuggestionMatch:_0x12cd14=J}){let _0x2753c6;const _0x4f3ff4=_0x1760df==null?void 0x0:_0x1760df(),_0x297038=new _0x57d58c({'key':_0x2cf213,'view'(){return{'update':async(_0x5f0e97,_0x394722)=>{const _0x50b66d=_0x5b67;var _0x3de57d,_0x431d72,_0x5b25f7,_0x31d12a,_0x3f541b,_0x1914c7,_0x30ae3c;const _0x5044e5=(_0x3de57d=this[_0x50b66d(0xad)])===null||_0x3de57d===void 0x0?void 0x0:_0x3de57d[_0x50b66d(0xb9)](_0x394722),_0x39f9b7=(_0x431d72=this[_0x50b66d(0xad)])===null||_0x431d72===void 0x0?void 0x0:_0x431d72[_0x50b66d(0xb9)](_0x5f0e97[_0x50b66d(0xd0)]),_0x33ba1f=_0x5044e5[_0x50b66d(0xd5)]&&_0x39f9b7['active']&&_0x5044e5['range'][_0x50b66d(0xaf)]!==_0x39f9b7[_0x50b66d(0xcf)][_0x50b66d(0xaf)],_0x12a5e3=!_0x5044e5[_0x50b66d(0xd5)]&&_0x39f9b7[_0x50b66d(0xd5)],_0x46efb4=_0x5044e5[_0x50b66d(0xd5)]&&!_0x39f9b7[_0x50b66d(0xd5)],_0xd5a314=!_0x12a5e3&&!_0x46efb4&&_0x5044e5['query']!==_0x39f9b7[_0x50b66d(0xd4)],_0xb8c15e=_0x12a5e3||_0x33ba1f&&_0xd5a314,_0x2e6e18=_0xd5a314||_0x33ba1f,_0x2d1ca0=_0x46efb4||_0x33ba1f&&_0xd5a314;if(!_0xb8c15e&&!_0x2e6e18&&!_0x2d1ca0)return;const _0x389895=_0x2d1ca0&&!_0xb8c15e?_0x5044e5:_0x39f9b7,_0xbad5a2=_0x5f0e97[_0x50b66d(0xb2)][_0x50b66d(0xd7)]('[data-decoration-id=\x22'+_0x389895[_0x50b66d(0xb4)]+'\x22]');_0x2753c6={'editor':_0xc38696,'range':_0x389895[_0x50b66d(0xcf)],'query':_0x389895[_0x50b66d(0xd4)],'text':_0x389895[_0x50b66d(0xcd)],'items':[],'command':_0x470fd9=>_0x486fcd({'editor':_0xc38696,'range':_0x389895[_0x50b66d(0xcf)],'props':_0x470fd9}),'decorationNode':_0xbad5a2,'clientRect':_0xbad5a2?()=>{const _0x30fba0=_0x50b66d;var _0x549f65;const {decorationId:_0x13e235}=(_0x549f65=this[_0x30fba0(0xad)])===null||_0x549f65===void 0x0?void 0x0:_0x549f65['getState'](_0xc38696[_0x30fba0(0xd0)]),_0x34c126=_0x5f0e97['dom'][_0x30fba0(0xd7)]('[data-decoration-id=\x22'+_0x13e235+'\x22]');return(_0x34c126==null?void 0x0:_0x34c126['getBoundingClientRect']())||null;}:null},_0xb8c15e&&((_0x5b25f7=_0x4f3ff4==null?void 0x0:_0x4f3ff4[_0x50b66d(0xba)])===null||_0x5b25f7===void 0x0||_0x5b25f7[_0x50b66d(0xd2)](_0x4f3ff4,_0x2753c6)),_0x2e6e18&&((_0x31d12a=_0x4f3ff4==null?void 0x0:_0x4f3ff4[_0x50b66d(0xc4)])===null||_0x31d12a===void 0x0||_0x31d12a['call'](_0x4f3ff4,_0x2753c6)),(_0x2e6e18||_0xb8c15e)&&(_0x2753c6[_0x50b66d(0xc1)]=await _0x19259c({'editor':_0xc38696,'query':_0x389895['query']})),_0x2d1ca0&&((_0x3f541b=_0x4f3ff4==null?void 0x0:_0x4f3ff4[_0x50b66d(0xcc)])===null||_0x3f541b===void 0x0||_0x3f541b[_0x50b66d(0xd2)](_0x4f3ff4,_0x2753c6)),_0x2e6e18&&((_0x1914c7=_0x4f3ff4==null?void 0x0:_0x4f3ff4['onUpdate'])===null||_0x1914c7===void 0x0||_0x1914c7[_0x50b66d(0xd2)](_0x4f3ff4,_0x2753c6)),_0xb8c15e&&((_0x30ae3c=_0x4f3ff4==null?void 0x0:_0x4f3ff4[_0x50b66d(0xdc)])===null||_0x30ae3c===void 0x0||_0x30ae3c[_0x50b66d(0xd2)](_0x4f3ff4,_0x2753c6));},'destroy':()=>{const _0x2e6ddd=_0x5b67;var _0x2bdac2;_0x2753c6&&((_0x2bdac2=_0x4f3ff4==null?void 0x0:_0x4f3ff4['onExit'])===null||_0x2bdac2===void 0x0||_0x2bdac2[_0x2e6ddd(0xd2)](_0x4f3ff4,_0x2753c6));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x39682d,_0x512643,_0x4976cf,_0x2c5038){const _0x121f5b=_0x5b67,{isEditable:_0x5f08ad}=_0xc38696,{composing:_0x54ad96}=_0xc38696[_0x121f5b(0xe1)],{selection:_0x213c65}=_0x39682d,{empty:_0xaba6bf,from:_0x14d973}=_0x213c65,_0x1bac0f={..._0x512643};if(_0x1bac0f[_0x121f5b(0xc7)]=_0x54ad96,_0x5f08ad&&(_0xaba6bf||_0xc38696['view'][_0x121f5b(0xc7)])){(_0x14d973<_0x512643[_0x121f5b(0xcf)][_0x121f5b(0xaf)]||_0x14d973>_0x512643[_0x121f5b(0xcf)]['to'])&&!_0x54ad96&&!_0x512643[_0x121f5b(0xc7)]&&(_0x1bac0f[_0x121f5b(0xd5)]=!0x1);const _0x3d096e=_0x12cd14({'char':_0x2862fa,'allowSpaces':_0x52d01c,'allowToIncludeChar':_0xae482d,'allowedPrefixes':_0x2e196e,'startOfLine':_0x3248a9,'$position':_0x213c65['$from']}),_0x375237=_0x121f5b(0xdd)+Math[_0x121f5b(0xb3)](Math['random']()*0xffffffff);_0x3d096e&&_0x859ca6({'editor':_0xc38696,'state':_0x2c5038,'range':_0x3d096e[_0x121f5b(0xcf)],'isActive':_0x512643['active']})?(_0x1bac0f[_0x121f5b(0xd5)]=!0x0,_0x1bac0f['decorationId']=_0x512643['decorationId']?_0x512643[_0x121f5b(0xb4)]:_0x375237,_0x1bac0f[_0x121f5b(0xcf)]=_0x3d096e[_0x121f5b(0xcf)],_0x1bac0f['query']=_0x3d096e[_0x121f5b(0xd4)],_0x1bac0f['text']=_0x3d096e[_0x121f5b(0xcd)]):_0x1bac0f['active']=!0x1;}else _0x1bac0f[_0x121f5b(0xd5)]=!0x1;return _0x1bac0f[_0x121f5b(0xd5)]||(_0x1bac0f[_0x121f5b(0xb4)]=null,_0x1bac0f[_0x121f5b(0xcf)]={'from':0x0,'to':0x0},_0x1bac0f[_0x121f5b(0xd4)]=null,_0x1bac0f[_0x121f5b(0xcd)]=null),_0x1bac0f;}},'props':{'handleKeyDown'(_0x5bdeaf,_0x7040cb){const _0x29c119=_0x5b67;var _0x126b1c;const {active:_0x181ed6,range:_0x56cea6}=_0x297038['getState'](_0x5bdeaf['state']);return _0x181ed6&&((_0x126b1c=_0x4f3ff4==null?void 0x0:_0x4f3ff4[_0x29c119(0xc6)])===null||_0x126b1c===void 0x0?void 0x0:_0x126b1c[_0x29c119(0xd2)](_0x4f3ff4,{'view':_0x5bdeaf,'event':_0x7040cb,'range':_0x56cea6}))||!0x1;},'decorations'(_0x562747){const _0x23b5e3=_0x5b67,{active:_0x3326a7,range:_0x57c620,decorationId:_0x1c3d75,query:_0xee7351}=_0x297038['getState'](_0x562747);if(!_0x3326a7)return null;const _0x12c2a1=!(_0xee7351!=null&&_0xee7351[_0x23b5e3(0xc5)]),_0x58e8da=[_0xa949b6];return _0x12c2a1&&_0x58e8da[_0x23b5e3(0xbd)](_0x4a24e8),_0x59f261[_0x23b5e3(0xc2)](_0x562747[_0x23b5e3(0xb5)],[_0x19ce1b['inline'](_0x57c620[_0x23b5e3(0xaf)],_0x57c620['to'],{'nodeName':_0x12ff01,'class':_0x58e8da[_0x23b5e3(0xb1)]('\x20'),'data-decoration-id':_0x1c3d75,'data-decoration-content':_0x5b62bd})]);}}});return _0x297038;}export{Y as S};