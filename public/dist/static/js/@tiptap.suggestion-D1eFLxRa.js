const _0x1a1134=_0x1ee6;(function(_0x40fc86,_0x18b083){const _0x5ad105=_0x1ee6,_0x350507=_0x40fc86();while(!![]){try{const _0x2e6204=-parseInt(_0x5ad105(0x1de))/0x1*(parseInt(_0x5ad105(0x1e3))/0x2)+-parseInt(_0x5ad105(0x1e4))/0x3+-parseInt(_0x5ad105(0x1d9))/0x4*(-parseInt(_0x5ad105(0x1d6))/0x5)+-parseInt(_0x5ad105(0x1c4))/0x6*(-parseInt(_0x5ad105(0x1c3))/0x7)+parseInt(_0x5ad105(0x1c6))/0x8*(-parseInt(_0x5ad105(0x1b6))/0x9)+-parseInt(_0x5ad105(0x1d7))/0xa+parseInt(_0x5ad105(0x1d5))/0xb;if(_0x2e6204===_0x18b083)break;else _0x350507['push'](_0x350507['shift']());}catch(_0x27df57){_0x350507['push'](_0x350507['shift']());}}}(_0x8694,0x8f842));import{P as _0x1db457,a as _0x3b3138}from'./prosemirror-state-DcLGimL2.js';import{a as _0x533e92,D as _0xb3544b}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x55b62b}from'./@tiptap.core-HsqG-hEX.js';function J(_0x8addb6){const _0x512684=_0x1ee6;var _0x4257dd;const {char:_0x333268,allowSpaces:_0xef48a1,allowToIncludeChar:_0x74de23,allowedPrefixes:_0x486d80,startOfLine:_0x2831fa,$position:_0x146e8d}=_0x8addb6,_0x591d2=_0xef48a1&&!_0x74de23,_0x1898d3=_0x55b62b(_0x333268),_0x1e93fe=new RegExp('\x5cs'+_0x1898d3+'$'),_0x16e0b7=_0x2831fa?'^':'',_0x352c59=_0x74de23?'':_0x1898d3,_0x461246=_0x591d2?new RegExp(''+_0x16e0b7+_0x1898d3+'.*?(?=\x5cs'+_0x352c59+_0x512684(0x1cc),'gm'):new RegExp(_0x16e0b7+_0x512684(0x1b8)+_0x1898d3+_0x512684(0x1cd)+_0x352c59+']*','gm'),_0x299221=((_0x4257dd=_0x146e8d['nodeBefore'])===null||_0x4257dd===void 0x0?void 0x0:_0x4257dd[_0x512684(0x1bf)])&&_0x146e8d['nodeBefore'][_0x512684(0x1b2)];if(!_0x299221)return null;const _0x482472=_0x146e8d[_0x512684(0x1c5)]-_0x299221['length'],_0x20ad92=Array[_0x512684(0x1c2)](_0x299221[_0x512684(0x1dd)](_0x461246))['pop']();if(!_0x20ad92||_0x20ad92[_0x512684(0x1c8)]===void 0x0||_0x20ad92[_0x512684(0x1d4)]===void 0x0)return null;const _0x49dcba=_0x20ad92['input'][_0x512684(0x1e0)](Math[_0x512684(0x1d8)](0x0,_0x20ad92[_0x512684(0x1d4)]-0x1),_0x20ad92[_0x512684(0x1d4)]),_0x3776d6=new RegExp('^['+(_0x486d80==null?void 0x0:_0x486d80[_0x512684(0x1e1)](''))+_0x512684(0x1dc))['test'](_0x49dcba);if(_0x486d80!==null&&!_0x3776d6)return null;const _0x5c61e8=_0x482472+_0x20ad92[_0x512684(0x1d4)];let _0x49e206=_0x5c61e8+_0x20ad92[0x0][_0x512684(0x1b4)];return _0x591d2&&_0x1e93fe['test'](_0x299221['slice'](_0x49e206-0x1,_0x49e206+0x1))&&(_0x20ad92[0x0]+='\x20',_0x49e206+=0x1),_0x5c61e8<_0x146e8d[_0x512684(0x1c5)]&&_0x49e206>=_0x146e8d[_0x512684(0x1c5)]?{'range':{'from':_0x5c61e8,'to':_0x49e206},'query':_0x20ad92[0x0][_0x512684(0x1e0)](_0x333268['length']),'text':_0x20ad92[0x0]}:null;}const Q=new _0x3b3138(_0x1a1134(0x1bb));function _0x1ee6(_0x5b60eb,_0x35215a){_0x5b60eb=_0x5b60eb-0x1b2;const _0x869469=_0x8694();let _0x1ee6d8=_0x869469[_0x5b60eb];return _0x1ee6d8;}function _0x8694(){const _0x460463=['max','2860264KXJWFf','querySelector','[data-decoration-id=\x22','\x00]?$','matchAll','381341NknkxF','doc','slice','join','getState','2QsDFPL','881499YRvVSy','text','decorationId','length','getBoundingClientRect','3898269YGIOAE','query','(?:^)?','dom','onUpdate','suggestion','onBeforeUpdate','onExit','onStart','isText','call','push','from','595qPrudi','1848KqPlcL','pos','16OSCvPI','key','input','range','is-empty','floor','|$)','[^\x5cs','composing','state','id_','inline','$from','active','index','21654578BYhwVD','5VEedXZ','5805460sbTlsY'];_0x8694=function(){return _0x460463;};return _0x8694();}function Y({pluginKey:_0x2a2f52=Q,editor:_0x12c153,char:_0x37c955='@',allowSpaces:_0x66840e=!0x1,allowToIncludeChar:_0x95ed59=!0x1,allowedPrefixes:_0x10415e=['\x20'],startOfLine:_0x56da02=!0x1,decorationTag:_0x26cc19='span',decorationClass:_0xcf8e0c='suggestion',decorationContent:_0x54313c='',decorationEmptyClass:_0x45a7dd=_0x1a1134(0x1ca),command:_0x4dcf28=()=>null,items:_0x533410=()=>[],render:_0x1fc512=()=>({}),allow:_0x3b3a7b=()=>!0x0,findSuggestionMatch:_0x3c9259=J}){let _0x1c51b9;const _0x351b1e=_0x1fc512==null?void 0x0:_0x1fc512(),_0x5d7000=new _0x1db457({'key':_0x2a2f52,'view'(){return{'update':async(_0x30d04a,_0x1029e7)=>{const _0x204bc2=_0x1ee6;var _0x5958c7,_0x2015ff,_0xd57e16,_0x35793f,_0x312f89,_0x4c5b16,_0x1fedf8;const _0x390ddd=(_0x5958c7=this[_0x204bc2(0x1c7)])===null||_0x5958c7===void 0x0?void 0x0:_0x5958c7[_0x204bc2(0x1e2)](_0x1029e7),_0x572001=(_0x2015ff=this['key'])===null||_0x2015ff===void 0x0?void 0x0:_0x2015ff[_0x204bc2(0x1e2)](_0x30d04a['state']),_0x1dc79d=_0x390ddd[_0x204bc2(0x1d3)]&&_0x572001[_0x204bc2(0x1d3)]&&_0x390ddd[_0x204bc2(0x1c9)][_0x204bc2(0x1c2)]!==_0x572001[_0x204bc2(0x1c9)]['from'],_0x53c92c=!_0x390ddd[_0x204bc2(0x1d3)]&&_0x572001[_0x204bc2(0x1d3)],_0x509947=_0x390ddd[_0x204bc2(0x1d3)]&&!_0x572001[_0x204bc2(0x1d3)],_0x57c757=!_0x53c92c&&!_0x509947&&_0x390ddd[_0x204bc2(0x1b7)]!==_0x572001[_0x204bc2(0x1b7)],_0x4f6fdb=_0x53c92c||_0x1dc79d&&_0x57c757,_0x7fc798=_0x57c757||_0x1dc79d,_0x4123f3=_0x509947||_0x1dc79d&&_0x57c757;if(!_0x4f6fdb&&!_0x7fc798&&!_0x4123f3)return;const _0x3ce978=_0x4123f3&&!_0x4f6fdb?_0x390ddd:_0x572001,_0x5b882d=_0x30d04a[_0x204bc2(0x1b9)][_0x204bc2(0x1da)](_0x204bc2(0x1db)+_0x3ce978['decorationId']+'\x22]');_0x1c51b9={'editor':_0x12c153,'range':_0x3ce978[_0x204bc2(0x1c9)],'query':_0x3ce978[_0x204bc2(0x1b7)],'text':_0x3ce978[_0x204bc2(0x1b2)],'items':[],'command':_0x238847=>_0x4dcf28({'editor':_0x12c153,'range':_0x3ce978['range'],'props':_0x238847}),'decorationNode':_0x5b882d,'clientRect':_0x5b882d?()=>{const _0x4f18fe=_0x204bc2;var _0x2bee66;const {decorationId:_0x30f7f0}=(_0x2bee66=this[_0x4f18fe(0x1c7)])===null||_0x2bee66===void 0x0?void 0x0:_0x2bee66[_0x4f18fe(0x1e2)](_0x12c153[_0x4f18fe(0x1cf)]),_0x3f1958=_0x30d04a[_0x4f18fe(0x1b9)][_0x4f18fe(0x1da)](_0x4f18fe(0x1db)+_0x30f7f0+'\x22]');return(_0x3f1958==null?void 0x0:_0x3f1958[_0x4f18fe(0x1b5)]())||null;}:null},_0x4f6fdb&&((_0xd57e16=_0x351b1e==null?void 0x0:_0x351b1e['onBeforeStart'])===null||_0xd57e16===void 0x0||_0xd57e16['call'](_0x351b1e,_0x1c51b9)),_0x7fc798&&((_0x35793f=_0x351b1e==null?void 0x0:_0x351b1e[_0x204bc2(0x1bc)])===null||_0x35793f===void 0x0||_0x35793f['call'](_0x351b1e,_0x1c51b9)),(_0x7fc798||_0x4f6fdb)&&(_0x1c51b9['items']=await _0x533410({'editor':_0x12c153,'query':_0x3ce978[_0x204bc2(0x1b7)]})),_0x4123f3&&((_0x312f89=_0x351b1e==null?void 0x0:_0x351b1e[_0x204bc2(0x1bd)])===null||_0x312f89===void 0x0||_0x312f89[_0x204bc2(0x1c0)](_0x351b1e,_0x1c51b9)),_0x7fc798&&((_0x4c5b16=_0x351b1e==null?void 0x0:_0x351b1e[_0x204bc2(0x1ba)])===null||_0x4c5b16===void 0x0||_0x4c5b16[_0x204bc2(0x1c0)](_0x351b1e,_0x1c51b9)),_0x4f6fdb&&((_0x1fedf8=_0x351b1e==null?void 0x0:_0x351b1e[_0x204bc2(0x1be)])===null||_0x1fedf8===void 0x0||_0x1fedf8[_0x204bc2(0x1c0)](_0x351b1e,_0x1c51b9));},'destroy':()=>{const _0x39b462=_0x1ee6;var _0x117766;_0x1c51b9&&((_0x117766=_0x351b1e==null?void 0x0:_0x351b1e[_0x39b462(0x1bd)])===null||_0x117766===void 0x0||_0x117766[_0x39b462(0x1c0)](_0x351b1e,_0x1c51b9));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x1e0219,_0x2ca819,_0x3d2529,_0xb4f4d3){const _0x4990f5=_0x1ee6,{isEditable:_0x514ec1}=_0x12c153,{composing:_0x5c52c5}=_0x12c153['view'],{selection:_0x421ebf}=_0x1e0219,{empty:_0x2b971c,from:_0x15b1a6}=_0x421ebf,_0x56d4d5={..._0x2ca819};if(_0x56d4d5[_0x4990f5(0x1ce)]=_0x5c52c5,_0x514ec1&&(_0x2b971c||_0x12c153['view'][_0x4990f5(0x1ce)])){(_0x15b1a6<_0x2ca819[_0x4990f5(0x1c9)][_0x4990f5(0x1c2)]||_0x15b1a6>_0x2ca819[_0x4990f5(0x1c9)]['to'])&&!_0x5c52c5&&!_0x2ca819[_0x4990f5(0x1ce)]&&(_0x56d4d5['active']=!0x1);const _0x2bd51f=_0x3c9259({'char':_0x37c955,'allowSpaces':_0x66840e,'allowToIncludeChar':_0x95ed59,'allowedPrefixes':_0x10415e,'startOfLine':_0x56da02,'$position':_0x421ebf[_0x4990f5(0x1d2)]}),_0x36cf8b=_0x4990f5(0x1d0)+Math[_0x4990f5(0x1cb)](Math['random']()*0xffffffff);_0x2bd51f&&_0x3b3a7b({'editor':_0x12c153,'state':_0xb4f4d3,'range':_0x2bd51f[_0x4990f5(0x1c9)],'isActive':_0x2ca819[_0x4990f5(0x1d3)]})?(_0x56d4d5[_0x4990f5(0x1d3)]=!0x0,_0x56d4d5[_0x4990f5(0x1b3)]=_0x2ca819[_0x4990f5(0x1b3)]?_0x2ca819[_0x4990f5(0x1b3)]:_0x36cf8b,_0x56d4d5[_0x4990f5(0x1c9)]=_0x2bd51f[_0x4990f5(0x1c9)],_0x56d4d5[_0x4990f5(0x1b7)]=_0x2bd51f[_0x4990f5(0x1b7)],_0x56d4d5['text']=_0x2bd51f[_0x4990f5(0x1b2)]):_0x56d4d5[_0x4990f5(0x1d3)]=!0x1;}else _0x56d4d5['active']=!0x1;return _0x56d4d5[_0x4990f5(0x1d3)]||(_0x56d4d5[_0x4990f5(0x1b3)]=null,_0x56d4d5[_0x4990f5(0x1c9)]={'from':0x0,'to':0x0},_0x56d4d5[_0x4990f5(0x1b7)]=null,_0x56d4d5[_0x4990f5(0x1b2)]=null),_0x56d4d5;}},'props':{'handleKeyDown'(_0xdf947f,_0x254b2b){const _0x20a19e=_0x1ee6;var _0x485b5e;const {active:_0x292e0d,range:_0x2ed659}=_0x5d7000[_0x20a19e(0x1e2)](_0xdf947f[_0x20a19e(0x1cf)]);return _0x292e0d&&((_0x485b5e=_0x351b1e==null?void 0x0:_0x351b1e['onKeyDown'])===null||_0x485b5e===void 0x0?void 0x0:_0x485b5e[_0x20a19e(0x1c0)](_0x351b1e,{'view':_0xdf947f,'event':_0x254b2b,'range':_0x2ed659}))||!0x1;},'decorations'(_0x2a65d4){const _0x4dfa49=_0x1ee6,{active:_0x384ff6,range:_0xceb73f,decorationId:_0x57a0ae,query:_0x5ce1fb}=_0x5d7000[_0x4dfa49(0x1e2)](_0x2a65d4);if(!_0x384ff6)return null;const _0x26e96a=!(_0x5ce1fb!=null&&_0x5ce1fb[_0x4dfa49(0x1b4)]),_0x27eeec=[_0xcf8e0c];return _0x26e96a&&_0x27eeec[_0x4dfa49(0x1c1)](_0x45a7dd),_0x533e92['create'](_0x2a65d4[_0x4dfa49(0x1df)],[_0xb3544b[_0x4dfa49(0x1d1)](_0xceb73f['from'],_0xceb73f['to'],{'nodeName':_0x26cc19,'class':_0x27eeec[_0x4dfa49(0x1e1)]('\x20'),'data-decoration-id':_0x57a0ae,'data-decoration-content':_0x54313c})]);}}});return _0x5d7000;}export{Y as S};