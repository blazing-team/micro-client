const _0x427390=_0x40ac;(function(_0x407fe4,_0x4d9a51){const _0xe3e827=_0x40ac,_0x3f3525=_0x407fe4();while(!![]){try{const _0x3bc641=parseInt(_0xe3e827(0xbd))/0x1+parseInt(_0xe3e827(0xe0))/0x2+-parseInt(_0xe3e827(0xd2))/0x3+-parseInt(_0xe3e827(0xbc))/0x4*(-parseInt(_0xe3e827(0xdf))/0x5)+parseInt(_0xe3e827(0xbe))/0x6*(-parseInt(_0xe3e827(0xdb))/0x7)+-parseInt(_0xe3e827(0xbf))/0x8*(-parseInt(_0xe3e827(0xdd))/0x9)+-parseInt(_0xe3e827(0xc7))/0xa*(parseInt(_0xe3e827(0xde))/0xb);if(_0x3bc641===_0x4d9a51)break;else _0x3f3525['push'](_0x3f3525['shift']());}catch(_0x42a2eb){_0x3f3525['push'](_0x3f3525['shift']());}}}(_0x203e,0x77a53));import{P as _0x12e97b,a as _0x1f76fb}from'./prosemirror-state-DcLGimL2.js';import{a as _0x3bcf5b,D as _0xe99733}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x94e6ee}from'./@tiptap.core-HsqG-hEX.js';function J(_0x2c5f8f){const _0x12d763=_0x40ac;var _0x66d6a2;const {char:_0xbd0709,allowSpaces:_0x422665,allowToIncludeChar:_0x4a428c,allowedPrefixes:_0x62fee2,startOfLine:_0x36ebaa,$position:_0x27b8fb}=_0x2c5f8f,_0x5f4dce=_0x422665&&!_0x4a428c,_0x40b60a=_0x94e6ee(_0xbd0709),_0x4a6a0d=new RegExp('\x5cs'+_0x40b60a+'$'),_0x15286f=_0x36ebaa?'^':'',_0x49fc26=_0x4a428c?'':_0x40b60a,_0x355a9a=_0x5f4dce?new RegExp(''+_0x15286f+_0x40b60a+_0x12d763(0xca)+_0x49fc26+_0x12d763(0xc0),'gm'):new RegExp(_0x15286f+_0x12d763(0xcf)+_0x40b60a+_0x12d763(0xe3)+_0x49fc26+']*','gm'),_0x59cd3e=((_0x66d6a2=_0x27b8fb[_0x12d763(0xed)])===null||_0x66d6a2===void 0x0?void 0x0:_0x66d6a2[_0x12d763(0xbb)])&&_0x27b8fb[_0x12d763(0xed)][_0x12d763(0xeb)];if(!_0x59cd3e)return null;const _0x4f321c=_0x27b8fb[_0x12d763(0xc8)]-_0x59cd3e[_0x12d763(0xd3)],_0x15c1ec=Array[_0x12d763(0xc3)](_0x59cd3e['matchAll'](_0x355a9a))[_0x12d763(0xe8)]();if(!_0x15c1ec||_0x15c1ec[_0x12d763(0xc1)]===void 0x0||_0x15c1ec[_0x12d763(0xe4)]===void 0x0)return null;const _0x1135c6=_0x15c1ec[_0x12d763(0xc1)][_0x12d763(0xd7)](Math['max'](0x0,_0x15c1ec['index']-0x1),_0x15c1ec['index']),_0x3997a8=new RegExp('^['+(_0x62fee2==null?void 0x0:_0x62fee2[_0x12d763(0xc2)](''))+_0x12d763(0xcd))[_0x12d763(0xe7)](_0x1135c6);if(_0x62fee2!==null&&!_0x3997a8)return null;const _0x39a7ef=_0x4f321c+_0x15c1ec[_0x12d763(0xe4)];let _0xba04e0=_0x39a7ef+_0x15c1ec[0x0][_0x12d763(0xd3)];return _0x5f4dce&&_0x4a6a0d[_0x12d763(0xe7)](_0x59cd3e[_0x12d763(0xd7)](_0xba04e0-0x1,_0xba04e0+0x1))&&(_0x15c1ec[0x0]+='\x20',_0xba04e0+=0x1),_0x39a7ef<_0x27b8fb[_0x12d763(0xc8)]&&_0xba04e0>=_0x27b8fb[_0x12d763(0xc8)]?{'range':{'from':_0x39a7ef,'to':_0xba04e0},'query':_0x15c1ec[0x0]['slice'](_0xbd0709['length']),'text':_0x15c1ec[0x0]}:null;}const Q=new _0x1f76fb(_0x427390(0xcb));function _0x40ac(_0x5a900f,_0x306180){_0x5a900f=_0x5a900f-0xba;const _0x203eaa=_0x203e();let _0x40acf1=_0x203eaa[_0x5a900f];return _0x40acf1;}function Y({pluginKey:_0x1397d2=Q,editor:_0x4c1026,char:_0x7b759b='@',allowSpaces:_0x4c2fcc=!0x1,allowToIncludeChar:_0x208ab0=!0x1,allowedPrefixes:_0x26bda4=['\x20'],startOfLine:_0x14325f=!0x1,decorationTag:_0x5cfc68=_0x427390(0xea),decorationClass:_0x2ef586=_0x427390(0xcb),decorationContent:_0x3457fc='',decorationEmptyClass:_0x572dba='is-empty',command:_0x42db9a=()=>null,items:_0x4196a0=()=>[],render:_0x491d23=()=>({}),allow:_0x4b6971=()=>!0x0,findSuggestionMatch:_0x5622b8=J}){let _0x23416f;const _0x5c7ee9=_0x491d23==null?void 0x0:_0x491d23(),_0x16a544=new _0x12e97b({'key':_0x1397d2,'view'(){return{'update':async(_0x364c8c,_0x589f5e)=>{const _0x4861ab=_0x40ac;var _0x240b02,_0x4ab6f0,_0x1b07d7,_0x51891f,_0x37c667,_0x1de9fd,_0x23f88a;const _0xaf0c84=(_0x240b02=this[_0x4861ab(0xd5)])===null||_0x240b02===void 0x0?void 0x0:_0x240b02['getState'](_0x589f5e),_0x11dda9=(_0x4ab6f0=this[_0x4861ab(0xd5)])===null||_0x4ab6f0===void 0x0?void 0x0:_0x4ab6f0['getState'](_0x364c8c['state']),_0x520af7=_0xaf0c84[_0x4861ab(0xe2)]&&_0x11dda9[_0x4861ab(0xe2)]&&_0xaf0c84['range'][_0x4861ab(0xc3)]!==_0x11dda9['range'][_0x4861ab(0xc3)],_0xd944c1=!_0xaf0c84['active']&&_0x11dda9[_0x4861ab(0xe2)],_0x42d709=_0xaf0c84[_0x4861ab(0xe2)]&&!_0x11dda9[_0x4861ab(0xe2)],_0x5ce623=!_0xd944c1&&!_0x42d709&&_0xaf0c84[_0x4861ab(0xc9)]!==_0x11dda9[_0x4861ab(0xc9)],_0x34be68=_0xd944c1||_0x520af7&&_0x5ce623,_0x293665=_0x5ce623||_0x520af7,_0x5ee79b=_0x42d709||_0x520af7&&_0x5ce623;if(!_0x34be68&&!_0x293665&&!_0x5ee79b)return;const _0x14acad=_0x5ee79b&&!_0x34be68?_0xaf0c84:_0x11dda9,_0x4f1500=_0x364c8c['dom'][_0x4861ab(0xba)](_0x4861ab(0xe1)+_0x14acad[_0x4861ab(0xda)]+'\x22]');_0x23416f={'editor':_0x4c1026,'range':_0x14acad[_0x4861ab(0xe5)],'query':_0x14acad[_0x4861ab(0xc9)],'text':_0x14acad['text'],'items':[],'command':_0x1b1c88=>_0x42db9a({'editor':_0x4c1026,'range':_0x14acad[_0x4861ab(0xe5)],'props':_0x1b1c88}),'decorationNode':_0x4f1500,'clientRect':_0x4f1500?()=>{const _0x1f81b0=_0x4861ab;var _0x34048e;const {decorationId:_0x4e66c1}=(_0x34048e=this[_0x1f81b0(0xd5)])===null||_0x34048e===void 0x0?void 0x0:_0x34048e[_0x1f81b0(0xd4)](_0x4c1026[_0x1f81b0(0xee)]),_0x4f5a09=_0x364c8c['dom'][_0x1f81b0(0xba)](_0x1f81b0(0xe1)+_0x4e66c1+'\x22]');return(_0x4f5a09==null?void 0x0:_0x4f5a09['getBoundingClientRect']())||null;}:null},_0x34be68&&((_0x1b07d7=_0x5c7ee9==null?void 0x0:_0x5c7ee9['onBeforeStart'])===null||_0x1b07d7===void 0x0||_0x1b07d7[_0x4861ab(0xc5)](_0x5c7ee9,_0x23416f)),_0x293665&&((_0x51891f=_0x5c7ee9==null?void 0x0:_0x5c7ee9[_0x4861ab(0xce)])===null||_0x51891f===void 0x0||_0x51891f[_0x4861ab(0xc5)](_0x5c7ee9,_0x23416f)),(_0x293665||_0x34be68)&&(_0x23416f['items']=await _0x4196a0({'editor':_0x4c1026,'query':_0x14acad[_0x4861ab(0xc9)]})),_0x5ee79b&&((_0x37c667=_0x5c7ee9==null?void 0x0:_0x5c7ee9[_0x4861ab(0xe6)])===null||_0x37c667===void 0x0||_0x37c667[_0x4861ab(0xc5)](_0x5c7ee9,_0x23416f)),_0x293665&&((_0x1de9fd=_0x5c7ee9==null?void 0x0:_0x5c7ee9[_0x4861ab(0xef)])===null||_0x1de9fd===void 0x0||_0x1de9fd[_0x4861ab(0xc5)](_0x5c7ee9,_0x23416f)),_0x34be68&&((_0x23f88a=_0x5c7ee9==null?void 0x0:_0x5c7ee9[_0x4861ab(0xcc)])===null||_0x23f88a===void 0x0||_0x23f88a[_0x4861ab(0xc5)](_0x5c7ee9,_0x23416f));},'destroy':()=>{const _0x4c887b=_0x40ac;var _0x31ce15;_0x23416f&&((_0x31ce15=_0x5c7ee9==null?void 0x0:_0x5c7ee9[_0x4c887b(0xe6)])===null||_0x31ce15===void 0x0||_0x31ce15['call'](_0x5c7ee9,_0x23416f));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0xafce53,_0x441e63,_0x2c17cd,_0xef28c2){const _0xab829a=_0x40ac,{isEditable:_0x1f596f}=_0x4c1026,{composing:_0x1b7db0}=_0x4c1026['view'],{selection:_0x689538}=_0xafce53,{empty:_0x568737,from:_0x199fed}=_0x689538,_0xc1470d={..._0x441e63};if(_0xc1470d[_0xab829a(0xd6)]=_0x1b7db0,_0x1f596f&&(_0x568737||_0x4c1026[_0xab829a(0xc6)][_0xab829a(0xd6)])){(_0x199fed<_0x441e63[_0xab829a(0xe5)][_0xab829a(0xc3)]||_0x199fed>_0x441e63['range']['to'])&&!_0x1b7db0&&!_0x441e63['composing']&&(_0xc1470d[_0xab829a(0xe2)]=!0x1);const _0x389a89=_0x5622b8({'char':_0x7b759b,'allowSpaces':_0x4c2fcc,'allowToIncludeChar':_0x208ab0,'allowedPrefixes':_0x26bda4,'startOfLine':_0x14325f,'$position':_0x689538[_0xab829a(0xe9)]}),_0x136c54=_0xab829a(0xec)+Math[_0xab829a(0xdc)](Math[_0xab829a(0xd1)]()*0xffffffff);_0x389a89&&_0x4b6971({'editor':_0x4c1026,'state':_0xef28c2,'range':_0x389a89[_0xab829a(0xe5)],'isActive':_0x441e63['active']})?(_0xc1470d['active']=!0x0,_0xc1470d[_0xab829a(0xda)]=_0x441e63['decorationId']?_0x441e63[_0xab829a(0xda)]:_0x136c54,_0xc1470d[_0xab829a(0xe5)]=_0x389a89[_0xab829a(0xe5)],_0xc1470d[_0xab829a(0xc9)]=_0x389a89[_0xab829a(0xc9)],_0xc1470d[_0xab829a(0xeb)]=_0x389a89[_0xab829a(0xeb)]):_0xc1470d[_0xab829a(0xe2)]=!0x1;}else _0xc1470d[_0xab829a(0xe2)]=!0x1;return _0xc1470d[_0xab829a(0xe2)]||(_0xc1470d['decorationId']=null,_0xc1470d['range']={'from':0x0,'to':0x0},_0xc1470d[_0xab829a(0xc9)]=null,_0xc1470d[_0xab829a(0xeb)]=null),_0xc1470d;}},'props':{'handleKeyDown'(_0x3857eb,_0x38ada3){const _0x1bfb5a=_0x40ac;var _0x19cd7f;const {active:_0x5e03fd,range:_0x576f68}=_0x16a544[_0x1bfb5a(0xd4)](_0x3857eb['state']);return _0x5e03fd&&((_0x19cd7f=_0x5c7ee9==null?void 0x0:_0x5c7ee9[_0x1bfb5a(0xd8)])===null||_0x19cd7f===void 0x0?void 0x0:_0x19cd7f[_0x1bfb5a(0xc5)](_0x5c7ee9,{'view':_0x3857eb,'event':_0x38ada3,'range':_0x576f68}))||!0x1;},'decorations'(_0x5e6af4){const _0x4d6edb=_0x40ac,{active:_0x30ca12,range:_0x12fdaa,decorationId:_0x3ba243,query:_0x3f4c1f}=_0x16a544[_0x4d6edb(0xd4)](_0x5e6af4);if(!_0x30ca12)return null;const _0x3e9de0=!(_0x3f4c1f!=null&&_0x3f4c1f[_0x4d6edb(0xd3)]),_0x6ddc2a=[_0x2ef586];return _0x3e9de0&&_0x6ddc2a[_0x4d6edb(0xd9)](_0x572dba),_0x3bcf5b['create'](_0x5e6af4[_0x4d6edb(0xd0)],[_0xe99733[_0x4d6edb(0xc4)](_0x12fdaa[_0x4d6edb(0xc3)],_0x12fdaa['to'],{'nodeName':_0x5cfc68,'class':_0x6ddc2a['join']('\x20'),'data-decoration-id':_0x3ba243,'data-decoration-content':_0x3457fc})]);}}});return _0x16a544;}export{Y as S};function _0x203e(){const _0x139c3e=['text','id_','nodeBefore','state','onUpdate','querySelector','isText','316zLvJtZ','203614izRdHW','210nKClgj','6752496qZdRuP','|$)','input','join','from','inline','call','view','1470bmtadf','pos','query','.*?(?=\x5cs','suggestion','onStart','\x00]?$','onBeforeUpdate','(?:^)?','doc','random','2910015tyzXNa','length','getState','key','composing','slice','onKeyDown','push','decorationId','40453IyVTgg','floor','9PnTrxB','30833pEpJKh','44155hydLDP','658106CInvlL','[data-decoration-id=\x22','active','[^\x5cs','index','range','onExit','test','pop','$from','span'];_0x203e=function(){return _0x139c3e;};return _0x203e();}