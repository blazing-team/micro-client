const _0x35535f=_0x11f8;(function(_0x32fd98,_0x4716d8){const _0x3111ba=_0x11f8,_0x75aac5=_0x32fd98();while(!![]){try{const _0x384536=parseInt(_0x3111ba(0x194))/0x1*(-parseInt(_0x3111ba(0x18d))/0x2)+parseInt(_0x3111ba(0x1a2))/0x3*(-parseInt(_0x3111ba(0x196))/0x4)+-parseInt(_0x3111ba(0x18c))/0x5*(parseInt(_0x3111ba(0x198))/0x6)+-parseInt(_0x3111ba(0x195))/0x7+parseInt(_0x3111ba(0x1ac))/0x8+-parseInt(_0x3111ba(0x18b))/0x9+parseInt(_0x3111ba(0x18e))/0xa*(parseInt(_0x3111ba(0x1b0))/0xb);if(_0x384536===_0x4716d8)break;else _0x75aac5['push'](_0x75aac5['shift']());}catch(_0x354480){_0x75aac5['push'](_0x75aac5['shift']());}}}(_0x4eb6,0x24e05));import{P as _0x2c7353,a as _0x39b26c}from'./prosemirror-state-DcLGimL2.js';function _0x11f8(_0x197a21,_0x165f2a){_0x197a21=_0x197a21-0x17c;const _0x4eb6fa=_0x4eb6();let _0x11f8dd=_0x4eb6fa[_0x197a21];return _0x11f8dd;}function _0x4eb6(){const _0x38da84=['2atepIF','518273BTEDmV','2572rlXDxl','call','6mJwJzb','range','pop','join','dom','slice','length','onExit','test','querySelector','267AWeFUN','active','(?:^)?','index','max','[^\x5cs','input','onBeforeStart','composing','[data-decoration-id=\x22','2118624qLSsUF','nodeBefore','pos','push','61259JnuyBL','query','onBeforeUpdate','view','getBoundingClientRect','from','suggestion','isText','state','items','\x00]?$','getState','doc','$from','decorationId','.*?(?=\x5cs','1475892wMDHeG','146360oeOvgd','6448WFqTlz','390zXongB','key','floor','text','matchAll','random'];_0x4eb6=function(){return _0x38da84;};return _0x4eb6();}import{a as _0x16e804,D as _0x5e85b2}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x4a3bee}from'./@tiptap.core-HsqG-hEX.js';function J(_0xcd8340){const _0x3a9b87=_0x11f8;var _0x5936d7;const {char:_0x1c829c,allowSpaces:_0x9f7996,allowToIncludeChar:_0x33318d,allowedPrefixes:_0x516797,startOfLine:_0x5a59e6,$position:_0x5b1778}=_0xcd8340,_0x342e37=_0x9f7996&&!_0x33318d,_0x5777b9=_0x4a3bee(_0x1c829c),_0x211d2c=new RegExp('\x5cs'+_0x5777b9+'$'),_0xe25c7c=_0x5a59e6?'^':'',_0x3f6f65=_0x33318d?'':_0x5777b9,_0x21e625=_0x342e37?new RegExp(''+_0xe25c7c+_0x5777b9+_0x3a9b87(0x18a)+_0x3f6f65+'|$)','gm'):new RegExp(_0xe25c7c+_0x3a9b87(0x1a4)+_0x5777b9+_0x3a9b87(0x1a7)+_0x3f6f65+']*','gm'),_0x13853d=((_0x5936d7=_0x5b1778[_0x3a9b87(0x1ad)])===null||_0x5936d7===void 0x0?void 0x0:_0x5936d7[_0x3a9b87(0x182)])&&_0x5b1778[_0x3a9b87(0x1ad)][_0x3a9b87(0x191)];if(!_0x13853d)return null;const _0x541726=_0x5b1778[_0x3a9b87(0x1ae)]-_0x13853d['length'],_0xda78dc=Array[_0x3a9b87(0x180)](_0x13853d[_0x3a9b87(0x192)](_0x21e625))[_0x3a9b87(0x19a)]();if(!_0xda78dc||_0xda78dc[_0x3a9b87(0x1a8)]===void 0x0||_0xda78dc[_0x3a9b87(0x1a5)]===void 0x0)return null;const _0x27a8a4=_0xda78dc[_0x3a9b87(0x1a8)][_0x3a9b87(0x19d)](Math[_0x3a9b87(0x1a6)](0x0,_0xda78dc['index']-0x1),_0xda78dc[_0x3a9b87(0x1a5)]),_0x4552fb=new RegExp('^['+(_0x516797==null?void 0x0:_0x516797[_0x3a9b87(0x19b)](''))+_0x3a9b87(0x185))[_0x3a9b87(0x1a0)](_0x27a8a4);if(_0x516797!==null&&!_0x4552fb)return null;const _0x33e6c9=_0x541726+_0xda78dc[_0x3a9b87(0x1a5)];let _0x47c1cf=_0x33e6c9+_0xda78dc[0x0][_0x3a9b87(0x19e)];return _0x342e37&&_0x211d2c['test'](_0x13853d['slice'](_0x47c1cf-0x1,_0x47c1cf+0x1))&&(_0xda78dc[0x0]+='\x20',_0x47c1cf+=0x1),_0x33e6c9<_0x5b1778[_0x3a9b87(0x1ae)]&&_0x47c1cf>=_0x5b1778[_0x3a9b87(0x1ae)]?{'range':{'from':_0x33e6c9,'to':_0x47c1cf},'query':_0xda78dc[0x0][_0x3a9b87(0x19d)](_0x1c829c[_0x3a9b87(0x19e)]),'text':_0xda78dc[0x0]}:null;}const Q=new _0x39b26c(_0x35535f(0x181));function Y({pluginKey:_0x1203fe=Q,editor:_0x2eb016,char:_0x1cda3d='@',allowSpaces:_0xca09a1=!0x1,allowToIncludeChar:_0x19097d=!0x1,allowedPrefixes:_0x8fc90a=['\x20'],startOfLine:_0x2ef4df=!0x1,decorationTag:_0x2e86a5='span',decorationClass:_0x4e3c91=_0x35535f(0x181),decorationContent:_0x1e6abd='',decorationEmptyClass:_0x2615c1='is-empty',command:_0x38ea1c=()=>null,items:_0x37aaba=()=>[],render:_0x102879=()=>({}),allow:_0x2e9b07=()=>!0x0,findSuggestionMatch:_0x2beee0=J}){let _0x543c16;const _0x38e25e=_0x102879==null?void 0x0:_0x102879(),_0x5d9767=new _0x2c7353({'key':_0x1203fe,'view'(){return{'update':async(_0x416dd1,_0x3ba1f1)=>{const _0x1dbfb6=_0x11f8;var _0x37d043,_0x3d7f94,_0x4624c6,_0x3e1b6d,_0x24e955,_0xa83d47,_0x56e978;const _0xbde648=(_0x37d043=this[_0x1dbfb6(0x18f)])===null||_0x37d043===void 0x0?void 0x0:_0x37d043['getState'](_0x3ba1f1),_0x5c3c4b=(_0x3d7f94=this[_0x1dbfb6(0x18f)])===null||_0x3d7f94===void 0x0?void 0x0:_0x3d7f94[_0x1dbfb6(0x186)](_0x416dd1[_0x1dbfb6(0x183)]),_0x22be57=_0xbde648[_0x1dbfb6(0x1a3)]&&_0x5c3c4b[_0x1dbfb6(0x1a3)]&&_0xbde648[_0x1dbfb6(0x199)][_0x1dbfb6(0x180)]!==_0x5c3c4b['range'][_0x1dbfb6(0x180)],_0x5e4b33=!_0xbde648[_0x1dbfb6(0x1a3)]&&_0x5c3c4b[_0x1dbfb6(0x1a3)],_0x58e2f2=_0xbde648[_0x1dbfb6(0x1a3)]&&!_0x5c3c4b['active'],_0x2eb593=!_0x5e4b33&&!_0x58e2f2&&_0xbde648[_0x1dbfb6(0x17c)]!==_0x5c3c4b[_0x1dbfb6(0x17c)],_0x59309b=_0x5e4b33||_0x22be57&&_0x2eb593,_0x9b904=_0x2eb593||_0x22be57,_0x4132ec=_0x58e2f2||_0x22be57&&_0x2eb593;if(!_0x59309b&&!_0x9b904&&!_0x4132ec)return;const _0xf06618=_0x4132ec&&!_0x59309b?_0xbde648:_0x5c3c4b,_0x525a61=_0x416dd1[_0x1dbfb6(0x19c)][_0x1dbfb6(0x1a1)](_0x1dbfb6(0x1ab)+_0xf06618[_0x1dbfb6(0x189)]+'\x22]');_0x543c16={'editor':_0x2eb016,'range':_0xf06618[_0x1dbfb6(0x199)],'query':_0xf06618[_0x1dbfb6(0x17c)],'text':_0xf06618[_0x1dbfb6(0x191)],'items':[],'command':_0x2f42a4=>_0x38ea1c({'editor':_0x2eb016,'range':_0xf06618[_0x1dbfb6(0x199)],'props':_0x2f42a4}),'decorationNode':_0x525a61,'clientRect':_0x525a61?()=>{const _0x48c497=_0x1dbfb6;var _0x35acaf;const {decorationId:_0x42edb2}=(_0x35acaf=this[_0x48c497(0x18f)])===null||_0x35acaf===void 0x0?void 0x0:_0x35acaf[_0x48c497(0x186)](_0x2eb016[_0x48c497(0x183)]),_0x525e00=_0x416dd1[_0x48c497(0x19c)][_0x48c497(0x1a1)](_0x48c497(0x1ab)+_0x42edb2+'\x22]');return(_0x525e00==null?void 0x0:_0x525e00[_0x48c497(0x17f)]())||null;}:null},_0x59309b&&((_0x4624c6=_0x38e25e==null?void 0x0:_0x38e25e[_0x1dbfb6(0x1a9)])===null||_0x4624c6===void 0x0||_0x4624c6['call'](_0x38e25e,_0x543c16)),_0x9b904&&((_0x3e1b6d=_0x38e25e==null?void 0x0:_0x38e25e[_0x1dbfb6(0x17d)])===null||_0x3e1b6d===void 0x0||_0x3e1b6d[_0x1dbfb6(0x197)](_0x38e25e,_0x543c16)),(_0x9b904||_0x59309b)&&(_0x543c16[_0x1dbfb6(0x184)]=await _0x37aaba({'editor':_0x2eb016,'query':_0xf06618[_0x1dbfb6(0x17c)]})),_0x4132ec&&((_0x24e955=_0x38e25e==null?void 0x0:_0x38e25e[_0x1dbfb6(0x19f)])===null||_0x24e955===void 0x0||_0x24e955[_0x1dbfb6(0x197)](_0x38e25e,_0x543c16)),_0x9b904&&((_0xa83d47=_0x38e25e==null?void 0x0:_0x38e25e['onUpdate'])===null||_0xa83d47===void 0x0||_0xa83d47['call'](_0x38e25e,_0x543c16)),_0x59309b&&((_0x56e978=_0x38e25e==null?void 0x0:_0x38e25e['onStart'])===null||_0x56e978===void 0x0||_0x56e978[_0x1dbfb6(0x197)](_0x38e25e,_0x543c16));},'destroy':()=>{const _0x5e0ef4=_0x11f8;var _0x536691;_0x543c16&&((_0x536691=_0x38e25e==null?void 0x0:_0x38e25e[_0x5e0ef4(0x19f)])===null||_0x536691===void 0x0||_0x536691[_0x5e0ef4(0x197)](_0x38e25e,_0x543c16));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x5b3cf7,_0x1919f7,_0x27dd13,_0x1bc465){const _0x29523a=_0x11f8,{isEditable:_0x422bef}=_0x2eb016,{composing:_0x30015b}=_0x2eb016[_0x29523a(0x17e)],{selection:_0x40f100}=_0x5b3cf7,{empty:_0x202560,from:_0x1d5e96}=_0x40f100,_0x9e0da7={..._0x1919f7};if(_0x9e0da7[_0x29523a(0x1aa)]=_0x30015b,_0x422bef&&(_0x202560||_0x2eb016['view'][_0x29523a(0x1aa)])){(_0x1d5e96<_0x1919f7[_0x29523a(0x199)][_0x29523a(0x180)]||_0x1d5e96>_0x1919f7[_0x29523a(0x199)]['to'])&&!_0x30015b&&!_0x1919f7['composing']&&(_0x9e0da7[_0x29523a(0x1a3)]=!0x1);const _0x49ec5c=_0x2beee0({'char':_0x1cda3d,'allowSpaces':_0xca09a1,'allowToIncludeChar':_0x19097d,'allowedPrefixes':_0x8fc90a,'startOfLine':_0x2ef4df,'$position':_0x40f100[_0x29523a(0x188)]}),_0x18a589='id_'+Math[_0x29523a(0x190)](Math[_0x29523a(0x193)]()*0xffffffff);_0x49ec5c&&_0x2e9b07({'editor':_0x2eb016,'state':_0x1bc465,'range':_0x49ec5c[_0x29523a(0x199)],'isActive':_0x1919f7[_0x29523a(0x1a3)]})?(_0x9e0da7[_0x29523a(0x1a3)]=!0x0,_0x9e0da7['decorationId']=_0x1919f7[_0x29523a(0x189)]?_0x1919f7['decorationId']:_0x18a589,_0x9e0da7[_0x29523a(0x199)]=_0x49ec5c['range'],_0x9e0da7[_0x29523a(0x17c)]=_0x49ec5c[_0x29523a(0x17c)],_0x9e0da7[_0x29523a(0x191)]=_0x49ec5c[_0x29523a(0x191)]):_0x9e0da7['active']=!0x1;}else _0x9e0da7['active']=!0x1;return _0x9e0da7[_0x29523a(0x1a3)]||(_0x9e0da7[_0x29523a(0x189)]=null,_0x9e0da7['range']={'from':0x0,'to':0x0},_0x9e0da7['query']=null,_0x9e0da7['text']=null),_0x9e0da7;}},'props':{'handleKeyDown'(_0x23b8a1,_0x2834a8){const _0x3d1dfd=_0x11f8;var _0x3844ef;const {active:_0xcd12b,range:_0x482ccf}=_0x5d9767['getState'](_0x23b8a1[_0x3d1dfd(0x183)]);return _0xcd12b&&((_0x3844ef=_0x38e25e==null?void 0x0:_0x38e25e['onKeyDown'])===null||_0x3844ef===void 0x0?void 0x0:_0x3844ef['call'](_0x38e25e,{'view':_0x23b8a1,'event':_0x2834a8,'range':_0x482ccf}))||!0x1;},'decorations'(_0x326344){const _0xaaef42=_0x11f8,{active:_0x2150d2,range:_0xdb209e,decorationId:_0x5414d5,query:_0x580072}=_0x5d9767[_0xaaef42(0x186)](_0x326344);if(!_0x2150d2)return null;const _0x26f47c=!(_0x580072!=null&&_0x580072['length']),_0x47d73c=[_0x4e3c91];return _0x26f47c&&_0x47d73c[_0xaaef42(0x1af)](_0x2615c1),_0x16e804['create'](_0x326344[_0xaaef42(0x187)],[_0x5e85b2['inline'](_0xdb209e[_0xaaef42(0x180)],_0xdb209e['to'],{'nodeName':_0x2e86a5,'class':_0x47d73c['join']('\x20'),'data-decoration-id':_0x5414d5,'data-decoration-content':_0x1e6abd})]);}}});return _0x5d9767;}export{Y as S};