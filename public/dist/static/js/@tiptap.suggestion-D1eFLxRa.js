const _0xaf8ea1=_0x1144;(function(_0x938615,_0x369374){const _0x212a05=_0x1144,_0xc22faa=_0x938615();while(!![]){try{const _0x5e6e9a=-parseInt(_0x212a05(0x206))/0x1+-parseInt(_0x212a05(0x1d0))/0x2+-parseInt(_0x212a05(0x1eb))/0x3+parseInt(_0x212a05(0x1e6))/0x4*(-parseInt(_0x212a05(0x1f0))/0x5)+parseInt(_0x212a05(0x207))/0x6*(parseInt(_0x212a05(0x1e0))/0x7)+-parseInt(_0x212a05(0x1fe))/0x8*(parseInt(_0x212a05(0x200))/0x9)+-parseInt(_0x212a05(0x1f1))/0xa*(-parseInt(_0x212a05(0x1d3))/0xb);if(_0x5e6e9a===_0x369374)break;else _0xc22faa['push'](_0xc22faa['shift']());}catch(_0x160d01){_0xc22faa['push'](_0xc22faa['shift']());}}}(_0xfb22,0x69682));function _0x1144(_0x58c07a,_0xb5e345){_0x58c07a=_0x58c07a-0x1ce;const _0xfb2224=_0xfb22();let _0x114470=_0xfb2224[_0x58c07a];return _0x114470;}import{P as _0x4cd6da,a as _0x510652}from'./prosemirror-state-DcLGimL2.js';import{a as _0x379303,D as _0x1c74b0}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x513c43}from'./@tiptap.core-HsqG-hEX.js';function J(_0x54f1b2){const _0x5732e9=_0x1144;var _0x37588f;const {char:_0x579cb5,allowSpaces:_0x4ef88d,allowToIncludeChar:_0x43d8d0,allowedPrefixes:_0x12aea2,startOfLine:_0x336318,$position:_0xf2d6d}=_0x54f1b2,_0x4a078c=_0x4ef88d&&!_0x43d8d0,_0x101208=_0x513c43(_0x579cb5),_0x41d0d0=new RegExp('\x5cs'+_0x101208+'$'),_0x36e573=_0x336318?'^':'',_0x2d7894=_0x43d8d0?'':_0x101208,_0x5ebde5=_0x4a078c?new RegExp(''+_0x36e573+_0x101208+_0x5732e9(0x1f2)+_0x2d7894+_0x5732e9(0x203),'gm'):new RegExp(_0x36e573+_0x5732e9(0x1e7)+_0x101208+_0x5732e9(0x1ff)+_0x2d7894+']*','gm'),_0x5e1cca=((_0x37588f=_0xf2d6d[_0x5732e9(0x1f5)])===null||_0x37588f===void 0x0?void 0x0:_0x37588f[_0x5732e9(0x1f3)])&&_0xf2d6d[_0x5732e9(0x1f5)]['text'];if(!_0x5e1cca)return null;const _0x54faf6=_0xf2d6d[_0x5732e9(0x1f7)]-_0x5e1cca['length'],_0x307b50=Array[_0x5732e9(0x1da)](_0x5e1cca[_0x5732e9(0x202)](_0x5ebde5))[_0x5732e9(0x1d7)]();if(!_0x307b50||_0x307b50[_0x5732e9(0x1f8)]===void 0x0||_0x307b50[_0x5732e9(0x201)]===void 0x0)return null;const _0x2e2c9f=_0x307b50[_0x5732e9(0x1f8)][_0x5732e9(0x205)](Math[_0x5732e9(0x1d1)](0x0,_0x307b50[_0x5732e9(0x201)]-0x1),_0x307b50[_0x5732e9(0x201)]),_0x388925=new RegExp('^['+(_0x12aea2==null?void 0x0:_0x12aea2[_0x5732e9(0x1e2)](''))+'\x00]?$')[_0x5732e9(0x1fd)](_0x2e2c9f);if(_0x12aea2!==null&&!_0x388925)return null;const _0x396ef8=_0x54faf6+_0x307b50[_0x5732e9(0x201)];let _0x25155f=_0x396ef8+_0x307b50[0x0]['length'];return _0x4a078c&&_0x41d0d0[_0x5732e9(0x1fd)](_0x5e1cca['slice'](_0x25155f-0x1,_0x25155f+0x1))&&(_0x307b50[0x0]+='\x20',_0x25155f+=0x1),_0x396ef8<_0xf2d6d['pos']&&_0x25155f>=_0xf2d6d['pos']?{'range':{'from':_0x396ef8,'to':_0x25155f},'query':_0x307b50[0x0][_0x5732e9(0x205)](_0x579cb5[_0x5732e9(0x1e4)]),'text':_0x307b50[0x0]}:null;}function _0xfb22(){const _0x5ebf93=['.*?(?=\x5cs','isText','getBoundingClientRect','nodeBefore','range','pos','input','onBeforeUpdate','decorationId','id_','view','test','256lTHrll','[^\x5cs','228735pHNhob','index','matchAll','|$)','[data-decoration-id=\x22','slice','661650sWlRle','12VcrFVM','$from','state','817810vFtljM','max','call','3635423TkBpvV','query','getState','text','pop','composing','active','from','onStart','onUpdate','doc','span','onKeyDown','2323846ckSrVR','push','join','dom','length','inline','27828srGndY','(?:^)?','floor','querySelector','onExit','2257014sgGPKw','suggestion','items','is-empty','random','410USaXof','90VHyQDF'];_0xfb22=function(){return _0x5ebf93;};return _0xfb22();}const Q=new _0x510652('suggestion');function Y({pluginKey:_0xa2cb77=Q,editor:_0x2d8ef3,char:_0x1637fc='@',allowSpaces:_0x268d47=!0x1,allowToIncludeChar:_0x55fab2=!0x1,allowedPrefixes:_0x3e35eb=['\x20'],startOfLine:_0x13b782=!0x1,decorationTag:_0x29d601=_0xaf8ea1(0x1de),decorationClass:_0x461e50=_0xaf8ea1(0x1ec),decorationContent:_0x34fa0f='',decorationEmptyClass:_0x13e576=_0xaf8ea1(0x1ee),command:_0x5d3abf=()=>null,items:_0x3faa45=()=>[],render:_0x96d0b5=()=>({}),allow:_0x251f47=()=>!0x0,findSuggestionMatch:_0x642d02=J}){let _0x529155;const _0x4d0d5f=_0x96d0b5==null?void 0x0:_0x96d0b5(),_0x2131d9=new _0x4cd6da({'key':_0xa2cb77,'view'(){return{'update':async(_0x3fd58f,_0x584d64)=>{const _0x2e0b1b=_0x1144;var _0x454a95,_0x4dc0b3,_0x3666df,_0x1062ef,_0x924cab,_0x2b5561,_0x4d000c;const _0x297494=(_0x454a95=this['key'])===null||_0x454a95===void 0x0?void 0x0:_0x454a95[_0x2e0b1b(0x1d5)](_0x584d64),_0x41c20d=(_0x4dc0b3=this['key'])===null||_0x4dc0b3===void 0x0?void 0x0:_0x4dc0b3['getState'](_0x3fd58f[_0x2e0b1b(0x1cf)]),_0x32a396=_0x297494[_0x2e0b1b(0x1d9)]&&_0x41c20d['active']&&_0x297494['range'][_0x2e0b1b(0x1da)]!==_0x41c20d['range'][_0x2e0b1b(0x1da)],_0x3a541e=!_0x297494[_0x2e0b1b(0x1d9)]&&_0x41c20d[_0x2e0b1b(0x1d9)],_0x541960=_0x297494[_0x2e0b1b(0x1d9)]&&!_0x41c20d[_0x2e0b1b(0x1d9)],_0x39199a=!_0x3a541e&&!_0x541960&&_0x297494['query']!==_0x41c20d[_0x2e0b1b(0x1d4)],_0x219273=_0x3a541e||_0x32a396&&_0x39199a,_0x4c8406=_0x39199a||_0x32a396,_0x494592=_0x541960||_0x32a396&&_0x39199a;if(!_0x219273&&!_0x4c8406&&!_0x494592)return;const _0x30bd41=_0x494592&&!_0x219273?_0x297494:_0x41c20d,_0x118d2e=_0x3fd58f['dom'][_0x2e0b1b(0x1e9)](_0x2e0b1b(0x204)+_0x30bd41['decorationId']+'\x22]');_0x529155={'editor':_0x2d8ef3,'range':_0x30bd41[_0x2e0b1b(0x1f6)],'query':_0x30bd41[_0x2e0b1b(0x1d4)],'text':_0x30bd41[_0x2e0b1b(0x1d6)],'items':[],'command':_0x333630=>_0x5d3abf({'editor':_0x2d8ef3,'range':_0x30bd41[_0x2e0b1b(0x1f6)],'props':_0x333630}),'decorationNode':_0x118d2e,'clientRect':_0x118d2e?()=>{const _0x141cf1=_0x2e0b1b;var _0x223a2a;const {decorationId:_0x2b16d9}=(_0x223a2a=this['key'])===null||_0x223a2a===void 0x0?void 0x0:_0x223a2a[_0x141cf1(0x1d5)](_0x2d8ef3['state']),_0x47d82d=_0x3fd58f[_0x141cf1(0x1e3)]['querySelector'](_0x141cf1(0x204)+_0x2b16d9+'\x22]');return(_0x47d82d==null?void 0x0:_0x47d82d[_0x141cf1(0x1f4)]())||null;}:null},_0x219273&&((_0x3666df=_0x4d0d5f==null?void 0x0:_0x4d0d5f['onBeforeStart'])===null||_0x3666df===void 0x0||_0x3666df[_0x2e0b1b(0x1d2)](_0x4d0d5f,_0x529155)),_0x4c8406&&((_0x1062ef=_0x4d0d5f==null?void 0x0:_0x4d0d5f[_0x2e0b1b(0x1f9)])===null||_0x1062ef===void 0x0||_0x1062ef[_0x2e0b1b(0x1d2)](_0x4d0d5f,_0x529155)),(_0x4c8406||_0x219273)&&(_0x529155[_0x2e0b1b(0x1ed)]=await _0x3faa45({'editor':_0x2d8ef3,'query':_0x30bd41[_0x2e0b1b(0x1d4)]})),_0x494592&&((_0x924cab=_0x4d0d5f==null?void 0x0:_0x4d0d5f[_0x2e0b1b(0x1ea)])===null||_0x924cab===void 0x0||_0x924cab['call'](_0x4d0d5f,_0x529155)),_0x4c8406&&((_0x2b5561=_0x4d0d5f==null?void 0x0:_0x4d0d5f[_0x2e0b1b(0x1dc)])===null||_0x2b5561===void 0x0||_0x2b5561[_0x2e0b1b(0x1d2)](_0x4d0d5f,_0x529155)),_0x219273&&((_0x4d000c=_0x4d0d5f==null?void 0x0:_0x4d0d5f[_0x2e0b1b(0x1db)])===null||_0x4d000c===void 0x0||_0x4d000c[_0x2e0b1b(0x1d2)](_0x4d0d5f,_0x529155));},'destroy':()=>{const _0xc04fb4=_0x1144;var _0x4243e6;_0x529155&&((_0x4243e6=_0x4d0d5f==null?void 0x0:_0x4d0d5f[_0xc04fb4(0x1ea)])===null||_0x4243e6===void 0x0||_0x4243e6[_0xc04fb4(0x1d2)](_0x4d0d5f,_0x529155));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x460779,_0x5d9798,_0x12fb71,_0x563996){const _0x548e11=_0x1144,{isEditable:_0x2035cb}=_0x2d8ef3,{composing:_0x47e17f}=_0x2d8ef3[_0x548e11(0x1fc)],{selection:_0x41f9dd}=_0x460779,{empty:_0x23dac0,from:_0x2c2f23}=_0x41f9dd,_0x38d3ab={..._0x5d9798};if(_0x38d3ab[_0x548e11(0x1d8)]=_0x47e17f,_0x2035cb&&(_0x23dac0||_0x2d8ef3[_0x548e11(0x1fc)][_0x548e11(0x1d8)])){(_0x2c2f23<_0x5d9798[_0x548e11(0x1f6)][_0x548e11(0x1da)]||_0x2c2f23>_0x5d9798[_0x548e11(0x1f6)]['to'])&&!_0x47e17f&&!_0x5d9798[_0x548e11(0x1d8)]&&(_0x38d3ab[_0x548e11(0x1d9)]=!0x1);const _0x3e7b15=_0x642d02({'char':_0x1637fc,'allowSpaces':_0x268d47,'allowToIncludeChar':_0x55fab2,'allowedPrefixes':_0x3e35eb,'startOfLine':_0x13b782,'$position':_0x41f9dd[_0x548e11(0x1ce)]}),_0x5239b2=_0x548e11(0x1fb)+Math[_0x548e11(0x1e8)](Math[_0x548e11(0x1ef)]()*0xffffffff);_0x3e7b15&&_0x251f47({'editor':_0x2d8ef3,'state':_0x563996,'range':_0x3e7b15[_0x548e11(0x1f6)],'isActive':_0x5d9798[_0x548e11(0x1d9)]})?(_0x38d3ab['active']=!0x0,_0x38d3ab['decorationId']=_0x5d9798['decorationId']?_0x5d9798[_0x548e11(0x1fa)]:_0x5239b2,_0x38d3ab[_0x548e11(0x1f6)]=_0x3e7b15[_0x548e11(0x1f6)],_0x38d3ab[_0x548e11(0x1d4)]=_0x3e7b15[_0x548e11(0x1d4)],_0x38d3ab[_0x548e11(0x1d6)]=_0x3e7b15[_0x548e11(0x1d6)]):_0x38d3ab[_0x548e11(0x1d9)]=!0x1;}else _0x38d3ab[_0x548e11(0x1d9)]=!0x1;return _0x38d3ab['active']||(_0x38d3ab[_0x548e11(0x1fa)]=null,_0x38d3ab[_0x548e11(0x1f6)]={'from':0x0,'to':0x0},_0x38d3ab[_0x548e11(0x1d4)]=null,_0x38d3ab[_0x548e11(0x1d6)]=null),_0x38d3ab;}},'props':{'handleKeyDown'(_0x1850d3,_0x2f984b){const _0x5348a2=_0x1144;var _0x1cff1a;const {active:_0x332b60,range:_0xae758c}=_0x2131d9[_0x5348a2(0x1d5)](_0x1850d3['state']);return _0x332b60&&((_0x1cff1a=_0x4d0d5f==null?void 0x0:_0x4d0d5f[_0x5348a2(0x1df)])===null||_0x1cff1a===void 0x0?void 0x0:_0x1cff1a[_0x5348a2(0x1d2)](_0x4d0d5f,{'view':_0x1850d3,'event':_0x2f984b,'range':_0xae758c}))||!0x1;},'decorations'(_0x490503){const _0x40a3aa=_0x1144,{active:_0x5f0728,range:_0x497f66,decorationId:_0x32bb5e,query:_0x5ce45e}=_0x2131d9['getState'](_0x490503);if(!_0x5f0728)return null;const _0x2b6c8e=!(_0x5ce45e!=null&&_0x5ce45e['length']),_0x7ae9f4=[_0x461e50];return _0x2b6c8e&&_0x7ae9f4[_0x40a3aa(0x1e1)](_0x13e576),_0x379303['create'](_0x490503[_0x40a3aa(0x1dd)],[_0x1c74b0[_0x40a3aa(0x1e5)](_0x497f66[_0x40a3aa(0x1da)],_0x497f66['to'],{'nodeName':_0x29d601,'class':_0x7ae9f4[_0x40a3aa(0x1e2)]('\x20'),'data-decoration-id':_0x32bb5e,'data-decoration-content':_0x34fa0f})]);}}});return _0x2131d9;}export{Y as S};