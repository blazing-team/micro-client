function _0xcde2(_0x80a5d9,_0x58622f){_0x80a5d9=_0x80a5d9-0x184;const _0x5e3949=_0x5e39();let _0xcde2fa=_0x5e3949[_0x80a5d9];return _0xcde2fa;}function _0x5e39(){const _0x4d7eee=['composing','3857214tiBlWr','max','querySelector','key','call','nodeBefore','push','[^\x5cs','join','13805790MamDSJ','onBeforeUpdate','onExit','54135xSvFdB','8AmTUem','onStart','10426959CDfcdE','random','query','pos','suggestion','slice','8495753TKZmMX','isText','is-empty','floor','$from','82bbnExf','5jgIeHf','text','create','.*?(?=\x5cs','(?:^)?','pop','75584MZnwqH','onBeforeStart','622300UXdhxs','range','getBoundingClientRect','inline','test','input','length','from','|$)','index','dom','active','span','[data-decoration-id=\x22','\x00]?$','decorationId','id_','state','getState','view'];_0x5e39=function(){return _0x4d7eee;};return _0x5e39();}const _0x314f53=_0xcde2;(function(_0x42728b,_0x7ef475){const _0x1f1ea7=_0xcde2,_0x50a70c=_0x42728b();while(!![]){try{const _0x5081e1=parseInt(_0x1f1ea7(0x194))/0x1+parseInt(_0x1f1ea7(0x18d))/0x2*(parseInt(_0x1f1ea7(0x1b7))/0x3)+parseInt(_0x1f1ea7(0x196))/0x4+-parseInt(_0x1f1ea7(0x18e))/0x5*(-parseInt(_0x1f1ea7(0x1ab))/0x6)+-parseInt(_0x1f1ea7(0x188))/0x7+parseInt(_0x1f1ea7(0x1b8))/0x8*(-parseInt(_0x1f1ea7(0x1ba))/0x9)+parseInt(_0x1f1ea7(0x1b4))/0xa;if(_0x5081e1===_0x7ef475)break;else _0x50a70c['push'](_0x50a70c['shift']());}catch(_0xe8089e){_0x50a70c['push'](_0x50a70c['shift']());}}}(_0x5e39,0x97e8e));import{P as _0x547384,a as _0x54c536}from'./prosemirror-state-DcLGimL2.js';import{a as _0x21d53f,D as _0x142ab9}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x19e06e}from'./@tiptap.core-HsqG-hEX.js';function J(_0x1205df){const _0x2a2cb1=_0xcde2;var _0x407c64;const {char:_0x2a5b5f,allowSpaces:_0x216b65,allowToIncludeChar:_0x39cc31,allowedPrefixes:_0x34b92e,startOfLine:_0x45733a,$position:_0x1d3042}=_0x1205df,_0x1a25e8=_0x216b65&&!_0x39cc31,_0x115dae=_0x19e06e(_0x2a5b5f),_0x4f3883=new RegExp('\x5cs'+_0x115dae+'$'),_0x20ce21=_0x45733a?'^':'',_0x3d7e4f=_0x39cc31?'':_0x115dae,_0x3ebccf=_0x1a25e8?new RegExp(''+_0x20ce21+_0x115dae+_0x2a2cb1(0x191)+_0x3d7e4f+_0x2a2cb1(0x19e),'gm'):new RegExp(_0x20ce21+_0x2a2cb1(0x192)+_0x115dae+_0x2a2cb1(0x1b2)+_0x3d7e4f+']*','gm'),_0x1400ec=((_0x407c64=_0x1d3042[_0x2a2cb1(0x1b0)])===null||_0x407c64===void 0x0?void 0x0:_0x407c64[_0x2a2cb1(0x189)])&&_0x1d3042[_0x2a2cb1(0x1b0)][_0x2a2cb1(0x18f)];if(!_0x1400ec)return null;const _0x28c027=_0x1d3042['pos']-_0x1400ec[_0x2a2cb1(0x19c)],_0x4b4b07=Array[_0x2a2cb1(0x19d)](_0x1400ec['matchAll'](_0x3ebccf))[_0x2a2cb1(0x193)]();if(!_0x4b4b07||_0x4b4b07[_0x2a2cb1(0x19b)]===void 0x0||_0x4b4b07[_0x2a2cb1(0x19f)]===void 0x0)return null;const _0x12c5b1=_0x4b4b07[_0x2a2cb1(0x19b)][_0x2a2cb1(0x187)](Math[_0x2a2cb1(0x1ac)](0x0,_0x4b4b07[_0x2a2cb1(0x19f)]-0x1),_0x4b4b07[_0x2a2cb1(0x19f)]),_0x287d9a=new RegExp('^['+(_0x34b92e==null?void 0x0:_0x34b92e[_0x2a2cb1(0x1b3)](''))+_0x2a2cb1(0x1a4))[_0x2a2cb1(0x19a)](_0x12c5b1);if(_0x34b92e!==null&&!_0x287d9a)return null;const _0x3e3317=_0x28c027+_0x4b4b07[_0x2a2cb1(0x19f)];let _0x283cd6=_0x3e3317+_0x4b4b07[0x0]['length'];return _0x1a25e8&&_0x4f3883[_0x2a2cb1(0x19a)](_0x1400ec[_0x2a2cb1(0x187)](_0x283cd6-0x1,_0x283cd6+0x1))&&(_0x4b4b07[0x0]+='\x20',_0x283cd6+=0x1),_0x3e3317<_0x1d3042[_0x2a2cb1(0x185)]&&_0x283cd6>=_0x1d3042['pos']?{'range':{'from':_0x3e3317,'to':_0x283cd6},'query':_0x4b4b07[0x0][_0x2a2cb1(0x187)](_0x2a5b5f[_0x2a2cb1(0x19c)]),'text':_0x4b4b07[0x0]}:null;}const Q=new _0x54c536(_0x314f53(0x186));function Y({pluginKey:_0x26df34=Q,editor:_0x8801ff,char:_0x18468d='@',allowSpaces:_0x57c410=!0x1,allowToIncludeChar:_0x5265f9=!0x1,allowedPrefixes:_0x294533=['\x20'],startOfLine:_0x4c17b7=!0x1,decorationTag:_0x118dcb=_0x314f53(0x1a2),decorationClass:_0x4372a3='suggestion',decorationContent:_0x51815d='',decorationEmptyClass:_0xa47482=_0x314f53(0x18a),command:_0xba9924=()=>null,items:_0xf3f187=()=>[],render:_0x21134b=()=>({}),allow:_0x38d2dc=()=>!0x0,findSuggestionMatch:_0x279bdf=J}){let _0x517460;const _0x3c74e7=_0x21134b==null?void 0x0:_0x21134b(),_0x147f58=new _0x547384({'key':_0x26df34,'view'(){return{'update':async(_0x185baf,_0x3692ca)=>{const _0x137e34=_0xcde2;var _0x57dd5a,_0x29e737,_0x5b951e,_0x406ec1,_0x38eeec,_0x1db721,_0x16f398;const _0x2cad66=(_0x57dd5a=this['key'])===null||_0x57dd5a===void 0x0?void 0x0:_0x57dd5a[_0x137e34(0x1a8)](_0x3692ca),_0x211bb3=(_0x29e737=this[_0x137e34(0x1ae)])===null||_0x29e737===void 0x0?void 0x0:_0x29e737[_0x137e34(0x1a8)](_0x185baf['state']),_0x2acfca=_0x2cad66['active']&&_0x211bb3['active']&&_0x2cad66[_0x137e34(0x197)][_0x137e34(0x19d)]!==_0x211bb3[_0x137e34(0x197)][_0x137e34(0x19d)],_0x389c57=!_0x2cad66['active']&&_0x211bb3['active'],_0x29b634=_0x2cad66[_0x137e34(0x1a1)]&&!_0x211bb3[_0x137e34(0x1a1)],_0x1cb057=!_0x389c57&&!_0x29b634&&_0x2cad66[_0x137e34(0x184)]!==_0x211bb3['query'],_0x46242a=_0x389c57||_0x2acfca&&_0x1cb057,_0x3d7e1d=_0x1cb057||_0x2acfca,_0x3562fb=_0x29b634||_0x2acfca&&_0x1cb057;if(!_0x46242a&&!_0x3d7e1d&&!_0x3562fb)return;const _0x4d88ca=_0x3562fb&&!_0x46242a?_0x2cad66:_0x211bb3,_0x2d7260=_0x185baf['dom']['querySelector']('[data-decoration-id=\x22'+_0x4d88ca['decorationId']+'\x22]');_0x517460={'editor':_0x8801ff,'range':_0x4d88ca[_0x137e34(0x197)],'query':_0x4d88ca[_0x137e34(0x184)],'text':_0x4d88ca['text'],'items':[],'command':_0x4ad447=>_0xba9924({'editor':_0x8801ff,'range':_0x4d88ca[_0x137e34(0x197)],'props':_0x4ad447}),'decorationNode':_0x2d7260,'clientRect':_0x2d7260?()=>{const _0x1780fc=_0x137e34;var _0x4b9aaf;const {decorationId:_0x1f2798}=(_0x4b9aaf=this['key'])===null||_0x4b9aaf===void 0x0?void 0x0:_0x4b9aaf['getState'](_0x8801ff[_0x1780fc(0x1a7)]),_0x43862e=_0x185baf[_0x1780fc(0x1a0)][_0x1780fc(0x1ad)](_0x1780fc(0x1a3)+_0x1f2798+'\x22]');return(_0x43862e==null?void 0x0:_0x43862e[_0x1780fc(0x198)]())||null;}:null},_0x46242a&&((_0x5b951e=_0x3c74e7==null?void 0x0:_0x3c74e7[_0x137e34(0x195)])===null||_0x5b951e===void 0x0||_0x5b951e[_0x137e34(0x1af)](_0x3c74e7,_0x517460)),_0x3d7e1d&&((_0x406ec1=_0x3c74e7==null?void 0x0:_0x3c74e7[_0x137e34(0x1b5)])===null||_0x406ec1===void 0x0||_0x406ec1[_0x137e34(0x1af)](_0x3c74e7,_0x517460)),(_0x3d7e1d||_0x46242a)&&(_0x517460['items']=await _0xf3f187({'editor':_0x8801ff,'query':_0x4d88ca[_0x137e34(0x184)]})),_0x3562fb&&((_0x38eeec=_0x3c74e7==null?void 0x0:_0x3c74e7[_0x137e34(0x1b6)])===null||_0x38eeec===void 0x0||_0x38eeec[_0x137e34(0x1af)](_0x3c74e7,_0x517460)),_0x3d7e1d&&((_0x1db721=_0x3c74e7==null?void 0x0:_0x3c74e7['onUpdate'])===null||_0x1db721===void 0x0||_0x1db721[_0x137e34(0x1af)](_0x3c74e7,_0x517460)),_0x46242a&&((_0x16f398=_0x3c74e7==null?void 0x0:_0x3c74e7[_0x137e34(0x1b9)])===null||_0x16f398===void 0x0||_0x16f398[_0x137e34(0x1af)](_0x3c74e7,_0x517460));},'destroy':()=>{var _0x4c4f1a;_0x517460&&((_0x4c4f1a=_0x3c74e7==null?void 0x0:_0x3c74e7['onExit'])===null||_0x4c4f1a===void 0x0||_0x4c4f1a['call'](_0x3c74e7,_0x517460));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x4cd14d,_0x89642d,_0x318960,_0x27ae42){const _0x7f11e4=_0xcde2,{isEditable:_0x5c4fdf}=_0x8801ff,{composing:_0x41a04c}=_0x8801ff[_0x7f11e4(0x1a9)],{selection:_0x42b7f8}=_0x4cd14d,{empty:_0x14bd71,from:_0x5b7026}=_0x42b7f8,_0x190174={..._0x89642d};if(_0x190174['composing']=_0x41a04c,_0x5c4fdf&&(_0x14bd71||_0x8801ff[_0x7f11e4(0x1a9)][_0x7f11e4(0x1aa)])){(_0x5b7026<_0x89642d[_0x7f11e4(0x197)][_0x7f11e4(0x19d)]||_0x5b7026>_0x89642d['range']['to'])&&!_0x41a04c&&!_0x89642d[_0x7f11e4(0x1aa)]&&(_0x190174['active']=!0x1);const _0x355dd2=_0x279bdf({'char':_0x18468d,'allowSpaces':_0x57c410,'allowToIncludeChar':_0x5265f9,'allowedPrefixes':_0x294533,'startOfLine':_0x4c17b7,'$position':_0x42b7f8[_0x7f11e4(0x18c)]}),_0x50b229=_0x7f11e4(0x1a6)+Math[_0x7f11e4(0x18b)](Math[_0x7f11e4(0x1bb)]()*0xffffffff);_0x355dd2&&_0x38d2dc({'editor':_0x8801ff,'state':_0x27ae42,'range':_0x355dd2[_0x7f11e4(0x197)],'isActive':_0x89642d[_0x7f11e4(0x1a1)]})?(_0x190174['active']=!0x0,_0x190174[_0x7f11e4(0x1a5)]=_0x89642d['decorationId']?_0x89642d[_0x7f11e4(0x1a5)]:_0x50b229,_0x190174[_0x7f11e4(0x197)]=_0x355dd2[_0x7f11e4(0x197)],_0x190174[_0x7f11e4(0x184)]=_0x355dd2[_0x7f11e4(0x184)],_0x190174[_0x7f11e4(0x18f)]=_0x355dd2['text']):_0x190174[_0x7f11e4(0x1a1)]=!0x1;}else _0x190174[_0x7f11e4(0x1a1)]=!0x1;return _0x190174[_0x7f11e4(0x1a1)]||(_0x190174[_0x7f11e4(0x1a5)]=null,_0x190174[_0x7f11e4(0x197)]={'from':0x0,'to':0x0},_0x190174[_0x7f11e4(0x184)]=null,_0x190174[_0x7f11e4(0x18f)]=null),_0x190174;}},'props':{'handleKeyDown'(_0x30a6a7,_0xb9846e){const _0xbeae3c=_0xcde2;var _0x491ba5;const {active:_0x3b042f,range:_0xaf238b}=_0x147f58[_0xbeae3c(0x1a8)](_0x30a6a7['state']);return _0x3b042f&&((_0x491ba5=_0x3c74e7==null?void 0x0:_0x3c74e7['onKeyDown'])===null||_0x491ba5===void 0x0?void 0x0:_0x491ba5[_0xbeae3c(0x1af)](_0x3c74e7,{'view':_0x30a6a7,'event':_0xb9846e,'range':_0xaf238b}))||!0x1;},'decorations'(_0x5a1c4d){const _0x83c1c9=_0xcde2,{active:_0x5dd3ad,range:_0x327a8f,decorationId:_0x5ba026,query:_0x3520b1}=_0x147f58['getState'](_0x5a1c4d);if(!_0x5dd3ad)return null;const _0x47b8b9=!(_0x3520b1!=null&&_0x3520b1[_0x83c1c9(0x19c)]),_0x113c4c=[_0x4372a3];return _0x47b8b9&&_0x113c4c[_0x83c1c9(0x1b1)](_0xa47482),_0x21d53f[_0x83c1c9(0x190)](_0x5a1c4d['doc'],[_0x142ab9[_0x83c1c9(0x199)](_0x327a8f[_0x83c1c9(0x19d)],_0x327a8f['to'],{'nodeName':_0x118dcb,'class':_0x113c4c['join']('\x20'),'data-decoration-id':_0x5ba026,'data-decoration-content':_0x51815d})]);}}});return _0x147f58;}export{Y as S};