const _0x4d7533=_0x3da0;(function(_0x191933,_0x2d7376){const _0x32c1f0=_0x3da0,_0x57a775=_0x191933();while(!![]){try{const _0x4cb201=parseInt(_0x32c1f0(0x108))/0x1+parseInt(_0x32c1f0(0x12a))/0x2*(parseInt(_0x32c1f0(0x113))/0x3)+parseInt(_0x32c1f0(0x100))/0x4*(-parseInt(_0x32c1f0(0xff))/0x5)+-parseInt(_0x32c1f0(0x11d))/0x6*(-parseInt(_0x32c1f0(0x118))/0x7)+-parseInt(_0x32c1f0(0x115))/0x8+-parseInt(_0x32c1f0(0x10b))/0x9*(-parseInt(_0x32c1f0(0x132))/0xa)+parseInt(_0x32c1f0(0x131))/0xb*(-parseInt(_0x32c1f0(0x129))/0xc);if(_0x4cb201===_0x2d7376)break;else _0x57a775['push'](_0x57a775['shift']());}catch(_0x891436){_0x57a775['push'](_0x57a775['shift']());}}}(_0x49bb,0x51f52));function _0x49bb(){const _0x556011=['max','floor','length','308682wuTqov','input','getState','1053pjozGQ','composing','doc','random','is-empty','state','index','onExit','249BhTFvR','view','3250752mZjeTw','id_','key','14elukdV','(?:^)?','[data-decoration-id=\x22','from','suggestion','344838JvyZPe','$from','slice','dom','create','text','onKeyDown','getBoundingClientRect','.*?(?=\x5cs','decorationId','range','call','636RWYeTz','6792NWmCrr','nodeBefore','pos','[^\x5cs','inline','onUpdate','active','64702JniZVc','43830NJGPab','push','onBeforeStart','\x00]?$','join','822595EswQyE','4nyZKbU','query','onBeforeUpdate','test','isText'];_0x49bb=function(){return _0x556011;};return _0x49bb();}import{P as _0x52576d,a as _0x4522a7}from'./prosemirror-state-DcLGimL2.js';import{a as _0x586b1c,D as _0xfcd436}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x247ee8}from'./@tiptap.core-HsqG-hEX.js';function J(_0x521c63){const _0x3e8312=_0x3da0;var _0x180cdb;const {char:_0x345abd,allowSpaces:_0x234b78,allowToIncludeChar:_0x6cf446,allowedPrefixes:_0x5e98d3,startOfLine:_0x58cd4c,$position:_0x22122a}=_0x521c63,_0x3f2916=_0x234b78&&!_0x6cf446,_0x1f838f=_0x247ee8(_0x345abd),_0x411809=new RegExp('\x5cs'+_0x1f838f+'$'),_0x2364ed=_0x58cd4c?'^':'',_0x58fa9a=_0x6cf446?'':_0x1f838f,_0x2bf2dd=_0x3f2916?new RegExp(''+_0x2364ed+_0x1f838f+_0x3e8312(0x125)+_0x58fa9a+'|$)','gm'):new RegExp(_0x2364ed+_0x3e8312(0x119)+_0x1f838f+_0x3e8312(0x12d)+_0x58fa9a+']*','gm'),_0x174c73=((_0x180cdb=_0x22122a['nodeBefore'])===null||_0x180cdb===void 0x0?void 0x0:_0x180cdb[_0x3e8312(0x104)])&&_0x22122a[_0x3e8312(0x12b)][_0x3e8312(0x122)];if(!_0x174c73)return null;const _0x45ec91=_0x22122a['pos']-_0x174c73[_0x3e8312(0x107)],_0x16d59f=Array[_0x3e8312(0x11b)](_0x174c73['matchAll'](_0x2bf2dd))['pop']();if(!_0x16d59f||_0x16d59f['input']===void 0x0||_0x16d59f[_0x3e8312(0x111)]===void 0x0)return null;const _0xc6b6bc=_0x16d59f[_0x3e8312(0x109)][_0x3e8312(0x11f)](Math[_0x3e8312(0x105)](0x0,_0x16d59f['index']-0x1),_0x16d59f[_0x3e8312(0x111)]),_0x38e462=new RegExp('^['+(_0x5e98d3==null?void 0x0:_0x5e98d3[_0x3e8312(0xfe)](''))+_0x3e8312(0xfd))[_0x3e8312(0x103)](_0xc6b6bc);if(_0x5e98d3!==null&&!_0x38e462)return null;const _0x57c55f=_0x45ec91+_0x16d59f['index'];let _0x390c45=_0x57c55f+_0x16d59f[0x0][_0x3e8312(0x107)];return _0x3f2916&&_0x411809[_0x3e8312(0x103)](_0x174c73[_0x3e8312(0x11f)](_0x390c45-0x1,_0x390c45+0x1))&&(_0x16d59f[0x0]+='\x20',_0x390c45+=0x1),_0x57c55f<_0x22122a[_0x3e8312(0x12c)]&&_0x390c45>=_0x22122a[_0x3e8312(0x12c)]?{'range':{'from':_0x57c55f,'to':_0x390c45},'query':_0x16d59f[0x0][_0x3e8312(0x11f)](_0x345abd[_0x3e8312(0x107)]),'text':_0x16d59f[0x0]}:null;}const Q=new _0x4522a7(_0x4d7533(0x11c));function _0x3da0(_0xd5748b,_0x512815){_0xd5748b=_0xd5748b-0xfd;const _0x49bb4e=_0x49bb();let _0x3da053=_0x49bb4e[_0xd5748b];return _0x3da053;}function Y({pluginKey:_0x5b123d=Q,editor:_0x2124d3,char:_0x79f4e5='@',allowSpaces:_0x2d641f=!0x1,allowToIncludeChar:_0x3b17d2=!0x1,allowedPrefixes:_0xa7b174=['\x20'],startOfLine:_0x1c51b8=!0x1,decorationTag:_0x82b26b='span',decorationClass:_0x28e566=_0x4d7533(0x11c),decorationContent:_0x9874a5='',decorationEmptyClass:_0x6b710c=_0x4d7533(0x10f),command:_0x145f17=()=>null,items:_0x5c1efb=()=>[],render:_0x42a172=()=>({}),allow:_0x526c8f=()=>!0x0,findSuggestionMatch:_0x15d3b2=J}){let _0x3523ae;const _0x10d11c=_0x42a172==null?void 0x0:_0x42a172(),_0x2c0faf=new _0x52576d({'key':_0x5b123d,'view'(){return{'update':async(_0x2a2242,_0x55c8d7)=>{const _0x5852f9=_0x3da0;var _0x28fa4a,_0xa6c3fe,_0x2c9937,_0x49a316,_0x46f489,_0x381251,_0x281940;const _0xc54f2e=(_0x28fa4a=this['key'])===null||_0x28fa4a===void 0x0?void 0x0:_0x28fa4a[_0x5852f9(0x10a)](_0x55c8d7),_0x5bbf46=(_0xa6c3fe=this[_0x5852f9(0x117)])===null||_0xa6c3fe===void 0x0?void 0x0:_0xa6c3fe['getState'](_0x2a2242[_0x5852f9(0x110)]),_0x3bf587=_0xc54f2e[_0x5852f9(0x130)]&&_0x5bbf46[_0x5852f9(0x130)]&&_0xc54f2e[_0x5852f9(0x127)]['from']!==_0x5bbf46['range']['from'],_0xa1da42=!_0xc54f2e[_0x5852f9(0x130)]&&_0x5bbf46['active'],_0x11a71f=_0xc54f2e[_0x5852f9(0x130)]&&!_0x5bbf46['active'],_0x48a165=!_0xa1da42&&!_0x11a71f&&_0xc54f2e['query']!==_0x5bbf46[_0x5852f9(0x101)],_0xea0f4d=_0xa1da42||_0x3bf587&&_0x48a165,_0x9a4907=_0x48a165||_0x3bf587,_0x548fe7=_0x11a71f||_0x3bf587&&_0x48a165;if(!_0xea0f4d&&!_0x9a4907&&!_0x548fe7)return;const _0x114e03=_0x548fe7&&!_0xea0f4d?_0xc54f2e:_0x5bbf46,_0x4a13bd=_0x2a2242['dom']['querySelector'](_0x5852f9(0x11a)+_0x114e03[_0x5852f9(0x126)]+'\x22]');_0x3523ae={'editor':_0x2124d3,'range':_0x114e03[_0x5852f9(0x127)],'query':_0x114e03[_0x5852f9(0x101)],'text':_0x114e03[_0x5852f9(0x122)],'items':[],'command':_0x3f7050=>_0x145f17({'editor':_0x2124d3,'range':_0x114e03[_0x5852f9(0x127)],'props':_0x3f7050}),'decorationNode':_0x4a13bd,'clientRect':_0x4a13bd?()=>{const _0x368049=_0x5852f9;var _0x22c4eb;const {decorationId:_0x5add2f}=(_0x22c4eb=this[_0x368049(0x117)])===null||_0x22c4eb===void 0x0?void 0x0:_0x22c4eb[_0x368049(0x10a)](_0x2124d3[_0x368049(0x110)]),_0x5e0778=_0x2a2242[_0x368049(0x120)]['querySelector'](_0x368049(0x11a)+_0x5add2f+'\x22]');return(_0x5e0778==null?void 0x0:_0x5e0778[_0x368049(0x124)]())||null;}:null},_0xea0f4d&&((_0x2c9937=_0x10d11c==null?void 0x0:_0x10d11c[_0x5852f9(0x134)])===null||_0x2c9937===void 0x0||_0x2c9937[_0x5852f9(0x128)](_0x10d11c,_0x3523ae)),_0x9a4907&&((_0x49a316=_0x10d11c==null?void 0x0:_0x10d11c[_0x5852f9(0x102)])===null||_0x49a316===void 0x0||_0x49a316[_0x5852f9(0x128)](_0x10d11c,_0x3523ae)),(_0x9a4907||_0xea0f4d)&&(_0x3523ae['items']=await _0x5c1efb({'editor':_0x2124d3,'query':_0x114e03[_0x5852f9(0x101)]})),_0x548fe7&&((_0x46f489=_0x10d11c==null?void 0x0:_0x10d11c[_0x5852f9(0x112)])===null||_0x46f489===void 0x0||_0x46f489[_0x5852f9(0x128)](_0x10d11c,_0x3523ae)),_0x9a4907&&((_0x381251=_0x10d11c==null?void 0x0:_0x10d11c[_0x5852f9(0x12f)])===null||_0x381251===void 0x0||_0x381251[_0x5852f9(0x128)](_0x10d11c,_0x3523ae)),_0xea0f4d&&((_0x281940=_0x10d11c==null?void 0x0:_0x10d11c['onStart'])===null||_0x281940===void 0x0||_0x281940[_0x5852f9(0x128)](_0x10d11c,_0x3523ae));},'destroy':()=>{const _0x5a7e98=_0x3da0;var _0x16ea6f;_0x3523ae&&((_0x16ea6f=_0x10d11c==null?void 0x0:_0x10d11c[_0x5a7e98(0x112)])===null||_0x16ea6f===void 0x0||_0x16ea6f[_0x5a7e98(0x128)](_0x10d11c,_0x3523ae));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x401f70,_0x4a6f25,_0x41f813,_0x300420){const _0x3c1d98=_0x3da0,{isEditable:_0x109f29}=_0x2124d3,{composing:_0x5b45ba}=_0x2124d3[_0x3c1d98(0x114)],{selection:_0x295d34}=_0x401f70,{empty:_0x593d10,from:_0x483e6b}=_0x295d34,_0xd9b665={..._0x4a6f25};if(_0xd9b665[_0x3c1d98(0x10c)]=_0x5b45ba,_0x109f29&&(_0x593d10||_0x2124d3['view'][_0x3c1d98(0x10c)])){(_0x483e6b<_0x4a6f25[_0x3c1d98(0x127)][_0x3c1d98(0x11b)]||_0x483e6b>_0x4a6f25[_0x3c1d98(0x127)]['to'])&&!_0x5b45ba&&!_0x4a6f25['composing']&&(_0xd9b665[_0x3c1d98(0x130)]=!0x1);const _0x16fe7a=_0x15d3b2({'char':_0x79f4e5,'allowSpaces':_0x2d641f,'allowToIncludeChar':_0x3b17d2,'allowedPrefixes':_0xa7b174,'startOfLine':_0x1c51b8,'$position':_0x295d34[_0x3c1d98(0x11e)]}),_0x471f34=_0x3c1d98(0x116)+Math[_0x3c1d98(0x106)](Math[_0x3c1d98(0x10e)]()*0xffffffff);_0x16fe7a&&_0x526c8f({'editor':_0x2124d3,'state':_0x300420,'range':_0x16fe7a[_0x3c1d98(0x127)],'isActive':_0x4a6f25[_0x3c1d98(0x130)]})?(_0xd9b665[_0x3c1d98(0x130)]=!0x0,_0xd9b665[_0x3c1d98(0x126)]=_0x4a6f25['decorationId']?_0x4a6f25[_0x3c1d98(0x126)]:_0x471f34,_0xd9b665[_0x3c1d98(0x127)]=_0x16fe7a[_0x3c1d98(0x127)],_0xd9b665[_0x3c1d98(0x101)]=_0x16fe7a[_0x3c1d98(0x101)],_0xd9b665[_0x3c1d98(0x122)]=_0x16fe7a[_0x3c1d98(0x122)]):_0xd9b665[_0x3c1d98(0x130)]=!0x1;}else _0xd9b665[_0x3c1d98(0x130)]=!0x1;return _0xd9b665[_0x3c1d98(0x130)]||(_0xd9b665[_0x3c1d98(0x126)]=null,_0xd9b665[_0x3c1d98(0x127)]={'from':0x0,'to':0x0},_0xd9b665[_0x3c1d98(0x101)]=null,_0xd9b665[_0x3c1d98(0x122)]=null),_0xd9b665;}},'props':{'handleKeyDown'(_0x48336e,_0x15a996){const _0x3ba74b=_0x3da0;var _0x3b8b7d;const {active:_0x4e2880,range:_0x170d03}=_0x2c0faf[_0x3ba74b(0x10a)](_0x48336e[_0x3ba74b(0x110)]);return _0x4e2880&&((_0x3b8b7d=_0x10d11c==null?void 0x0:_0x10d11c[_0x3ba74b(0x123)])===null||_0x3b8b7d===void 0x0?void 0x0:_0x3b8b7d[_0x3ba74b(0x128)](_0x10d11c,{'view':_0x48336e,'event':_0x15a996,'range':_0x170d03}))||!0x1;},'decorations'(_0x1c753e){const _0x1599d8=_0x3da0,{active:_0x4b8396,range:_0x4d6796,decorationId:_0x4b70ad,query:_0x238cdc}=_0x2c0faf[_0x1599d8(0x10a)](_0x1c753e);if(!_0x4b8396)return null;const _0x4e9a3e=!(_0x238cdc!=null&&_0x238cdc['length']),_0x3397e8=[_0x28e566];return _0x4e9a3e&&_0x3397e8[_0x1599d8(0x133)](_0x6b710c),_0x586b1c[_0x1599d8(0x121)](_0x1c753e[_0x1599d8(0x10d)],[_0xfcd436[_0x1599d8(0x12e)](_0x4d6796['from'],_0x4d6796['to'],{'nodeName':_0x82b26b,'class':_0x3397e8[_0x1599d8(0xfe)]('\x20'),'data-decoration-id':_0x4b70ad,'data-decoration-content':_0x9874a5})]);}}});return _0x2c0faf;}export{Y as S};