const _0xae400d=_0x5d4e;(function(_0x9e9d9e,_0xf62fda){const _0x5ec714=_0x5d4e,_0x470ab7=_0x9e9d9e();while(!![]){try{const _0x1ae173=-parseInt(_0x5ec714(0x160))/0x1*(-parseInt(_0x5ec714(0x157))/0x2)+parseInt(_0x5ec714(0x155))/0x3+parseInt(_0x5ec714(0x184))/0x4+-parseInt(_0x5ec714(0x156))/0x5*(-parseInt(_0x5ec714(0x17b))/0x6)+parseInt(_0x5ec714(0x163))/0x7+parseInt(_0x5ec714(0x16e))/0x8+-parseInt(_0x5ec714(0x166))/0x9*(parseInt(_0x5ec714(0x183))/0xa);if(_0x1ae173===_0xf62fda)break;else _0x470ab7['push'](_0x470ab7['shift']());}catch(_0x27fbb1){_0x470ab7['push'](_0x470ab7['shift']());}}}(_0x15e6,0x4a148));import{P as _0x16f219,a as _0x394af6}from'./prosemirror-state-DcLGimL2.js';function _0x15e6(){const _0x34bef4=['pop','onBeforeUpdate','3840627TBAUQW','onExit','from','14699871IDAMcW','id_','view','items','$from','onKeyDown','suggestion','index','2349576DYZCDT','(?:^)?','floor','onUpdate','test','key','call','getState','slice','nodeBefore','input','onStart','state','1702572oAWuOl','length','composing','pos','querySelector','is-empty','push','|$)','10zqWQoI','1015220pkCAdH','matchAll','range','dom','query','.*?(?=\x5cs','active','667401DVIGpY','10dBzbuB','5326WWkpqd','inline','doc','create','decorationId','[^\x5cs','getBoundingClientRect','[data-decoration-id=\x22','text','19enVMWT'];_0x15e6=function(){return _0x34bef4;};return _0x15e6();}import{a as _0x486df4,D as _0x27b802}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x532fa2}from'./@tiptap.core-HsqG-hEX.js';function J(_0x1f0e60){const _0x17e1bc=_0x5d4e;var _0x4044ba;const {char:_0x3055a4,allowSpaces:_0x54f53a,allowToIncludeChar:_0x1ba092,allowedPrefixes:_0x3510da,startOfLine:_0x4897f7,$position:_0x577404}=_0x1f0e60,_0x74050c=_0x54f53a&&!_0x1ba092,_0x3a5cd6=_0x532fa2(_0x3055a4),_0x1b0054=new RegExp('\x5cs'+_0x3a5cd6+'$'),_0xa1a2ab=_0x4897f7?'^':'',_0x2e97ca=_0x1ba092?'':_0x3a5cd6,_0x232efa=_0x74050c?new RegExp(''+_0xa1a2ab+_0x3a5cd6+_0x17e1bc(0x153)+_0x2e97ca+_0x17e1bc(0x182),'gm'):new RegExp(_0xa1a2ab+_0x17e1bc(0x16f)+_0x3a5cd6+_0x17e1bc(0x15c)+_0x2e97ca+']*','gm'),_0x3a1c1b=((_0x4044ba=_0x577404[_0x17e1bc(0x177)])===null||_0x4044ba===void 0x0?void 0x0:_0x4044ba['isText'])&&_0x577404[_0x17e1bc(0x177)][_0x17e1bc(0x15f)];if(!_0x3a1c1b)return null;const _0x25ee35=_0x577404[_0x17e1bc(0x17e)]-_0x3a1c1b[_0x17e1bc(0x17c)],_0x526a2b=Array['from'](_0x3a1c1b[_0x17e1bc(0x185)](_0x232efa))[_0x17e1bc(0x161)]();if(!_0x526a2b||_0x526a2b[_0x17e1bc(0x178)]===void 0x0||_0x526a2b[_0x17e1bc(0x16d)]===void 0x0)return null;const _0x26d768=_0x526a2b['input'][_0x17e1bc(0x176)](Math['max'](0x0,_0x526a2b[_0x17e1bc(0x16d)]-0x1),_0x526a2b[_0x17e1bc(0x16d)]),_0x3e36ae=new RegExp('^['+(_0x3510da==null?void 0x0:_0x3510da['join'](''))+'\x00]?$')[_0x17e1bc(0x172)](_0x26d768);if(_0x3510da!==null&&!_0x3e36ae)return null;const _0x69d31f=_0x25ee35+_0x526a2b[_0x17e1bc(0x16d)];let _0x11b7c5=_0x69d31f+_0x526a2b[0x0]['length'];return _0x74050c&&_0x1b0054[_0x17e1bc(0x172)](_0x3a1c1b['slice'](_0x11b7c5-0x1,_0x11b7c5+0x1))&&(_0x526a2b[0x0]+='\x20',_0x11b7c5+=0x1),_0x69d31f<_0x577404[_0x17e1bc(0x17e)]&&_0x11b7c5>=_0x577404[_0x17e1bc(0x17e)]?{'range':{'from':_0x69d31f,'to':_0x11b7c5},'query':_0x526a2b[0x0][_0x17e1bc(0x176)](_0x3055a4[_0x17e1bc(0x17c)]),'text':_0x526a2b[0x0]}:null;}const Q=new _0x394af6(_0xae400d(0x16c));function _0x5d4e(_0x18d7e3,_0x340459){_0x18d7e3=_0x18d7e3-0x150;const _0x15e648=_0x15e6();let _0x5d4e0f=_0x15e648[_0x18d7e3];return _0x5d4e0f;}function Y({pluginKey:_0x4d1854=Q,editor:_0x55171f,char:_0x4e56d2='@',allowSpaces:_0x187d17=!0x1,allowToIncludeChar:_0x37a85a=!0x1,allowedPrefixes:_0x486e79=['\x20'],startOfLine:_0x1a3c9e=!0x1,decorationTag:_0x1a34be='span',decorationClass:_0x174a47=_0xae400d(0x16c),decorationContent:_0x364dde='',decorationEmptyClass:_0x53dffa=_0xae400d(0x180),command:_0x1b4921=()=>null,items:_0x41dc5d=()=>[],render:_0xa803f8=()=>({}),allow:_0x4e3e89=()=>!0x0,findSuggestionMatch:_0x1c44dd=J}){let _0x45e3e1;const _0x3ddba5=_0xa803f8==null?void 0x0:_0xa803f8(),_0x2f9297=new _0x16f219({'key':_0x4d1854,'view'(){return{'update':async(_0x27c55c,_0x38f75c)=>{const _0x3c0bcd=_0x5d4e;var _0x263075,_0x4bfee8,_0x4fa074,_0x39b645,_0x4a88a3,_0x2a1954,_0x236bf1;const _0x35de53=(_0x263075=this[_0x3c0bcd(0x173)])===null||_0x263075===void 0x0?void 0x0:_0x263075['getState'](_0x38f75c),_0x577f5e=(_0x4bfee8=this['key'])===null||_0x4bfee8===void 0x0?void 0x0:_0x4bfee8['getState'](_0x27c55c['state']),_0x301c32=_0x35de53[_0x3c0bcd(0x154)]&&_0x577f5e[_0x3c0bcd(0x154)]&&_0x35de53[_0x3c0bcd(0x150)][_0x3c0bcd(0x165)]!==_0x577f5e[_0x3c0bcd(0x150)][_0x3c0bcd(0x165)],_0x1128fb=!_0x35de53[_0x3c0bcd(0x154)]&&_0x577f5e[_0x3c0bcd(0x154)],_0x218008=_0x35de53[_0x3c0bcd(0x154)]&&!_0x577f5e[_0x3c0bcd(0x154)],_0x19fb1c=!_0x1128fb&&!_0x218008&&_0x35de53[_0x3c0bcd(0x152)]!==_0x577f5e[_0x3c0bcd(0x152)],_0x23a79d=_0x1128fb||_0x301c32&&_0x19fb1c,_0x41f573=_0x19fb1c||_0x301c32,_0x2c09a2=_0x218008||_0x301c32&&_0x19fb1c;if(!_0x23a79d&&!_0x41f573&&!_0x2c09a2)return;const _0x23e0fb=_0x2c09a2&&!_0x23a79d?_0x35de53:_0x577f5e,_0x5006b5=_0x27c55c[_0x3c0bcd(0x151)][_0x3c0bcd(0x17f)](_0x3c0bcd(0x15e)+_0x23e0fb['decorationId']+'\x22]');_0x45e3e1={'editor':_0x55171f,'range':_0x23e0fb[_0x3c0bcd(0x150)],'query':_0x23e0fb[_0x3c0bcd(0x152)],'text':_0x23e0fb['text'],'items':[],'command':_0x4cbc41=>_0x1b4921({'editor':_0x55171f,'range':_0x23e0fb['range'],'props':_0x4cbc41}),'decorationNode':_0x5006b5,'clientRect':_0x5006b5?()=>{const _0xcfbb3d=_0x3c0bcd;var _0x35a724;const {decorationId:_0x2870fa}=(_0x35a724=this[_0xcfbb3d(0x173)])===null||_0x35a724===void 0x0?void 0x0:_0x35a724[_0xcfbb3d(0x175)](_0x55171f[_0xcfbb3d(0x17a)]),_0xd72475=_0x27c55c[_0xcfbb3d(0x151)]['querySelector'](_0xcfbb3d(0x15e)+_0x2870fa+'\x22]');return(_0xd72475==null?void 0x0:_0xd72475[_0xcfbb3d(0x15d)]())||null;}:null},_0x23a79d&&((_0x4fa074=_0x3ddba5==null?void 0x0:_0x3ddba5['onBeforeStart'])===null||_0x4fa074===void 0x0||_0x4fa074[_0x3c0bcd(0x174)](_0x3ddba5,_0x45e3e1)),_0x41f573&&((_0x39b645=_0x3ddba5==null?void 0x0:_0x3ddba5[_0x3c0bcd(0x162)])===null||_0x39b645===void 0x0||_0x39b645['call'](_0x3ddba5,_0x45e3e1)),(_0x41f573||_0x23a79d)&&(_0x45e3e1[_0x3c0bcd(0x169)]=await _0x41dc5d({'editor':_0x55171f,'query':_0x23e0fb[_0x3c0bcd(0x152)]})),_0x2c09a2&&((_0x4a88a3=_0x3ddba5==null?void 0x0:_0x3ddba5[_0x3c0bcd(0x164)])===null||_0x4a88a3===void 0x0||_0x4a88a3['call'](_0x3ddba5,_0x45e3e1)),_0x41f573&&((_0x2a1954=_0x3ddba5==null?void 0x0:_0x3ddba5[_0x3c0bcd(0x171)])===null||_0x2a1954===void 0x0||_0x2a1954[_0x3c0bcd(0x174)](_0x3ddba5,_0x45e3e1)),_0x23a79d&&((_0x236bf1=_0x3ddba5==null?void 0x0:_0x3ddba5[_0x3c0bcd(0x179)])===null||_0x236bf1===void 0x0||_0x236bf1[_0x3c0bcd(0x174)](_0x3ddba5,_0x45e3e1));},'destroy':()=>{const _0x24ce7d=_0x5d4e;var _0x328232;_0x45e3e1&&((_0x328232=_0x3ddba5==null?void 0x0:_0x3ddba5[_0x24ce7d(0x164)])===null||_0x328232===void 0x0||_0x328232[_0x24ce7d(0x174)](_0x3ddba5,_0x45e3e1));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x48b94a,_0x22fab3,_0x362a9e,_0x37e91b){const _0x3a0c94=_0x5d4e,{isEditable:_0x1c07cd}=_0x55171f,{composing:_0x4a42f9}=_0x55171f[_0x3a0c94(0x168)],{selection:_0x3f3fc4}=_0x48b94a,{empty:_0x17bbb9,from:_0x1f6ccc}=_0x3f3fc4,_0x396f6c={..._0x22fab3};if(_0x396f6c['composing']=_0x4a42f9,_0x1c07cd&&(_0x17bbb9||_0x55171f['view'][_0x3a0c94(0x17d)])){(_0x1f6ccc<_0x22fab3[_0x3a0c94(0x150)][_0x3a0c94(0x165)]||_0x1f6ccc>_0x22fab3[_0x3a0c94(0x150)]['to'])&&!_0x4a42f9&&!_0x22fab3[_0x3a0c94(0x17d)]&&(_0x396f6c[_0x3a0c94(0x154)]=!0x1);const _0x7fc096=_0x1c44dd({'char':_0x4e56d2,'allowSpaces':_0x187d17,'allowToIncludeChar':_0x37a85a,'allowedPrefixes':_0x486e79,'startOfLine':_0x1a3c9e,'$position':_0x3f3fc4[_0x3a0c94(0x16a)]}),_0x32d414=_0x3a0c94(0x167)+Math[_0x3a0c94(0x170)](Math['random']()*0xffffffff);_0x7fc096&&_0x4e3e89({'editor':_0x55171f,'state':_0x37e91b,'range':_0x7fc096[_0x3a0c94(0x150)],'isActive':_0x22fab3[_0x3a0c94(0x154)]})?(_0x396f6c['active']=!0x0,_0x396f6c[_0x3a0c94(0x15b)]=_0x22fab3[_0x3a0c94(0x15b)]?_0x22fab3[_0x3a0c94(0x15b)]:_0x32d414,_0x396f6c['range']=_0x7fc096['range'],_0x396f6c[_0x3a0c94(0x152)]=_0x7fc096[_0x3a0c94(0x152)],_0x396f6c[_0x3a0c94(0x15f)]=_0x7fc096[_0x3a0c94(0x15f)]):_0x396f6c['active']=!0x1;}else _0x396f6c[_0x3a0c94(0x154)]=!0x1;return _0x396f6c['active']||(_0x396f6c['decorationId']=null,_0x396f6c[_0x3a0c94(0x150)]={'from':0x0,'to':0x0},_0x396f6c[_0x3a0c94(0x152)]=null,_0x396f6c[_0x3a0c94(0x15f)]=null),_0x396f6c;}},'props':{'handleKeyDown'(_0x3323c2,_0x98f0c9){const _0x3ff81b=_0x5d4e;var _0x1cd1b5;const {active:_0x2e53e3,range:_0x43825c}=_0x2f9297['getState'](_0x3323c2[_0x3ff81b(0x17a)]);return _0x2e53e3&&((_0x1cd1b5=_0x3ddba5==null?void 0x0:_0x3ddba5[_0x3ff81b(0x16b)])===null||_0x1cd1b5===void 0x0?void 0x0:_0x1cd1b5[_0x3ff81b(0x174)](_0x3ddba5,{'view':_0x3323c2,'event':_0x98f0c9,'range':_0x43825c}))||!0x1;},'decorations'(_0x529f7b){const _0x4473d0=_0x5d4e,{active:_0x1ced64,range:_0x38f4b7,decorationId:_0x5583d1,query:_0x598e5c}=_0x2f9297[_0x4473d0(0x175)](_0x529f7b);if(!_0x1ced64)return null;const _0x4f6538=!(_0x598e5c!=null&&_0x598e5c[_0x4473d0(0x17c)]),_0x342f85=[_0x174a47];return _0x4f6538&&_0x342f85[_0x4473d0(0x181)](_0x53dffa),_0x486df4[_0x4473d0(0x15a)](_0x529f7b[_0x4473d0(0x159)],[_0x27b802[_0x4473d0(0x158)](_0x38f4b7[_0x4473d0(0x165)],_0x38f4b7['to'],{'nodeName':_0x1a34be,'class':_0x342f85['join']('\x20'),'data-decoration-id':_0x5583d1,'data-decoration-content':_0x364dde})]);}}});return _0x2f9297;}export{Y as S};