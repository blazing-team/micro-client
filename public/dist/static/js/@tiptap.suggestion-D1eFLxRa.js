const _0x379f26=_0x2d19;(function(_0x4e7c20,_0x40eb1d){const _0x16c225=_0x2d19,_0x31a1d8=_0x4e7c20();while(!![]){try{const _0x124811=parseInt(_0x16c225(0x19d))/0x1+parseInt(_0x16c225(0x17c))/0x2+-parseInt(_0x16c225(0x196))/0x3+parseInt(_0x16c225(0x1a2))/0x4*(parseInt(_0x16c225(0x17b))/0x5)+-parseInt(_0x16c225(0x19f))/0x6*(-parseInt(_0x16c225(0x179))/0x7)+parseInt(_0x16c225(0x18f))/0x8*(-parseInt(_0x16c225(0x19b))/0x9)+parseInt(_0x16c225(0x1a7))/0xa;if(_0x124811===_0x40eb1d)break;else _0x31a1d8['push'](_0x31a1d8['shift']());}catch(_0xfce8c){_0x31a1d8['push'](_0x31a1d8['shift']());}}}(_0x3629,0xf3814));function _0x3629(){const _0x490bc1=['inline','13674990UaiElg','composing','active','id_','70InDyIX','isText','4203805ENYwbU','474352ZPDAQT','pop','querySelector','nodeBefore','floor','view','index','range','test','query','max','slice','.*?(?=\x5cs','text','[data-decoration-id=\x22','onUpdate','random','|$)','\x00]?$','1813984wOboRn','pos','join','dom','suggestion','from','$from','2862579rVfRRI','items','input','span','is-empty','72djNuIS','onKeyDown','436957cAcyoK','key','529908zgvMTR','call','decorationId','4KNYcyi','getState','state','length'];_0x3629=function(){return _0x490bc1;};return _0x3629();}function _0x2d19(_0x2fef50,_0x2ece6f){_0x2fef50=_0x2fef50-0x178;const _0x362908=_0x3629();let _0x2d19d5=_0x362908[_0x2fef50];return _0x2d19d5;}import{P as _0x50da09,a as _0x2f070d}from'./prosemirror-state-DcLGimL2.js';import{a as _0x27b6be,D as _0x3d4878}from'./prosemirror-view-DEGNo2BM.js';import{o as _0x3a6593}from'./@tiptap.core-HsqG-hEX.js';function J(_0x455fc3){const _0x360b19=_0x2d19;var _0xcd401e;const {char:_0x5c4061,allowSpaces:_0x38c27b,allowToIncludeChar:_0x1c0202,allowedPrefixes:_0x177809,startOfLine:_0x11eaf8,$position:_0x4b5dad}=_0x455fc3,_0x15a276=_0x38c27b&&!_0x1c0202,_0xf8684c=_0x3a6593(_0x5c4061),_0xe5e60f=new RegExp('\x5cs'+_0xf8684c+'$'),_0x4606ee=_0x11eaf8?'^':'',_0x43af97=_0x1c0202?'':_0xf8684c,_0x24a8d2=_0x15a276?new RegExp(''+_0x4606ee+_0xf8684c+_0x360b19(0x188)+_0x43af97+_0x360b19(0x18d),'gm'):new RegExp(_0x4606ee+'(?:^)?'+_0xf8684c+'[^\x5cs'+_0x43af97+']*','gm'),_0x224b8c=((_0xcd401e=_0x4b5dad[_0x360b19(0x17f)])===null||_0xcd401e===void 0x0?void 0x0:_0xcd401e[_0x360b19(0x17a)])&&_0x4b5dad['nodeBefore']['text'];if(!_0x224b8c)return null;const _0x4eafe4=_0x4b5dad[_0x360b19(0x190)]-_0x224b8c[_0x360b19(0x1a5)],_0x56c82a=Array['from'](_0x224b8c['matchAll'](_0x24a8d2))[_0x360b19(0x17d)]();if(!_0x56c82a||_0x56c82a[_0x360b19(0x198)]===void 0x0||_0x56c82a['index']===void 0x0)return null;const _0x3ca771=_0x56c82a[_0x360b19(0x198)][_0x360b19(0x187)](Math[_0x360b19(0x186)](0x0,_0x56c82a['index']-0x1),_0x56c82a[_0x360b19(0x182)]),_0x25c0a9=new RegExp('^['+(_0x177809==null?void 0x0:_0x177809[_0x360b19(0x191)](''))+_0x360b19(0x18e))[_0x360b19(0x184)](_0x3ca771);if(_0x177809!==null&&!_0x25c0a9)return null;const _0x5f4b45=_0x4eafe4+_0x56c82a[_0x360b19(0x182)];let _0x4ce751=_0x5f4b45+_0x56c82a[0x0][_0x360b19(0x1a5)];return _0x15a276&&_0xe5e60f[_0x360b19(0x184)](_0x224b8c[_0x360b19(0x187)](_0x4ce751-0x1,_0x4ce751+0x1))&&(_0x56c82a[0x0]+='\x20',_0x4ce751+=0x1),_0x5f4b45<_0x4b5dad['pos']&&_0x4ce751>=_0x4b5dad[_0x360b19(0x190)]?{'range':{'from':_0x5f4b45,'to':_0x4ce751},'query':_0x56c82a[0x0][_0x360b19(0x187)](_0x5c4061['length']),'text':_0x56c82a[0x0]}:null;}const Q=new _0x2f070d(_0x379f26(0x193));function Y({pluginKey:_0x548978=Q,editor:_0x14fcff,char:_0x502744='@',allowSpaces:_0x293bb7=!0x1,allowToIncludeChar:_0x3b95ec=!0x1,allowedPrefixes:_0x502fb3=['\x20'],startOfLine:_0x367c4b=!0x1,decorationTag:_0x3678a3=_0x379f26(0x199),decorationClass:_0x39a3fc='suggestion',decorationContent:_0x1433eb='',decorationEmptyClass:_0x1d15be=_0x379f26(0x19a),command:_0x2d8baf=()=>null,items:_0x2a1afc=()=>[],render:_0x2040b6=()=>({}),allow:_0x47d95b=()=>!0x0,findSuggestionMatch:_0x1a5304=J}){let _0x3e7590;const _0x4313eb=_0x2040b6==null?void 0x0:_0x2040b6(),_0x592e7b=new _0x50da09({'key':_0x548978,'view'(){return{'update':async(_0x3c3d8e,_0x171f6c)=>{const _0x514f3a=_0x2d19;var _0x2594b5,_0x2765ee,_0x11b992,_0x1a3b2e,_0x102886,_0x3efa0a,_0x3a0c5a;const _0x558110=(_0x2594b5=this[_0x514f3a(0x19e)])===null||_0x2594b5===void 0x0?void 0x0:_0x2594b5[_0x514f3a(0x1a3)](_0x171f6c),_0x1143e3=(_0x2765ee=this[_0x514f3a(0x19e)])===null||_0x2765ee===void 0x0?void 0x0:_0x2765ee['getState'](_0x3c3d8e['state']),_0xe3fcd0=_0x558110[_0x514f3a(0x1a9)]&&_0x1143e3[_0x514f3a(0x1a9)]&&_0x558110[_0x514f3a(0x183)][_0x514f3a(0x194)]!==_0x1143e3['range'][_0x514f3a(0x194)],_0x10f247=!_0x558110[_0x514f3a(0x1a9)]&&_0x1143e3[_0x514f3a(0x1a9)],_0x3ce0c2=_0x558110['active']&&!_0x1143e3[_0x514f3a(0x1a9)],_0x5076c3=!_0x10f247&&!_0x3ce0c2&&_0x558110[_0x514f3a(0x185)]!==_0x1143e3[_0x514f3a(0x185)],_0x1b1861=_0x10f247||_0xe3fcd0&&_0x5076c3,_0x5606c1=_0x5076c3||_0xe3fcd0,_0x458191=_0x3ce0c2||_0xe3fcd0&&_0x5076c3;if(!_0x1b1861&&!_0x5606c1&&!_0x458191)return;const _0x51a38b=_0x458191&&!_0x1b1861?_0x558110:_0x1143e3,_0x1481e6=_0x3c3d8e[_0x514f3a(0x192)][_0x514f3a(0x17e)](_0x514f3a(0x18a)+_0x51a38b[_0x514f3a(0x1a1)]+'\x22]');_0x3e7590={'editor':_0x14fcff,'range':_0x51a38b[_0x514f3a(0x183)],'query':_0x51a38b[_0x514f3a(0x185)],'text':_0x51a38b['text'],'items':[],'command':_0x114353=>_0x2d8baf({'editor':_0x14fcff,'range':_0x51a38b['range'],'props':_0x114353}),'decorationNode':_0x1481e6,'clientRect':_0x1481e6?()=>{const _0x19a68e=_0x514f3a;var _0x5e5e92;const {decorationId:_0x136bfe}=(_0x5e5e92=this[_0x19a68e(0x19e)])===null||_0x5e5e92===void 0x0?void 0x0:_0x5e5e92[_0x19a68e(0x1a3)](_0x14fcff[_0x19a68e(0x1a4)]),_0x47f635=_0x3c3d8e['dom'][_0x19a68e(0x17e)]('[data-decoration-id=\x22'+_0x136bfe+'\x22]');return(_0x47f635==null?void 0x0:_0x47f635['getBoundingClientRect']())||null;}:null},_0x1b1861&&((_0x11b992=_0x4313eb==null?void 0x0:_0x4313eb['onBeforeStart'])===null||_0x11b992===void 0x0||_0x11b992['call'](_0x4313eb,_0x3e7590)),_0x5606c1&&((_0x1a3b2e=_0x4313eb==null?void 0x0:_0x4313eb['onBeforeUpdate'])===null||_0x1a3b2e===void 0x0||_0x1a3b2e['call'](_0x4313eb,_0x3e7590)),(_0x5606c1||_0x1b1861)&&(_0x3e7590[_0x514f3a(0x197)]=await _0x2a1afc({'editor':_0x14fcff,'query':_0x51a38b['query']})),_0x458191&&((_0x102886=_0x4313eb==null?void 0x0:_0x4313eb['onExit'])===null||_0x102886===void 0x0||_0x102886[_0x514f3a(0x1a0)](_0x4313eb,_0x3e7590)),_0x5606c1&&((_0x3efa0a=_0x4313eb==null?void 0x0:_0x4313eb[_0x514f3a(0x18b)])===null||_0x3efa0a===void 0x0||_0x3efa0a[_0x514f3a(0x1a0)](_0x4313eb,_0x3e7590)),_0x1b1861&&((_0x3a0c5a=_0x4313eb==null?void 0x0:_0x4313eb['onStart'])===null||_0x3a0c5a===void 0x0||_0x3a0c5a['call'](_0x4313eb,_0x3e7590));},'destroy':()=>{const _0x478de9=_0x2d19;var _0xcd8b73;_0x3e7590&&((_0xcd8b73=_0x4313eb==null?void 0x0:_0x4313eb['onExit'])===null||_0xcd8b73===void 0x0||_0xcd8b73[_0x478de9(0x1a0)](_0x4313eb,_0x3e7590));}};},'state':{'init'(){return{'active':!0x1,'range':{'from':0x0,'to':0x0},'query':null,'text':null,'composing':!0x1};},'apply'(_0x19a4b6,_0x5f4074,_0x50a43f,_0x3cc583){const _0x63f178=_0x2d19,{isEditable:_0x40c0d7}=_0x14fcff,{composing:_0x1300e5}=_0x14fcff[_0x63f178(0x181)],{selection:_0x3cdd3e}=_0x19a4b6,{empty:_0x5d64c3,from:_0x64d45f}=_0x3cdd3e,_0x3bc9ed={..._0x5f4074};if(_0x3bc9ed[_0x63f178(0x1a8)]=_0x1300e5,_0x40c0d7&&(_0x5d64c3||_0x14fcff[_0x63f178(0x181)][_0x63f178(0x1a8)])){(_0x64d45f<_0x5f4074[_0x63f178(0x183)]['from']||_0x64d45f>_0x5f4074['range']['to'])&&!_0x1300e5&&!_0x5f4074[_0x63f178(0x1a8)]&&(_0x3bc9ed[_0x63f178(0x1a9)]=!0x1);const _0x1dcad2=_0x1a5304({'char':_0x502744,'allowSpaces':_0x293bb7,'allowToIncludeChar':_0x3b95ec,'allowedPrefixes':_0x502fb3,'startOfLine':_0x367c4b,'$position':_0x3cdd3e[_0x63f178(0x195)]}),_0x260fbf=_0x63f178(0x178)+Math[_0x63f178(0x180)](Math[_0x63f178(0x18c)]()*0xffffffff);_0x1dcad2&&_0x47d95b({'editor':_0x14fcff,'state':_0x3cc583,'range':_0x1dcad2[_0x63f178(0x183)],'isActive':_0x5f4074['active']})?(_0x3bc9ed[_0x63f178(0x1a9)]=!0x0,_0x3bc9ed['decorationId']=_0x5f4074[_0x63f178(0x1a1)]?_0x5f4074[_0x63f178(0x1a1)]:_0x260fbf,_0x3bc9ed[_0x63f178(0x183)]=_0x1dcad2['range'],_0x3bc9ed[_0x63f178(0x185)]=_0x1dcad2[_0x63f178(0x185)],_0x3bc9ed['text']=_0x1dcad2[_0x63f178(0x189)]):_0x3bc9ed['active']=!0x1;}else _0x3bc9ed[_0x63f178(0x1a9)]=!0x1;return _0x3bc9ed[_0x63f178(0x1a9)]||(_0x3bc9ed['decorationId']=null,_0x3bc9ed[_0x63f178(0x183)]={'from':0x0,'to':0x0},_0x3bc9ed['query']=null,_0x3bc9ed[_0x63f178(0x189)]=null),_0x3bc9ed;}},'props':{'handleKeyDown'(_0x2dd556,_0x3b4a32){const _0x61ee1f=_0x2d19;var _0x270762;const {active:_0x4c67b0,range:_0x294a2c}=_0x592e7b[_0x61ee1f(0x1a3)](_0x2dd556[_0x61ee1f(0x1a4)]);return _0x4c67b0&&((_0x270762=_0x4313eb==null?void 0x0:_0x4313eb[_0x61ee1f(0x19c)])===null||_0x270762===void 0x0?void 0x0:_0x270762[_0x61ee1f(0x1a0)](_0x4313eb,{'view':_0x2dd556,'event':_0x3b4a32,'range':_0x294a2c}))||!0x1;},'decorations'(_0x3006ba){const _0x53d07e=_0x2d19,{active:_0x50fdff,range:_0x5eb440,decorationId:_0x18ac76,query:_0x29d11d}=_0x592e7b[_0x53d07e(0x1a3)](_0x3006ba);if(!_0x50fdff)return null;const _0xfaeb71=!(_0x29d11d!=null&&_0x29d11d['length']),_0xfeda0e=[_0x39a3fc];return _0xfaeb71&&_0xfeda0e['push'](_0x1d15be),_0x27b6be['create'](_0x3006ba['doc'],[_0x3d4878[_0x53d07e(0x1a6)](_0x5eb440[_0x53d07e(0x194)],_0x5eb440['to'],{'nodeName':_0x3678a3,'class':_0xfeda0e[_0x53d07e(0x191)]('\x20'),'data-decoration-id':_0x18ac76,'data-decoration-content':_0x1433eb})]);}}});return _0x592e7b;}export{Y as S};