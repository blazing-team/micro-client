const _0xa91278=_0x4d93;(function(_0x341c6e,_0x2ef250){const _0x772542=_0x4d93,_0x1d4886=_0x341c6e();while(!![]){try{const _0x4fa9eb=-parseInt(_0x772542(0x117))/0x1+parseInt(_0x772542(0x125))/0x2*(-parseInt(_0x772542(0x144))/0x3)+parseInt(_0x772542(0x113))/0x4+-parseInt(_0x772542(0x124))/0x5+-parseInt(_0x772542(0x12d))/0x6+-parseInt(_0x772542(0x151))/0x7+parseInt(_0x772542(0x10b))/0x8*(parseInt(_0x772542(0x12a))/0x9);if(_0x4fa9eb===_0x2ef250)break;else _0x1d4886['push'](_0x1d4886['shift']());}catch(_0x5b238e){_0x1d4886['push'](_0x1d4886['shift']());}}}(_0x2c11,0xabafe));function _0x2c11(){const _0x1fb378=['dragging','53517HlGBNH','content','slice','prosemirror-dropcursor-inline','offsetWidth','state','nodeBefore','createElement','dragleave','parent','getBoundingClientRect','width','nodeAt','3264478lvxews','pos','class','drop','left','clientX','offsetParent','offsetHeight','27409736qKlArG','editable','disableDropCursor','nodeSize','nodeAfter','setCursor','right','nodeDOM','1753500GzQVAF','dom','toggle','scheduleRemoval','586208JavLGC','style','color','destroy','cursorPos','bottom','handlers','top','contains','inside','height','removeEventListener','classList','3456980vngAcH','2yxzgfC','updateOverlay','dragover','editorView','type','9UwuYGF','className','clientY','8397390iFwNKw','map','prosemirror-dropcursor-block','spec','forEach','removeChild','position','dragend','doc','posAtCoords','function','scrollTop','timeout','element','coordsAtPos','div','appendChild','addEventListener','body','parentNode','size','position:\x20absolute;\x20z-index:\x2050;\x20pointer-events:\x20none;'];_0x2c11=function(){return _0x1fb378;};return _0x2c11();}import{P as _0x44604e}from'./prosemirror-state-DcLGimL2.js';function _0x4d93(_0x141547,_0x487081){_0x141547=_0x141547-0x104;const _0x2c11f7=_0x2c11();let _0x4d9338=_0x2c11f7[_0x141547];return _0x4d9338;}import{d as _0x317a1e}from'./prosemirror-transform-C09io-ca.js';function y(_0x3190ba={}){return new _0x44604e({'view'(_0x4ae955){return new C(_0x4ae955,_0x3190ba);}});}class C{constructor(_0x23ff04,_0x102202){const _0x45c291=_0x4d93;var _0x42977b;this[_0x45c291(0x128)]=_0x23ff04,this[_0x45c291(0x11b)]=null,this['element']=null,this[_0x45c291(0x139)]=-0x1,this[_0x45c291(0x14f)]=(_0x42977b=_0x102202[_0x45c291(0x14f)])!==null&&_0x42977b!==void 0x0?_0x42977b:0x1,this['color']=_0x102202[_0x45c291(0x119)]===!0x1?void 0x0:_0x102202[_0x45c291(0x119)]||'black',this[_0x45c291(0x105)]=_0x102202[_0x45c291(0x105)],this[_0x45c291(0x11d)]=[_0x45c291(0x127),_0x45c291(0x134),_0x45c291(0x106),_0x45c291(0x14c)][_0x45c291(0x12e)](_0x57f635=>{const _0x1d765a=_0x45c291;let _0x3677e9=_0xa6815a=>{this[_0x57f635](_0xa6815a);};return _0x23ff04[_0x1d765a(0x114)][_0x1d765a(0x13e)](_0x57f635,_0x3677e9),{'name':_0x57f635,'handler':_0x3677e9};});}[_0xa91278(0x11a)](){const _0x422168=_0xa91278;this['handlers'][_0x422168(0x131)](({name:_0x212e26,handler:_0x291d3e})=>this['editorView']['dom'][_0x422168(0x122)](_0x212e26,_0x291d3e));}['update'](_0x321ff8,_0x432640){const _0x3716e4=_0xa91278;this[_0x3716e4(0x11b)]!=null&&_0x432640['doc']!=_0x321ff8[_0x3716e4(0x149)][_0x3716e4(0x135)]&&(this[_0x3716e4(0x11b)]>_0x321ff8[_0x3716e4(0x149)][_0x3716e4(0x135)][_0x3716e4(0x145)][_0x3716e4(0x141)]?this[_0x3716e4(0x110)](null):this['updateOverlay']());}['setCursor'](_0x551569){const _0x21d24e=_0xa91278;_0x551569!=this[_0x21d24e(0x11b)]&&(this[_0x21d24e(0x11b)]=_0x551569,_0x551569==null?(this[_0x21d24e(0x13a)][_0x21d24e(0x140)][_0x21d24e(0x132)](this[_0x21d24e(0x13a)]),this[_0x21d24e(0x13a)]=null):this[_0x21d24e(0x126)]());}[_0xa91278(0x126)](){const _0x62a56=_0xa91278;let _0x14225b=this['editorView'][_0x62a56(0x149)]['doc']['resolve'](this['cursorPos']),_0x190283=!_0x14225b[_0x62a56(0x14d)]['inlineContent'],_0x3b330b,_0x216a4e=this[_0x62a56(0x128)][_0x62a56(0x114)],_0x2afd8b=_0x216a4e[_0x62a56(0x14e)](),_0x2b4a63=_0x2afd8b[_0x62a56(0x14f)]/_0x216a4e[_0x62a56(0x148)],_0x11e728=_0x2afd8b[_0x62a56(0x121)]/_0x216a4e[_0x62a56(0x10a)];if(_0x190283){let _0x112aae=_0x14225b[_0x62a56(0x14a)],_0x2a270b=_0x14225b[_0x62a56(0x10f)];if(_0x112aae||_0x2a270b){let _0x416ca0=this[_0x62a56(0x128)][_0x62a56(0x112)](this[_0x62a56(0x11b)]-(_0x112aae?_0x112aae[_0x62a56(0x10e)]:0x0));if(_0x416ca0){let _0x2d19fe=_0x416ca0[_0x62a56(0x14e)](),_0x1c1720=_0x112aae?_0x2d19fe[_0x62a56(0x11c)]:_0x2d19fe['top'];_0x112aae&&_0x2a270b&&(_0x1c1720=(_0x1c1720+this[_0x62a56(0x128)][_0x62a56(0x112)](this[_0x62a56(0x11b)])[_0x62a56(0x14e)]()[_0x62a56(0x11e)])/0x2);let _0x233b06=this[_0x62a56(0x14f)]/0x2*_0x11e728;_0x3b330b={'left':_0x2d19fe[_0x62a56(0x107)],'right':_0x2d19fe[_0x62a56(0x111)],'top':_0x1c1720-_0x233b06,'bottom':_0x1c1720+_0x233b06};}}}if(!_0x3b330b){let _0x39a8d5=this['editorView'][_0x62a56(0x13b)](this[_0x62a56(0x11b)]),_0x31ac5e=this['width']/0x2*_0x2b4a63;_0x3b330b={'left':_0x39a8d5[_0x62a56(0x107)]-_0x31ac5e,'right':_0x39a8d5['left']+_0x31ac5e,'top':_0x39a8d5[_0x62a56(0x11e)],'bottom':_0x39a8d5['bottom']};}let _0x25b021=this[_0x62a56(0x128)]['dom'][_0x62a56(0x109)];this[_0x62a56(0x13a)]||(this['element']=_0x25b021[_0x62a56(0x13d)](document[_0x62a56(0x14b)](_0x62a56(0x13c))),this[_0x62a56(0x105)]&&(this[_0x62a56(0x13a)][_0x62a56(0x12b)]=this[_0x62a56(0x105)]),this['element'][_0x62a56(0x118)]['cssText']=_0x62a56(0x142),this['color']&&(this[_0x62a56(0x13a)][_0x62a56(0x118)]['backgroundColor']=this[_0x62a56(0x119)])),this[_0x62a56(0x13a)][_0x62a56(0x123)]['toggle'](_0x62a56(0x12f),_0x190283),this[_0x62a56(0x13a)]['classList'][_0x62a56(0x115)](_0x62a56(0x147),!_0x190283);let _0xc68f0b,_0x44e893;if(!_0x25b021||_0x25b021==document[_0x62a56(0x13f)]&&getComputedStyle(_0x25b021)[_0x62a56(0x133)]=='static')_0xc68f0b=-pageXOffset,_0x44e893=-pageYOffset;else{let _0xabbdf4=_0x25b021['getBoundingClientRect'](),_0x3d312e=_0xabbdf4[_0x62a56(0x14f)]/_0x25b021['offsetWidth'],_0x4b8f6a=_0xabbdf4[_0x62a56(0x121)]/_0x25b021[_0x62a56(0x10a)];_0xc68f0b=_0xabbdf4[_0x62a56(0x107)]-_0x25b021['scrollLeft']*_0x3d312e,_0x44e893=_0xabbdf4['top']-_0x25b021[_0x62a56(0x138)]*_0x4b8f6a;}this[_0x62a56(0x13a)][_0x62a56(0x118)][_0x62a56(0x107)]=(_0x3b330b[_0x62a56(0x107)]-_0xc68f0b)/_0x2b4a63+'px',this['element'][_0x62a56(0x118)]['top']=(_0x3b330b[_0x62a56(0x11e)]-_0x44e893)/_0x11e728+'px',this[_0x62a56(0x13a)][_0x62a56(0x118)][_0x62a56(0x14f)]=(_0x3b330b['right']-_0x3b330b[_0x62a56(0x107)])/_0x2b4a63+'px',this[_0x62a56(0x13a)][_0x62a56(0x118)][_0x62a56(0x121)]=(_0x3b330b[_0x62a56(0x11c)]-_0x3b330b[_0x62a56(0x11e)])/_0x11e728+'px';}[_0xa91278(0x116)](_0x6683d5){const _0x266bf0=_0xa91278;clearTimeout(this[_0x266bf0(0x139)]),this['timeout']=setTimeout(()=>this[_0x266bf0(0x110)](null),_0x6683d5);}[_0xa91278(0x127)](_0x29a574){const _0x411f50=_0xa91278;if(!this[_0x411f50(0x128)][_0x411f50(0x10c)])return;let _0x1bc06d=this['editorView'][_0x411f50(0x136)]({'left':_0x29a574[_0x411f50(0x108)],'top':_0x29a574[_0x411f50(0x12c)]}),_0x500d5d=_0x1bc06d&&_0x1bc06d[_0x411f50(0x120)]>=0x0&&this[_0x411f50(0x128)][_0x411f50(0x149)]['doc'][_0x411f50(0x150)](_0x1bc06d['inside']),_0x3b72c6=_0x500d5d&&_0x500d5d[_0x411f50(0x129)][_0x411f50(0x130)][_0x411f50(0x10d)],_0x599894=typeof _0x3b72c6==_0x411f50(0x137)?_0x3b72c6(this[_0x411f50(0x128)],_0x1bc06d,_0x29a574):_0x3b72c6;if(_0x1bc06d&&!_0x599894){let _0xbdf514=_0x1bc06d[_0x411f50(0x104)];if(this['editorView'][_0x411f50(0x143)]&&this[_0x411f50(0x128)][_0x411f50(0x143)][_0x411f50(0x146)]){let _0x1a3667=_0x317a1e(this[_0x411f50(0x128)][_0x411f50(0x149)][_0x411f50(0x135)],_0xbdf514,this[_0x411f50(0x128)]['dragging'][_0x411f50(0x146)]);_0x1a3667!=null&&(_0xbdf514=_0x1a3667);}this[_0x411f50(0x110)](_0xbdf514),this[_0x411f50(0x116)](0x1388);}}[_0xa91278(0x134)](){this['scheduleRemoval'](0x14);}[_0xa91278(0x106)](){const _0x233c56=_0xa91278;this[_0x233c56(0x116)](0x14);}[_0xa91278(0x14c)](_0x144ab5){const _0x3b02e0=_0xa91278;this[_0x3b02e0(0x128)][_0x3b02e0(0x114)][_0x3b02e0(0x11f)](_0x144ab5['relatedTarget'])||this['setCursor'](null);}}export{y as d};