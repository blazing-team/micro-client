function _0x490b(){const _0x488b5e=['2436828gQknKF','toggle','dragend','1468576ElEhpn','getBoundingClientRect','1233245QFQhsC','coordsAtPos','relatedTarget','function','prosemirror-dropcursor-inline','destroy','width','element','div','backgroundColor','left','content','nodeAt','contains','disableDropCursor','offsetHeight','slice','clientX','nodeDOM','scheduleRemoval','spec','clientY','state','classList','inside','doc','pos','position:\x20absolute;\x20z-index:\x2050;\x20pointer-events:\x20none;','addEventListener','cssText','color','className','nodeAfter','update','8399629VSLvgq','position','1172988FochOE','removeChild','offsetWidth','style','body','timeout','596479FvdjUc','inlineContent','editorView','right','setCursor','updateOverlay','dom','nodeSize','top','dragover','drop','882082jFJJnY','map','resolve','class','handlers','size','bottom','dragleave','editable','cursorPos','forEach','black','removeEventListener','height','nodeBefore'];_0x490b=function(){return _0x488b5e;};return _0x490b();}const _0x4c7f9a=_0x1317;(function(_0x13cf21,_0x53175f){const _0x1352bb=_0x1317,_0x3b7c35=_0x13cf21();while(!![]){try{const _0x1d979d=parseInt(_0x1352bb(0xab))/0x1+parseInt(_0x1352bb(0x6d))/0x2+parseInt(_0x1352bb(0x7c))/0x3+parseInt(_0x1352bb(0x7f))/0x4+-parseInt(_0x1352bb(0x81))/0x5+-parseInt(_0x1352bb(0xa5))/0x6+-parseInt(_0x1352bb(0xa3))/0x7;if(_0x1d979d===_0x53175f)break;else _0x3b7c35['push'](_0x3b7c35['shift']());}catch(_0x53d4da){_0x3b7c35['push'](_0x3b7c35['shift']());}}}(_0x490b,0x8c57e));import{P as _0x560e18}from'./prosemirror-state-DcLGimL2.js';import{d as _0x2dba19}from'./prosemirror-transform-C09io-ca.js';function y(_0x3c97f1={}){return new _0x560e18({'view'(_0x28ef33){return new C(_0x28ef33,_0x3c97f1);}});}function _0x1317(_0x231a18,_0x583510){_0x231a18=_0x231a18-0x69;const _0x490b84=_0x490b();let _0x131722=_0x490b84[_0x231a18];return _0x131722;}class C{constructor(_0x3f571c,_0x430e74){const _0xe1dc96=_0x1317;var _0x2c2eb9;this[_0xe1dc96(0xad)]=_0x3f571c,this[_0xe1dc96(0x76)]=null,this[_0xe1dc96(0x88)]=null,this[_0xe1dc96(0xaa)]=-0x1,this['width']=(_0x2c2eb9=_0x430e74[_0xe1dc96(0x87)])!==null&&_0x2c2eb9!==void 0x0?_0x2c2eb9:0x1,this[_0xe1dc96(0x9f)]=_0x430e74['color']===!0x1?void 0x0:_0x430e74[_0xe1dc96(0x9f)]||_0xe1dc96(0x78),this[_0xe1dc96(0x70)]=_0x430e74['class'],this[_0xe1dc96(0x71)]=['dragover',_0xe1dc96(0x7e),_0xe1dc96(0x6c),'dragleave'][_0xe1dc96(0x6e)](_0x462240=>{const _0x4cbf61=_0xe1dc96;let _0x47d00b=_0x908831=>{this[_0x462240](_0x908831);};return _0x3f571c[_0x4cbf61(0xb1)][_0x4cbf61(0x9d)](_0x462240,_0x47d00b),{'name':_0x462240,'handler':_0x47d00b};});}[_0x4c7f9a(0x86)](){const _0x2b5156=_0x4c7f9a;this[_0x2b5156(0x71)][_0x2b5156(0x77)](({name:_0x22b51c,handler:_0x25e76e})=>this[_0x2b5156(0xad)][_0x2b5156(0xb1)][_0x2b5156(0x79)](_0x22b51c,_0x25e76e));}[_0x4c7f9a(0xa2)](_0x24c90f,_0x53b9d4){const _0x191bf5=_0x4c7f9a;this[_0x191bf5(0x76)]!=null&&_0x53b9d4['doc']!=_0x24c90f[_0x191bf5(0x97)]['doc']&&(this[_0x191bf5(0x76)]>_0x24c90f[_0x191bf5(0x97)][_0x191bf5(0x9a)][_0x191bf5(0x8c)][_0x191bf5(0x72)]?this[_0x191bf5(0xaf)](null):this[_0x191bf5(0xb0)]());}[_0x4c7f9a(0xaf)](_0x384516){const _0x47170a=_0x4c7f9a;_0x384516!=this['cursorPos']&&(this[_0x47170a(0x76)]=_0x384516,_0x384516==null?(this[_0x47170a(0x88)]['parentNode'][_0x47170a(0xa6)](this[_0x47170a(0x88)]),this[_0x47170a(0x88)]=null):this[_0x47170a(0xb0)]());}['updateOverlay'](){const _0x529c03=_0x4c7f9a;let _0x523810=this['editorView'][_0x529c03(0x97)][_0x529c03(0x9a)][_0x529c03(0x6f)](this['cursorPos']),_0x98d27f=!_0x523810['parent'][_0x529c03(0xac)],_0x244a70,_0x3497a2=this[_0x529c03(0xad)][_0x529c03(0xb1)],_0x466f7e=_0x3497a2[_0x529c03(0x80)](),_0x3eded7=_0x466f7e[_0x529c03(0x87)]/_0x3497a2[_0x529c03(0xa7)],_0x494763=_0x466f7e['height']/_0x3497a2[_0x529c03(0x90)];if(_0x98d27f){let _0x7c086d=_0x523810[_0x529c03(0x7b)],_0x30eea8=_0x523810[_0x529c03(0xa1)];if(_0x7c086d||_0x30eea8){let _0x3e92ca=this[_0x529c03(0xad)][_0x529c03(0x93)](this['cursorPos']-(_0x7c086d?_0x7c086d[_0x529c03(0x69)]:0x0));if(_0x3e92ca){let _0x11e9f5=_0x3e92ca['getBoundingClientRect'](),_0x28f091=_0x7c086d?_0x11e9f5[_0x529c03(0x73)]:_0x11e9f5[_0x529c03(0x6a)];_0x7c086d&&_0x30eea8&&(_0x28f091=(_0x28f091+this[_0x529c03(0xad)]['nodeDOM'](this[_0x529c03(0x76)])[_0x529c03(0x80)]()['top'])/0x2);let _0x266e9a=this[_0x529c03(0x87)]/0x2*_0x494763;_0x244a70={'left':_0x11e9f5['left'],'right':_0x11e9f5['right'],'top':_0x28f091-_0x266e9a,'bottom':_0x28f091+_0x266e9a};}}}if(!_0x244a70){let _0x5318c2=this['editorView'][_0x529c03(0x82)](this['cursorPos']),_0x309f73=this['width']/0x2*_0x3eded7;_0x244a70={'left':_0x5318c2[_0x529c03(0x8b)]-_0x309f73,'right':_0x5318c2[_0x529c03(0x8b)]+_0x309f73,'top':_0x5318c2['top'],'bottom':_0x5318c2[_0x529c03(0x73)]};}let _0x5e7d53=this[_0x529c03(0xad)][_0x529c03(0xb1)]['offsetParent'];this[_0x529c03(0x88)]||(this[_0x529c03(0x88)]=_0x5e7d53['appendChild'](document['createElement'](_0x529c03(0x89))),this[_0x529c03(0x70)]&&(this[_0x529c03(0x88)][_0x529c03(0xa0)]=this[_0x529c03(0x70)]),this['element'][_0x529c03(0xa8)][_0x529c03(0x9e)]=_0x529c03(0x9c),this['color']&&(this[_0x529c03(0x88)][_0x529c03(0xa8)][_0x529c03(0x8a)]=this['color'])),this[_0x529c03(0x88)][_0x529c03(0x98)][_0x529c03(0x7d)]('prosemirror-dropcursor-block',_0x98d27f),this[_0x529c03(0x88)][_0x529c03(0x98)]['toggle'](_0x529c03(0x85),!_0x98d27f);let _0xb116e6,_0x3e1174;if(!_0x5e7d53||_0x5e7d53==document[_0x529c03(0xa9)]&&getComputedStyle(_0x5e7d53)[_0x529c03(0xa4)]=='static')_0xb116e6=-pageXOffset,_0x3e1174=-pageYOffset;else{let _0x3a9ae9=_0x5e7d53[_0x529c03(0x80)](),_0x555469=_0x3a9ae9[_0x529c03(0x87)]/_0x5e7d53[_0x529c03(0xa7)],_0x251785=_0x3a9ae9[_0x529c03(0x7a)]/_0x5e7d53['offsetHeight'];_0xb116e6=_0x3a9ae9['left']-_0x5e7d53['scrollLeft']*_0x555469,_0x3e1174=_0x3a9ae9[_0x529c03(0x6a)]-_0x5e7d53['scrollTop']*_0x251785;}this[_0x529c03(0x88)][_0x529c03(0xa8)][_0x529c03(0x8b)]=(_0x244a70[_0x529c03(0x8b)]-_0xb116e6)/_0x3eded7+'px',this[_0x529c03(0x88)][_0x529c03(0xa8)][_0x529c03(0x6a)]=(_0x244a70['top']-_0x3e1174)/_0x494763+'px',this[_0x529c03(0x88)]['style']['width']=(_0x244a70[_0x529c03(0xae)]-_0x244a70['left'])/_0x3eded7+'px',this[_0x529c03(0x88)][_0x529c03(0xa8)][_0x529c03(0x7a)]=(_0x244a70[_0x529c03(0x73)]-_0x244a70['top'])/_0x494763+'px';}[_0x4c7f9a(0x94)](_0x12b517){const _0x138be5=_0x4c7f9a;clearTimeout(this[_0x138be5(0xaa)]),this['timeout']=setTimeout(()=>this[_0x138be5(0xaf)](null),_0x12b517);}[_0x4c7f9a(0x6b)](_0x3705d4){const _0x389390=_0x4c7f9a;if(!this[_0x389390(0xad)][_0x389390(0x75)])return;let _0x331e85=this['editorView']['posAtCoords']({'left':_0x3705d4[_0x389390(0x92)],'top':_0x3705d4[_0x389390(0x96)]}),_0xb8d319=_0x331e85&&_0x331e85[_0x389390(0x99)]>=0x0&&this[_0x389390(0xad)][_0x389390(0x97)][_0x389390(0x9a)][_0x389390(0x8d)](_0x331e85[_0x389390(0x99)]),_0x1649e7=_0xb8d319&&_0xb8d319['type'][_0x389390(0x95)][_0x389390(0x8f)],_0x4ccbf1=typeof _0x1649e7==_0x389390(0x84)?_0x1649e7(this[_0x389390(0xad)],_0x331e85,_0x3705d4):_0x1649e7;if(_0x331e85&&!_0x4ccbf1){let _0x4b11a9=_0x331e85[_0x389390(0x9b)];if(this[_0x389390(0xad)]['dragging']&&this[_0x389390(0xad)]['dragging'][_0x389390(0x91)]){let _0x538b5b=_0x2dba19(this['editorView'][_0x389390(0x97)][_0x389390(0x9a)],_0x4b11a9,this[_0x389390(0xad)]['dragging'][_0x389390(0x91)]);_0x538b5b!=null&&(_0x4b11a9=_0x538b5b);}this[_0x389390(0xaf)](_0x4b11a9),this[_0x389390(0x94)](0x1388);}}[_0x4c7f9a(0x7e)](){const _0x1f85c0=_0x4c7f9a;this[_0x1f85c0(0x94)](0x14);}[_0x4c7f9a(0x6c)](){this['scheduleRemoval'](0x14);}[_0x4c7f9a(0x74)](_0x2b1d2c){const _0x990a2e=_0x4c7f9a;this[_0x990a2e(0xad)][_0x990a2e(0xb1)][_0x990a2e(0x8e)](_0x2b1d2c[_0x990a2e(0x83)])||this['setCursor'](null);}}export{y as d};