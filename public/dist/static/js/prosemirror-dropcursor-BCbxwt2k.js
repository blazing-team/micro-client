const _0x436133=_0x33da;function _0x5932(){const _0x43f37b=['backgroundColor','20MKzCZY','pos','posAtCoords','parent','right','contains','style','state','coordsAtPos','setCursor','addEventListener','scrollTop','class','createElement','inside','cursorPos','bottom','relatedTarget','disableDropCursor','offsetHeight','editable','slice','drop','getBoundingClientRect','type','updateOverlay','8160768aVlUkP','dom','destroy','dragging','inlineContent','top','dragover','dragleave','content','parentNode','100DjBhrY','scrollLeft','body','nodeSize','35gxldlo','cssText','toggle','element','14559152XHcKoy','190792ALmXPm','position:\x20absolute;\x20z-index:\x2050;\x20pointer-events:\x20none;','offsetParent','handlers','editorView','doc','offsetWidth','classList','5714640OfYENO','position','828642SxBdpE','forEach','618033JkKeUY','nodeDOM','width','nodeAt','left','map','nodeBefore','size','clientY','341880EjJgkZ','height','spec','prosemirror-dropcursor-inline','dragend','scheduleRemoval'];_0x5932=function(){return _0x43f37b;};return _0x5932();}(function(_0xc3a099,_0x1025c3){const _0x32b6f4=_0x33da,_0x1b11cc=_0xc3a099();while(!![]){try{const _0x486947=-parseInt(_0x32b6f4(0x1f5))/0x1+-parseInt(_0x32b6f4(0x1e0))/0x2+-parseInt(_0x32b6f4(0x1ec))/0x3*(parseInt(_0x32b6f4(0x1fc))/0x4)+-parseInt(_0x32b6f4(0x1db))/0x5*(parseInt(_0x32b6f4(0x1ea))/0x6)+-parseInt(_0x32b6f4(0x1cd))/0x7+-parseInt(_0x32b6f4(0x1df))/0x8+-parseInt(_0x32b6f4(0x1e8))/0x9*(-parseInt(_0x32b6f4(0x1d7))/0xa);if(_0x486947===_0x1025c3)break;else _0x1b11cc['push'](_0x1b11cc['shift']());}catch(_0x1d7514){_0x1b11cc['push'](_0x1b11cc['shift']());}}}(_0x5932,0xe300a));import{P as _0x37f136}from'./prosemirror-state-DcLGimL2.js';import{d as _0x3357dc}from'./prosemirror-transform-C09io-ca.js';function y(_0x1ede16={}){return new _0x37f136({'view'(_0x2cf52d){return new C(_0x2cf52d,_0x1ede16);}});}function _0x33da(_0x56c9e9,_0x5439da){_0x56c9e9=_0x56c9e9-0x1bd;const _0x59323c=_0x5932();let _0x33da18=_0x59323c[_0x56c9e9];return _0x33da18;}class C{constructor(_0x79e074,_0x35955f){const _0x40e879=_0x33da;var _0x31a8ef;this[_0x40e879(0x1e4)]=_0x79e074,this[_0x40e879(0x1c2)]=null,this['element']=null,this['timeout']=-0x1,this['width']=(_0x31a8ef=_0x35955f[_0x40e879(0x1ee)])!==null&&_0x31a8ef!==void 0x0?_0x31a8ef:0x1,this['color']=_0x35955f['color']===!0x1?void 0x0:_0x35955f['color']||'black',this[_0x40e879(0x1bf)]=_0x35955f[_0x40e879(0x1bf)],this['handlers']=[_0x40e879(0x1d3),_0x40e879(0x1f9),'drop','dragleave'][_0x40e879(0x1f1)](_0x3f80dd=>{const _0x99c74f=_0x40e879;let _0x10d5c7=_0x1811aa=>{this[_0x3f80dd](_0x1811aa);};return _0x79e074[_0x99c74f(0x1ce)][_0x99c74f(0x1bd)](_0x3f80dd,_0x10d5c7),{'name':_0x3f80dd,'handler':_0x10d5c7};});}[_0x436133(0x1cf)](){const _0x3a211d=_0x436133;this[_0x3a211d(0x1e3)][_0x3a211d(0x1eb)](({name:_0x4d0bf2,handler:_0x1326cc})=>this[_0x3a211d(0x1e4)][_0x3a211d(0x1ce)]['removeEventListener'](_0x4d0bf2,_0x1326cc));}['update'](_0x3f81d1,_0x1ccc87){const _0x32a0a8=_0x436133;this[_0x32a0a8(0x1c2)]!=null&&_0x1ccc87[_0x32a0a8(0x1e5)]!=_0x3f81d1[_0x32a0a8(0x203)][_0x32a0a8(0x1e5)]&&(this[_0x32a0a8(0x1c2)]>_0x3f81d1[_0x32a0a8(0x203)][_0x32a0a8(0x1e5)][_0x32a0a8(0x1d5)][_0x32a0a8(0x1f3)]?this[_0x32a0a8(0x205)](null):this[_0x32a0a8(0x1cc)]());}['setCursor'](_0x4a223d){const _0x568d0f=_0x436133;_0x4a223d!=this['cursorPos']&&(this['cursorPos']=_0x4a223d,_0x4a223d==null?(this['element'][_0x568d0f(0x1d6)]['removeChild'](this[_0x568d0f(0x1de)]),this[_0x568d0f(0x1de)]=null):this[_0x568d0f(0x1cc)]());}[_0x436133(0x1cc)](){const _0xbc7c7d=_0x436133;let _0x23d356=this[_0xbc7c7d(0x1e4)][_0xbc7c7d(0x203)][_0xbc7c7d(0x1e5)]['resolve'](this['cursorPos']),_0x2d1508=!_0x23d356[_0xbc7c7d(0x1ff)][_0xbc7c7d(0x1d1)],_0x5bea71,_0x22a831=this['editorView']['dom'],_0x5514d4=_0x22a831[_0xbc7c7d(0x1ca)](),_0x2aa523=_0x5514d4[_0xbc7c7d(0x1ee)]/_0x22a831[_0xbc7c7d(0x1e6)],_0x15fd67=_0x5514d4[_0xbc7c7d(0x1f6)]/_0x22a831[_0xbc7c7d(0x1c6)];if(_0x2d1508){let _0x3f4d46=_0x23d356[_0xbc7c7d(0x1f2)],_0x378da6=_0x23d356['nodeAfter'];if(_0x3f4d46||_0x378da6){let _0xd6c693=this[_0xbc7c7d(0x1e4)][_0xbc7c7d(0x1ed)](this['cursorPos']-(_0x3f4d46?_0x3f4d46[_0xbc7c7d(0x1da)]:0x0));if(_0xd6c693){let _0x427f9e=_0xd6c693['getBoundingClientRect'](),_0x2e8f5c=_0x3f4d46?_0x427f9e['bottom']:_0x427f9e['top'];_0x3f4d46&&_0x378da6&&(_0x2e8f5c=(_0x2e8f5c+this[_0xbc7c7d(0x1e4)]['nodeDOM'](this['cursorPos'])[_0xbc7c7d(0x1ca)]()[_0xbc7c7d(0x1d2)])/0x2);let _0x543253=this['width']/0x2*_0x15fd67;_0x5bea71={'left':_0x427f9e[_0xbc7c7d(0x1f0)],'right':_0x427f9e[_0xbc7c7d(0x200)],'top':_0x2e8f5c-_0x543253,'bottom':_0x2e8f5c+_0x543253};}}}if(!_0x5bea71){let _0x443c6c=this[_0xbc7c7d(0x1e4)][_0xbc7c7d(0x204)](this['cursorPos']),_0x15518f=this[_0xbc7c7d(0x1ee)]/0x2*_0x2aa523;_0x5bea71={'left':_0x443c6c['left']-_0x15518f,'right':_0x443c6c['left']+_0x15518f,'top':_0x443c6c['top'],'bottom':_0x443c6c[_0xbc7c7d(0x1c3)]};}let _0x1a7926=this[_0xbc7c7d(0x1e4)][_0xbc7c7d(0x1ce)][_0xbc7c7d(0x1e2)];this[_0xbc7c7d(0x1de)]||(this[_0xbc7c7d(0x1de)]=_0x1a7926['appendChild'](document[_0xbc7c7d(0x1c0)]('div')),this[_0xbc7c7d(0x1bf)]&&(this[_0xbc7c7d(0x1de)]['className']=this[_0xbc7c7d(0x1bf)]),this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x202)][_0xbc7c7d(0x1dc)]=_0xbc7c7d(0x1e1),this['color']&&(this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x202)][_0xbc7c7d(0x1fb)]=this['color'])),this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x1e7)]['toggle']('prosemirror-dropcursor-block',_0x2d1508),this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x1e7)][_0xbc7c7d(0x1dd)](_0xbc7c7d(0x1f8),!_0x2d1508);let _0x5a026f,_0x140da2;if(!_0x1a7926||_0x1a7926==document[_0xbc7c7d(0x1d9)]&&getComputedStyle(_0x1a7926)[_0xbc7c7d(0x1e9)]=='static')_0x5a026f=-pageXOffset,_0x140da2=-pageYOffset;else{let _0x4912bc=_0x1a7926[_0xbc7c7d(0x1ca)](),_0x311ce4=_0x4912bc[_0xbc7c7d(0x1ee)]/_0x1a7926['offsetWidth'],_0x30a84d=_0x4912bc[_0xbc7c7d(0x1f6)]/_0x1a7926[_0xbc7c7d(0x1c6)];_0x5a026f=_0x4912bc[_0xbc7c7d(0x1f0)]-_0x1a7926[_0xbc7c7d(0x1d8)]*_0x311ce4,_0x140da2=_0x4912bc[_0xbc7c7d(0x1d2)]-_0x1a7926[_0xbc7c7d(0x1be)]*_0x30a84d;}this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x202)]['left']=(_0x5bea71[_0xbc7c7d(0x1f0)]-_0x5a026f)/_0x2aa523+'px',this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x202)][_0xbc7c7d(0x1d2)]=(_0x5bea71[_0xbc7c7d(0x1d2)]-_0x140da2)/_0x15fd67+'px',this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x202)][_0xbc7c7d(0x1ee)]=(_0x5bea71[_0xbc7c7d(0x200)]-_0x5bea71['left'])/_0x2aa523+'px',this[_0xbc7c7d(0x1de)][_0xbc7c7d(0x202)][_0xbc7c7d(0x1f6)]=(_0x5bea71[_0xbc7c7d(0x1c3)]-_0x5bea71[_0xbc7c7d(0x1d2)])/_0x15fd67+'px';}['scheduleRemoval'](_0x51b71b){const _0x4b014c=_0x436133;clearTimeout(this['timeout']),this['timeout']=setTimeout(()=>this[_0x4b014c(0x205)](null),_0x51b71b);}[_0x436133(0x1d3)](_0xb822ae){const _0x14d85d=_0x436133;if(!this['editorView'][_0x14d85d(0x1c7)])return;let _0x52fc11=this['editorView'][_0x14d85d(0x1fe)]({'left':_0xb822ae['clientX'],'top':_0xb822ae[_0x14d85d(0x1f4)]}),_0x5e3cdb=_0x52fc11&&_0x52fc11[_0x14d85d(0x1c1)]>=0x0&&this[_0x14d85d(0x1e4)][_0x14d85d(0x203)][_0x14d85d(0x1e5)][_0x14d85d(0x1ef)](_0x52fc11[_0x14d85d(0x1c1)]),_0x267aa8=_0x5e3cdb&&_0x5e3cdb[_0x14d85d(0x1cb)][_0x14d85d(0x1f7)][_0x14d85d(0x1c5)],_0x4ce3bb=typeof _0x267aa8=='function'?_0x267aa8(this[_0x14d85d(0x1e4)],_0x52fc11,_0xb822ae):_0x267aa8;if(_0x52fc11&&!_0x4ce3bb){let _0x1869d6=_0x52fc11[_0x14d85d(0x1fd)];if(this[_0x14d85d(0x1e4)][_0x14d85d(0x1d0)]&&this[_0x14d85d(0x1e4)]['dragging'][_0x14d85d(0x1c8)]){let _0x192a46=_0x3357dc(this['editorView'][_0x14d85d(0x203)]['doc'],_0x1869d6,this[_0x14d85d(0x1e4)][_0x14d85d(0x1d0)][_0x14d85d(0x1c8)]);_0x192a46!=null&&(_0x1869d6=_0x192a46);}this[_0x14d85d(0x205)](_0x1869d6),this[_0x14d85d(0x1fa)](0x1388);}}['dragend'](){const _0x5b7158=_0x436133;this[_0x5b7158(0x1fa)](0x14);}[_0x436133(0x1c9)](){const _0x302b0f=_0x436133;this[_0x302b0f(0x1fa)](0x14);}[_0x436133(0x1d4)](_0x5084be){const _0x3e956c=_0x436133;this[_0x3e956c(0x1e4)]['dom'][_0x3e956c(0x201)](_0x5084be[_0x3e956c(0x1c4)])||this[_0x3e956c(0x205)](null);}}export{y as d};