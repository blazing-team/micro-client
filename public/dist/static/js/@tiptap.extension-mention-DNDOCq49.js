const _0x41bee7=_0x28db;(function(_0x5d6553,_0x4f6773){const _0x5669b8=_0x28db,_0x407620=_0x5d6553();while(!![]){try{const _0x33f8d7=parseInt(_0x5669b8(0x136))/0x1+parseInt(_0x5669b8(0x13d))/0x2+parseInt(_0x5669b8(0x129))/0x3*(parseInt(_0x5669b8(0x134))/0x4)+-parseInt(_0x5669b8(0x10c))/0x5*(parseInt(_0x5669b8(0x119))/0x6)+parseInt(_0x5669b8(0x122))/0x7*(-parseInt(_0x5669b8(0x13b))/0x8)+-parseInt(_0x5669b8(0x12a))/0x9+parseInt(_0x5669b8(0x10d))/0xa;if(_0x33f8d7===_0x4f6773)break;else _0x407620['push'](_0x407620['shift']());}catch(_0x424a8b){_0x407620['push'](_0x407620['shift']());}}}(_0x4473,0x378a5));import{N as _0x3da300,m as _0x3eac0a}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x1da5ce}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x1bb6f1}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x1b432e}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x25b952,overrideSuggestionOptions:_0xdc0190,extensionName:_0x59ecef,char:_0x3549e5='@'}){const _0x15f8c1=new _0x1b432e();return{'editor':_0x25b952,'char':_0x3549e5,'pluginKey':_0x15f8c1,'command':({editor:_0x7ef858,range:_0x2cece7,props:_0x304448})=>{const _0x55ad15=_0x28db;var _0x393a8c,_0xb894b,_0x3fee6d;const _0x2a870d=_0x7ef858[_0x55ad15(0x13a)][_0x55ad15(0x123)]['selection'][_0x55ad15(0x12d)][_0x55ad15(0x118)];((_0x393a8c=_0x2a870d==null?void 0x0:_0x2a870d[_0x55ad15(0x10f)])===null||_0x393a8c===void 0x0?void 0x0:_0x393a8c['startsWith']('\x20'))&&(_0x2cece7['to']+=0x1),_0x7ef858[_0x55ad15(0x126)]()[_0x55ad15(0x132)]()['insertContentAt'](_0x2cece7,[{'type':_0x59ecef,'attrs':{..._0x304448,'mentionSuggestionChar':_0x3549e5}},{'type':'text','text':'\x20'}])['run'](),(_0x3fee6d=(_0xb894b=_0x7ef858[_0x55ad15(0x13a)][_0x55ad15(0x133)]['ownerDocument']['defaultView'])===null||_0xb894b===void 0x0?void 0x0:_0xb894b[_0x55ad15(0x11c)]())===null||_0x3fee6d===void 0x0||_0x3fee6d['collapseToEnd']();},'allow':({state:_0x4fb2d0,range:_0x1547cf})=>{const _0x2027b7=_0x28db,_0x57a160=_0x4fb2d0['doc'][_0x2027b7(0x115)](_0x1547cf[_0x2027b7(0x120)]),_0x57a2bf=_0x4fb2d0['schema'][_0x2027b7(0x137)][_0x59ecef];return!!_0x57a160[_0x2027b7(0x116)][_0x2027b7(0x10e)][_0x2027b7(0x12b)][_0x2027b7(0x114)](_0x57a2bf);},..._0xdc0190};}function _0x4473(){const _0x4da57f=['670wpdjHd','nodes','label','find','view','47440XSZEqK','char','604364HYlwFQ','nodesBetween','attrs','mentionSuggestionChar','2890bToZxp','3847910zPfiHM','type','text','data-label','options','suggestion','span','matchType','resolve','parent','name','nodeAfter','4626YcrJIG','getAttribute','create','getSelection','renderLabel','insertText','HTMLAttributes','from','length','112GwCpJF','state','data-id','suggestions','chain','editor','map','198591FOLScu','2851326APpOIu','contentMatch','string','$to','doc','inline','renderText','data-mention-suggestion-char','focus','dom','24IZNoZq','deleteTriggerWithBackspace'];_0x4473=function(){return _0x4da57f;};return _0x4473();}function h(_0x5f5c5d){const _0x796cd1=_0x28db;return(_0x5f5c5d[_0x796cd1(0x111)][_0x796cd1(0x125)][_0x796cd1(0x121)]?_0x5f5c5d[_0x796cd1(0x111)][_0x796cd1(0x125)]:[_0x5f5c5d[_0x796cd1(0x111)]['suggestion']])['map'](_0x1ee435=>v({'editor':_0x5f5c5d[_0x796cd1(0x127)],'overrideSuggestionOptions':_0x1ee435,'extensionName':_0x5f5c5d[_0x796cd1(0x117)],'char':_0x1ee435[_0x796cd1(0x13c)]}));}function g(_0xc3eb70,_0x11fb74){const _0x193276=_0x28db,_0x3a22cb=h(_0xc3eb70),_0x110156=_0x3a22cb[_0x193276(0x139)](_0x49165b=>_0x49165b[_0x193276(0x13c)]===_0x11fb74);return _0x110156||(_0x3a22cb['length']?_0x3a22cb[0x0]:null);}const w=_0x3da300[_0x41bee7(0x11b)]({'name':'mention','priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x1798fe,suggestion:_0x1820b4}){const _0x27a4b8=_0x28db;var _0x5b46d9,_0x33bdf5;return''+((_0x5b46d9=_0x1820b4==null?void 0x0:_0x1820b4[_0x27a4b8(0x13c)])!==null&&_0x5b46d9!==void 0x0?_0x5b46d9:'@')+((_0x33bdf5=_0x1798fe[_0x27a4b8(0x10a)][_0x27a4b8(0x138)])!==null&&_0x33bdf5!==void 0x0?_0x33bdf5:_0x1798fe[_0x27a4b8(0x10a)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0xd078b2,node:_0x28570c,suggestion:_0x2ca164}){const _0x4838ba=_0x28db;var _0x17ad78,_0x563de6;return[_0x4838ba(0x113),_0x3eac0a(this[_0x4838ba(0x11f)],_0xd078b2[_0x4838ba(0x11f)]),''+((_0x17ad78=_0x2ca164==null?void 0x0:_0x2ca164[_0x4838ba(0x13c)])!==null&&_0x17ad78!==void 0x0?_0x17ad78:'@')+((_0x563de6=_0x28570c['attrs'][_0x4838ba(0x138)])!==null&&_0x563de6!==void 0x0?_0x563de6:_0x28570c[_0x4838ba(0x10a)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x41bee7(0x12f),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x2cf4cb=_0x41bee7;return{'id':{'default':null,'parseHTML':_0x17a831=>_0x17a831[_0x2cf4cb(0x11a)](_0x2cf4cb(0x124)),'renderHTML':_0x1d8c1b=>_0x1d8c1b['id']?{'data-id':_0x1d8c1b['id']}:{}},'label':{'default':null,'parseHTML':_0x31b75a=>_0x31b75a['getAttribute'](_0x2cf4cb(0x110)),'renderHTML':_0x53ea71=>_0x53ea71['label']?{'data-label':_0x53ea71[_0x2cf4cb(0x138)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x21e6ae=>_0x21e6ae[_0x2cf4cb(0x11a)](_0x2cf4cb(0x131)),'renderHTML':_0x5be5e2=>({'data-mention-suggestion-char':_0x5be5e2[_0x2cf4cb(0x10b)]})}};},'parseHTML'(){return[{'tag':'span[data-type=\x22'+this['name']+'\x22]'}];},'renderHTML'({node:_0x29d22f,HTMLAttributes:_0x8f5f5e}){const _0x403b37=_0x41bee7,_0x37dc99=g(this,_0x29d22f['attrs'][_0x403b37(0x10b)]);if(this[_0x403b37(0x111)][_0x403b37(0x11d)]!==void 0x0)return[_0x403b37(0x113),_0x3eac0a({'data-type':this[_0x403b37(0x117)]},this[_0x403b37(0x111)]['HTMLAttributes'],_0x8f5f5e),this[_0x403b37(0x111)][_0x403b37(0x11d)]({'options':this[_0x403b37(0x111)],'node':_0x29d22f,'suggestion':_0x37dc99})];const _0x4f95df={...this[_0x403b37(0x111)]};_0x4f95df[_0x403b37(0x11f)]=_0x3eac0a({'data-type':this['name']},this['options'][_0x403b37(0x11f)],_0x8f5f5e);const _0x21c881=this['options']['renderHTML']({'options':_0x4f95df,'node':_0x29d22f,'suggestion':_0x37dc99});return typeof _0x21c881==_0x403b37(0x12c)?[_0x403b37(0x113),_0x3eac0a({'data-type':this[_0x403b37(0x117)]},this[_0x403b37(0x111)][_0x403b37(0x11f)],_0x8f5f5e),_0x21c881]:_0x21c881;},'renderText'({node:_0x333f3}){const _0x214c6d=_0x41bee7,_0x43ab80={'options':this[_0x214c6d(0x111)],'node':_0x333f3,'suggestion':g(this,_0x333f3[_0x214c6d(0x10a)]['mentionSuggestionChar'])};return this[_0x214c6d(0x111)][_0x214c6d(0x11d)]!==void 0x0?this['options'][_0x214c6d(0x11d)](_0x43ab80):this[_0x214c6d(0x111)][_0x214c6d(0x130)](_0x43ab80);},'addKeyboardShortcuts'(){const _0x145d7d=_0x41bee7;return{'Backspace':()=>this[_0x145d7d(0x127)]['commands']['command'](({tr:_0x24ebfa,state:_0x35f4dc})=>{const _0x300a3c=_0x145d7d;let _0x27ab7f=!0x1;const {selection:_0x47da27}=_0x35f4dc,{empty:_0x21ae0b,anchor:_0x3673a3}=_0x47da27;if(!_0x21ae0b)return!0x1;_0x35f4dc[_0x300a3c(0x12e)][_0x300a3c(0x13e)](_0x3673a3-0x1,_0x3673a3,(_0x3af638,_0x2e78c2)=>{const _0x34192f=_0x300a3c;if(_0x3af638[_0x34192f(0x10e)][_0x34192f(0x117)]===this[_0x34192f(0x117)])return _0x27ab7f=!0x0,_0x24ebfa[_0x34192f(0x11e)](this[_0x34192f(0x111)]['deleteTriggerWithBackspace']?'':this[_0x34192f(0x111)][_0x34192f(0x112)][_0x34192f(0x13c)]||'',_0x2e78c2,_0x2e78c2+_0x3af638['nodeSize']),!0x1;});let _0x3639ce=new _0x1da5ce(),_0x46a966=0x0;return _0x35f4dc['doc'][_0x300a3c(0x13e)](_0x3673a3-0x1,_0x3673a3,(_0x4e0bef,_0x3ee0dd)=>{const _0x2b1ffc=_0x300a3c;if(_0x4e0bef[_0x2b1ffc(0x10e)][_0x2b1ffc(0x117)]===this[_0x2b1ffc(0x117)])return _0x27ab7f=!0x0,_0x3639ce=_0x4e0bef,_0x46a966=_0x3ee0dd,!0x1;}),_0x27ab7f&&_0x24ebfa[_0x300a3c(0x11e)](this[_0x300a3c(0x111)][_0x300a3c(0x135)]?'':_0x3639ce[_0x300a3c(0x10a)][_0x300a3c(0x10b)],_0x46a966,_0x46a966+_0x3639ce['nodeSize']),_0x27ab7f;})};},'addProseMirrorPlugins'(){const _0x6ecdfa=_0x41bee7;return h(this)[_0x6ecdfa(0x128)](_0x1bb6f1);}});function _0x28db(_0x429c55,_0x669ce3){_0x429c55=_0x429c55-0x10a;const _0x44737f=_0x4473();let _0x28db9b=_0x44737f[_0x429c55];return _0x28db9b;}export{w as M};