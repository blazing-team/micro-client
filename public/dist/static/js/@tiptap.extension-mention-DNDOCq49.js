const _0x2eab55=_0x4efa;(function(_0x5f01c0,_0x17262a){const _0x491c7d=_0x4efa,_0x1d7269=_0x5f01c0();while(!![]){try{const _0x11c648=-parseInt(_0x491c7d(0x1d7))/0x1+parseInt(_0x491c7d(0x1ee))/0x2+-parseInt(_0x491c7d(0x1eb))/0x3*(parseInt(_0x491c7d(0x1df))/0x4)+-parseInt(_0x491c7d(0x1d9))/0x5+parseInt(_0x491c7d(0x1f0))/0x6+-parseInt(_0x491c7d(0x1bd))/0x7+parseInt(_0x491c7d(0x1d4))/0x8*(parseInt(_0x491c7d(0x1e2))/0x9);if(_0x11c648===_0x17262a)break;else _0x1d7269['push'](_0x1d7269['shift']());}catch(_0x432753){_0x1d7269['push'](_0x1d7269['shift']());}}}(_0x4957,0xcc6c9));import{N as _0x2916d8,m as _0x8302ef}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x389129}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x31ce1b}from'./@tiptap.suggestion-D1eFLxRa.js';function _0x4957(){const _0x26576d=['parent','data-label','1012620CTodUQ','text','3777438VAFGNS','view','run','2287488pCDSDH','inline','char','deleteTriggerWithBackspace','command','span','matchType','defaultView','nodes','mentionSuggestionChar','from','data-id','mention','insertText','suggestion','startsWith','options','nodeSize','attrs','label','length','span[data-type=\x22','name','20808XboJWL','renderLabel','editor','213913OrxVhe','find','1959025DRbWnw','dom','data-mention-suggestion-char','HTMLAttributes','type','selection','4RFMmPB','nodeAfter','getAttribute','6561YuJHLU','$to','doc','map','chain','commands','state','suggestions','collapseToEnd','3786567pJxMCp'];_0x4957=function(){return _0x26576d;};return _0x4957();}import{a as _0x399b45}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x43d96c,overrideSuggestionOptions:_0x4582f7,extensionName:_0x5f52ef,char:_0x5d2d74='@'}){const _0x16ac9e=new _0x399b45();return{'editor':_0x43d96c,'char':_0x5d2d74,'pluginKey':_0x16ac9e,'command':({editor:_0x3675ea,range:_0x3254bf,props:_0x300204})=>{const _0x56c0b1=_0x4efa;var _0x162189,_0x11e530,_0x5294f9;const _0x3c1036=_0x3675ea['view'][_0x56c0b1(0x1e8)][_0x56c0b1(0x1de)][_0x56c0b1(0x1e3)][_0x56c0b1(0x1e0)];((_0x162189=_0x3c1036==null?void 0x0:_0x3c1036[_0x56c0b1(0x1ef)])===null||_0x162189===void 0x0?void 0x0:_0x162189[_0x56c0b1(0x1cc)]('\x20'))&&(_0x3254bf['to']+=0x1),_0x3675ea[_0x56c0b1(0x1e6)]()['focus']()['insertContentAt'](_0x3254bf,[{'type':_0x5f52ef,'attrs':{..._0x300204,'mentionSuggestionChar':_0x5d2d74}},{'type':_0x56c0b1(0x1ef),'text':'\x20'}])[_0x56c0b1(0x1bc)](),(_0x5294f9=(_0x11e530=_0x3675ea[_0x56c0b1(0x1f1)][_0x56c0b1(0x1da)]['ownerDocument'][_0x56c0b1(0x1c4)])===null||_0x11e530===void 0x0?void 0x0:_0x11e530['getSelection']())===null||_0x5294f9===void 0x0||_0x5294f9[_0x56c0b1(0x1ea)]();},'allow':({state:_0x896577,range:_0x11ed35})=>{const _0x3e5d4a=_0x4efa,_0x448006=_0x896577[_0x3e5d4a(0x1e4)]['resolve'](_0x11ed35[_0x3e5d4a(0x1c7)]),_0x36a0a1=_0x896577['schema'][_0x3e5d4a(0x1c5)][_0x5f52ef];return!!_0x448006[_0x3e5d4a(0x1ec)][_0x3e5d4a(0x1dd)]['contentMatch'][_0x3e5d4a(0x1c3)](_0x36a0a1);},..._0x4582f7};}function h(_0x39281b){const _0x2cc05=_0x4efa;return(_0x39281b[_0x2cc05(0x1cd)][_0x2cc05(0x1e9)][_0x2cc05(0x1d1)]?_0x39281b[_0x2cc05(0x1cd)]['suggestions']:[_0x39281b[_0x2cc05(0x1cd)][_0x2cc05(0x1cb)]])[_0x2cc05(0x1e5)](_0x3ca645=>v({'editor':_0x39281b[_0x2cc05(0x1d6)],'overrideSuggestionOptions':_0x3ca645,'extensionName':_0x39281b[_0x2cc05(0x1d3)],'char':_0x3ca645['char']}));}function g(_0x25f482,_0x3c6572){const _0xc4600c=_0x4efa,_0x1c0fd2=h(_0x25f482),_0x3d96fb=_0x1c0fd2[_0xc4600c(0x1d8)](_0x32d35d=>_0x32d35d['char']===_0x3c6572);return _0x3d96fb||(_0x1c0fd2['length']?_0x1c0fd2[0x0]:null);}const w=_0x2916d8['create']({'name':_0x2eab55(0x1c9),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x170ab9,suggestion:_0x1d7d2a}){const _0x2d7c7d=_0x4efa;var _0x18fadf,_0x1a7e65;return''+((_0x18fadf=_0x1d7d2a==null?void 0x0:_0x1d7d2a[_0x2d7c7d(0x1bf)])!==null&&_0x18fadf!==void 0x0?_0x18fadf:'@')+((_0x1a7e65=_0x170ab9['attrs'][_0x2d7c7d(0x1d0)])!==null&&_0x1a7e65!==void 0x0?_0x1a7e65:_0x170ab9[_0x2d7c7d(0x1cf)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x2a7632,node:_0x55171f,suggestion:_0x3ec71c}){const _0x572a41=_0x4efa;var _0x1118d7,_0x200dbd;return['span',_0x8302ef(this[_0x572a41(0x1dc)],_0x2a7632[_0x572a41(0x1dc)]),''+((_0x1118d7=_0x3ec71c==null?void 0x0:_0x3ec71c[_0x572a41(0x1bf)])!==null&&_0x1118d7!==void 0x0?_0x1118d7:'@')+((_0x200dbd=_0x55171f[_0x572a41(0x1cf)][_0x572a41(0x1d0)])!==null&&_0x200dbd!==void 0x0?_0x200dbd:_0x55171f['attrs']['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x2eab55(0x1be),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x1da385=_0x2eab55;return{'id':{'default':null,'parseHTML':_0x4f66f8=>_0x4f66f8[_0x1da385(0x1e1)](_0x1da385(0x1c8)),'renderHTML':_0x3430d9=>_0x3430d9['id']?{'data-id':_0x3430d9['id']}:{}},'label':{'default':null,'parseHTML':_0x6540a0=>_0x6540a0[_0x1da385(0x1e1)](_0x1da385(0x1ed)),'renderHTML':_0x38ad1d=>_0x38ad1d[_0x1da385(0x1d0)]?{'data-label':_0x38ad1d[_0x1da385(0x1d0)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x1ac3e1=>_0x1ac3e1[_0x1da385(0x1e1)](_0x1da385(0x1db)),'renderHTML':_0x45c308=>({'data-mention-suggestion-char':_0x45c308[_0x1da385(0x1c6)]})}};},'parseHTML'(){const _0x24e39f=_0x2eab55;return[{'tag':_0x24e39f(0x1d2)+this['name']+'\x22]'}];},'renderHTML'({node:_0x17e653,HTMLAttributes:_0x2ee2fd}){const _0x48cec5=_0x2eab55,_0x4933d9=g(this,_0x17e653[_0x48cec5(0x1cf)]['mentionSuggestionChar']);if(this[_0x48cec5(0x1cd)][_0x48cec5(0x1d5)]!==void 0x0)return[_0x48cec5(0x1c2),_0x8302ef({'data-type':this[_0x48cec5(0x1d3)]},this['options'][_0x48cec5(0x1dc)],_0x2ee2fd),this['options']['renderLabel']({'options':this[_0x48cec5(0x1cd)],'node':_0x17e653,'suggestion':_0x4933d9})];const _0x1c9ffc={...this[_0x48cec5(0x1cd)]};_0x1c9ffc[_0x48cec5(0x1dc)]=_0x8302ef({'data-type':this[_0x48cec5(0x1d3)]},this[_0x48cec5(0x1cd)]['HTMLAttributes'],_0x2ee2fd);const _0x35f7cb=this['options']['renderHTML']({'options':_0x1c9ffc,'node':_0x17e653,'suggestion':_0x4933d9});return typeof _0x35f7cb=='string'?[_0x48cec5(0x1c2),_0x8302ef({'data-type':this[_0x48cec5(0x1d3)]},this[_0x48cec5(0x1cd)][_0x48cec5(0x1dc)],_0x2ee2fd),_0x35f7cb]:_0x35f7cb;},'renderText'({node:_0x55f062}){const _0xb14588=_0x2eab55,_0x5b74da={'options':this['options'],'node':_0x55f062,'suggestion':g(this,_0x55f062[_0xb14588(0x1cf)][_0xb14588(0x1c6)])};return this['options'][_0xb14588(0x1d5)]!==void 0x0?this[_0xb14588(0x1cd)][_0xb14588(0x1d5)](_0x5b74da):this['options']['renderText'](_0x5b74da);},'addKeyboardShortcuts'(){const _0x48a8de=_0x2eab55;return{'Backspace':()=>this[_0x48a8de(0x1d6)][_0x48a8de(0x1e7)][_0x48a8de(0x1c1)](({tr:_0x408156,state:_0x53d8d4})=>{const _0x4fb10f=_0x48a8de;let _0x460edd=!0x1;const {selection:_0x2ec87b}=_0x53d8d4,{empty:_0x291bd8,anchor:_0x521795}=_0x2ec87b;if(!_0x291bd8)return!0x1;_0x53d8d4[_0x4fb10f(0x1e4)]['nodesBetween'](_0x521795-0x1,_0x521795,(_0x3c8362,_0x15e9f3)=>{const _0xcdb1a5=_0x4fb10f;if(_0x3c8362[_0xcdb1a5(0x1dd)][_0xcdb1a5(0x1d3)]===this[_0xcdb1a5(0x1d3)])return _0x460edd=!0x0,_0x408156[_0xcdb1a5(0x1ca)](this[_0xcdb1a5(0x1cd)]['deleteTriggerWithBackspace']?'':this[_0xcdb1a5(0x1cd)][_0xcdb1a5(0x1cb)]['char']||'',_0x15e9f3,_0x15e9f3+_0x3c8362['nodeSize']),!0x1;});let _0x272302=new _0x389129(),_0x254852=0x0;return _0x53d8d4[_0x4fb10f(0x1e4)]['nodesBetween'](_0x521795-0x1,_0x521795,(_0x5d0716,_0x575278)=>{const _0x5c4e90=_0x4fb10f;if(_0x5d0716[_0x5c4e90(0x1dd)][_0x5c4e90(0x1d3)]===this[_0x5c4e90(0x1d3)])return _0x460edd=!0x0,_0x272302=_0x5d0716,_0x254852=_0x575278,!0x1;}),_0x460edd&&_0x408156[_0x4fb10f(0x1ca)](this[_0x4fb10f(0x1cd)][_0x4fb10f(0x1c0)]?'':_0x272302['attrs'][_0x4fb10f(0x1c6)],_0x254852,_0x254852+_0x272302[_0x4fb10f(0x1ce)]),_0x460edd;})};},'addProseMirrorPlugins'(){const _0x1785b7=_0x2eab55;return h(this)[_0x1785b7(0x1e5)](_0x31ce1b);}});function _0x4efa(_0x501124,_0x2cf879){_0x501124=_0x501124-0x1bc;const _0x4957eb=_0x4957();let _0x4efa67=_0x4957eb[_0x501124];return _0x4efa67;}export{w as M};