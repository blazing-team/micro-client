const _0x16d53d=_0x365e;(function(_0x337027,_0x1c8969){const _0x340ba5=_0x365e,_0x138652=_0x337027();while(!![]){try{const _0x558e01=-parseInt(_0x340ba5(0x100))/0x1*(parseInt(_0x340ba5(0x125))/0x2)+-parseInt(_0x340ba5(0x115))/0x3+parseInt(_0x340ba5(0x111))/0x4*(parseInt(_0x340ba5(0xf4))/0x5)+parseInt(_0x340ba5(0x10e))/0x6*(parseInt(_0x340ba5(0x10d))/0x7)+-parseInt(_0x340ba5(0x117))/0x8*(parseInt(_0x340ba5(0xfc))/0x9)+-parseInt(_0x340ba5(0x106))/0xa+-parseInt(_0x340ba5(0xfe))/0xb*(-parseInt(_0x340ba5(0x122))/0xc);if(_0x558e01===_0x1c8969)break;else _0x138652['push'](_0x138652['shift']());}catch(_0x5b4a87){_0x138652['push'](_0x138652['shift']());}}}(_0x170a,0xbbb61));function _0x170a(){const _0x15b6d=['command','find','text','data-mention-suggestion-char','collapseToEnd','nodeAfter','deleteTriggerWithBackspace','63cQKAGj','string','11TpvPXh','nodesBetween','9AKOrcp','schema','state','length','suggestion','contentMatch','13092330OlCxDk','commands','getAttribute','focus','attrs','selection','char','7sAbuRd','8147820qZysqY','nodeSize','inline','20TqdPnF','dom','label','parent','961584TrmQnC','run','1316640QTvbnS','$to','matchType','renderLabel','options','span[data-type=\x22','getSelection','name','map','HTMLAttributes','type','32571960DkLGjQ','renderHTML','doc','246162fbQBpP','startsWith','suggestions','data-id','insertText','span','create','mentionSuggestionChar','view','defaultView','586115EKCpqx'];_0x170a=function(){return _0x15b6d;};return _0x170a();}import{N as _0x276d49,m as _0x29e2ba}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x40a058}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x327c74}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x372744}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x1b30f2,overrideSuggestionOptions:_0xaf2aaa,extensionName:_0x32d141,char:_0x3a0293='@'}){const _0x2ff6ea=new _0x372744();return{'editor':_0x1b30f2,'char':_0x3a0293,'pluginKey':_0x2ff6ea,'command':({editor:_0x1ddce7,range:_0x39b144,props:_0xad4f36})=>{const _0x41c68c=_0x365e;var _0x9ac766,_0x4d7b2f,_0x346003;const _0x11de8b=_0x1ddce7[_0x41c68c(0xf2)][_0x41c68c(0x102)][_0x41c68c(0x10b)][_0x41c68c(0x118)][_0x41c68c(0xfa)];((_0x9ac766=_0x11de8b==null?void 0x0:_0x11de8b[_0x41c68c(0xf7)])===null||_0x9ac766===void 0x0?void 0x0:_0x9ac766[_0x41c68c(0x126)]('\x20'))&&(_0x39b144['to']+=0x1),_0x1ddce7['chain']()[_0x41c68c(0x109)]()['insertContentAt'](_0x39b144,[{'type':_0x32d141,'attrs':{..._0xad4f36,'mentionSuggestionChar':_0x3a0293}},{'type':'text','text':'\x20'}])[_0x41c68c(0x116)](),(_0x346003=(_0x4d7b2f=_0x1ddce7[_0x41c68c(0xf2)][_0x41c68c(0x112)]['ownerDocument'][_0x41c68c(0xf3)])===null||_0x4d7b2f===void 0x0?void 0x0:_0x4d7b2f[_0x41c68c(0x11d)]())===null||_0x346003===void 0x0||_0x346003[_0x41c68c(0xf9)]();},'allow':({state:_0x2f7931,range:_0x2dbfdf})=>{const _0x53bc8f=_0x365e,_0x2ce247=_0x2f7931[_0x53bc8f(0x124)]['resolve'](_0x2dbfdf['from']),_0x2066b4=_0x2f7931[_0x53bc8f(0x101)]['nodes'][_0x32d141];return!!_0x2ce247[_0x53bc8f(0x114)][_0x53bc8f(0x121)][_0x53bc8f(0x105)][_0x53bc8f(0x119)](_0x2066b4);},..._0xaf2aaa};}function _0x365e(_0x1212b0,_0x2375f4){_0x1212b0=_0x1212b0-0xed;const _0x170a8d=_0x170a();let _0x365ef4=_0x170a8d[_0x1212b0];return _0x365ef4;}function h(_0x38cfdc){const _0x89eb40=_0x365e;return(_0x38cfdc[_0x89eb40(0x11b)][_0x89eb40(0x127)][_0x89eb40(0x103)]?_0x38cfdc[_0x89eb40(0x11b)][_0x89eb40(0x127)]:[_0x38cfdc['options'][_0x89eb40(0x104)]])[_0x89eb40(0x11f)](_0x338022=>v({'editor':_0x38cfdc['editor'],'overrideSuggestionOptions':_0x338022,'extensionName':_0x38cfdc[_0x89eb40(0x11e)],'char':_0x338022['char']}));}function g(_0x1e8358,_0x53adfe){const _0x1a28ac=_0x365e,_0x1ec016=h(_0x1e8358),_0xca7fdf=_0x1ec016[_0x1a28ac(0xf6)](_0x301fbe=>_0x301fbe['char']===_0x53adfe);return _0xca7fdf||(_0x1ec016['length']?_0x1ec016[0x0]:null);}const w=_0x276d49[_0x16d53d(0xf0)]({'name':'mention','priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x5b31c7,suggestion:_0x1835aa}){const _0x231af3=_0x365e;var _0x25d0ac,_0x2c4afb;return''+((_0x25d0ac=_0x1835aa==null?void 0x0:_0x1835aa[_0x231af3(0x10c)])!==null&&_0x25d0ac!==void 0x0?_0x25d0ac:'@')+((_0x2c4afb=_0x5b31c7[_0x231af3(0x10a)]['label'])!==null&&_0x2c4afb!==void 0x0?_0x2c4afb:_0x5b31c7['attrs']['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x5af889,node:_0x42baa6,suggestion:_0x2b6371}){const _0x12b58a=_0x365e;var _0x332e0b,_0x1e4a15;return[_0x12b58a(0xef),_0x29e2ba(this[_0x12b58a(0x120)],_0x5af889[_0x12b58a(0x120)]),''+((_0x332e0b=_0x2b6371==null?void 0x0:_0x2b6371[_0x12b58a(0x10c)])!==null&&_0x332e0b!==void 0x0?_0x332e0b:'@')+((_0x1e4a15=_0x42baa6['attrs'][_0x12b58a(0x113)])!==null&&_0x1e4a15!==void 0x0?_0x1e4a15:_0x42baa6[_0x12b58a(0x10a)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x16d53d(0x110),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x3a21b0=_0x16d53d;return{'id':{'default':null,'parseHTML':_0x1acba4=>_0x1acba4[_0x3a21b0(0x108)](_0x3a21b0(0xed)),'renderHTML':_0x2cc20e=>_0x2cc20e['id']?{'data-id':_0x2cc20e['id']}:{}},'label':{'default':null,'parseHTML':_0x372cb3=>_0x372cb3[_0x3a21b0(0x108)]('data-label'),'renderHTML':_0x2aee7f=>_0x2aee7f['label']?{'data-label':_0x2aee7f['label']}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x91f736=>_0x91f736[_0x3a21b0(0x108)](_0x3a21b0(0xf8)),'renderHTML':_0x53bc4a=>({'data-mention-suggestion-char':_0x53bc4a[_0x3a21b0(0xf1)]})}};},'parseHTML'(){const _0x489824=_0x16d53d;return[{'tag':_0x489824(0x11c)+this[_0x489824(0x11e)]+'\x22]'}];},'renderHTML'({node:_0x31a51b,HTMLAttributes:_0x5a587f}){const _0x48a735=_0x16d53d,_0x2f493b=g(this,_0x31a51b[_0x48a735(0x10a)]['mentionSuggestionChar']);if(this['options'][_0x48a735(0x11a)]!==void 0x0)return[_0x48a735(0xef),_0x29e2ba({'data-type':this['name']},this[_0x48a735(0x11b)][_0x48a735(0x120)],_0x5a587f),this[_0x48a735(0x11b)][_0x48a735(0x11a)]({'options':this['options'],'node':_0x31a51b,'suggestion':_0x2f493b})];const _0x130837={...this[_0x48a735(0x11b)]};_0x130837[_0x48a735(0x120)]=_0x29e2ba({'data-type':this[_0x48a735(0x11e)]},this[_0x48a735(0x11b)]['HTMLAttributes'],_0x5a587f);const _0x4a37d1=this['options'][_0x48a735(0x123)]({'options':_0x130837,'node':_0x31a51b,'suggestion':_0x2f493b});return typeof _0x4a37d1==_0x48a735(0xfd)?[_0x48a735(0xef),_0x29e2ba({'data-type':this[_0x48a735(0x11e)]},this['options']['HTMLAttributes'],_0x5a587f),_0x4a37d1]:_0x4a37d1;},'renderText'({node:_0x37494a}){const _0x56ac8d=_0x16d53d,_0x328217={'options':this['options'],'node':_0x37494a,'suggestion':g(this,_0x37494a[_0x56ac8d(0x10a)]['mentionSuggestionChar'])};return this[_0x56ac8d(0x11b)][_0x56ac8d(0x11a)]!==void 0x0?this['options']['renderLabel'](_0x328217):this[_0x56ac8d(0x11b)]['renderText'](_0x328217);},'addKeyboardShortcuts'(){const _0x39172a=_0x16d53d;return{'Backspace':()=>this['editor'][_0x39172a(0x107)][_0x39172a(0xf5)](({tr:_0x40d29e,state:_0xd916ba})=>{const _0x2b438d=_0x39172a;let _0xdb7326=!0x1;const {selection:_0x2373dc}=_0xd916ba,{empty:_0x1e2c1f,anchor:_0x2a6de5}=_0x2373dc;if(!_0x1e2c1f)return!0x1;_0xd916ba['doc'][_0x2b438d(0xff)](_0x2a6de5-0x1,_0x2a6de5,(_0x21bf13,_0x5ddfdf)=>{const _0x4e6ec2=_0x2b438d;if(_0x21bf13[_0x4e6ec2(0x121)]['name']===this[_0x4e6ec2(0x11e)])return _0xdb7326=!0x0,_0x40d29e[_0x4e6ec2(0xee)](this[_0x4e6ec2(0x11b)][_0x4e6ec2(0xfb)]?'':this[_0x4e6ec2(0x11b)][_0x4e6ec2(0x104)][_0x4e6ec2(0x10c)]||'',_0x5ddfdf,_0x5ddfdf+_0x21bf13[_0x4e6ec2(0x10f)]),!0x1;});let _0x4e8b01=new _0x40a058(),_0x10bb37=0x0;return _0xd916ba[_0x2b438d(0x124)][_0x2b438d(0xff)](_0x2a6de5-0x1,_0x2a6de5,(_0x763deb,_0x20c8a3)=>{const _0x2dd76d=_0x2b438d;if(_0x763deb['type'][_0x2dd76d(0x11e)]===this[_0x2dd76d(0x11e)])return _0xdb7326=!0x0,_0x4e8b01=_0x763deb,_0x10bb37=_0x20c8a3,!0x1;}),_0xdb7326&&_0x40d29e[_0x2b438d(0xee)](this[_0x2b438d(0x11b)][_0x2b438d(0xfb)]?'':_0x4e8b01[_0x2b438d(0x10a)][_0x2b438d(0xf1)],_0x10bb37,_0x10bb37+_0x4e8b01[_0x2b438d(0x10f)]),_0xdb7326;})};},'addProseMirrorPlugins'(){return h(this)['map'](_0x327c74);}});export{w as M};