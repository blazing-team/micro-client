const _0x577567=_0x4078;(function(_0x12a76b,_0x10a8b7){const _0x40491e=_0x4078,_0x1a5cab=_0x12a76b();while(!![]){try{const _0x5db2bd=parseInt(_0x40491e(0x76))/0x1+parseInt(_0x40491e(0x86))/0x2+-parseInt(_0x40491e(0x88))/0x3*(-parseInt(_0x40491e(0x8d))/0x4)+parseInt(_0x40491e(0x7b))/0x5+parseInt(_0x40491e(0x9c))/0x6*(parseInt(_0x40491e(0xa5))/0x7)+parseInt(_0x40491e(0x72))/0x8*(parseInt(_0x40491e(0x83))/0x9)+-parseInt(_0x40491e(0x98))/0xa*(parseInt(_0x40491e(0xa1))/0xb);if(_0x5db2bd===_0x10a8b7)break;else _0x1a5cab['push'](_0x1a5cab['shift']());}catch(_0x10e9dc){_0x1a5cab['push'](_0x1a5cab['shift']());}}}(_0xf106,0x7dc4e));function _0xf106(){const _0x184249=['inline','HTMLAttributes','711245sBsRsG','selection','getAttribute','schema','nodesBetween','suggestions','map','suggestion','1266282AVUlHA','resolve','options','1278044WdPPWK','view','459432OBwggl','text','deleteTriggerWithBackspace','label','attrs','20Vjjkyc','find','focus','char','nodeAfter','commands','editor','span','renderHTML','$to','doc','3630ZLNdNF','renderLabel','contentMatch','getSelection','1241256swkdiQ','name','nodeSize','matchType','parent','49126lLOBPq','from','renderText','type','7fsldTp','nodes','insertText','length','mentionSuggestionChar','16eaaNFh','data-id','dom','state','101045toCZYP','run','data-label'];_0xf106=function(){return _0x184249;};return _0xf106();}import{N as _0x1105f3,m as _0x17bc49}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x57c515}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x469ea0}from'./@tiptap.suggestion-D1eFLxRa.js';function _0x4078(_0x47bcaa,_0x5706ee){_0x47bcaa=_0x47bcaa-0x71;const _0xf106fd=_0xf106();let _0x407809=_0xf106fd[_0x47bcaa];return _0x407809;}import{a as _0x23b36f}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x48e498,overrideSuggestionOptions:_0x22cdd9,extensionName:_0x2e7fc7,char:_0x454574='@'}){const _0x2b131f=new _0x23b36f();return{'editor':_0x48e498,'char':_0x454574,'pluginKey':_0x2b131f,'command':({editor:_0x1c9e49,range:_0x200682,props:_0x47f0ee})=>{const _0x440bf2=_0x4078;var _0x12150f,_0x2f1f10,_0x39c3e;const _0x226c42=_0x1c9e49[_0x440bf2(0x87)][_0x440bf2(0x75)][_0x440bf2(0x7c)][_0x440bf2(0x96)][_0x440bf2(0x91)];((_0x12150f=_0x226c42==null?void 0x0:_0x226c42[_0x440bf2(0x89)])===null||_0x12150f===void 0x0?void 0x0:_0x12150f['startsWith']('\x20'))&&(_0x200682['to']+=0x1),_0x1c9e49['chain']()[_0x440bf2(0x8f)]()['insertContentAt'](_0x200682,[{'type':_0x2e7fc7,'attrs':{..._0x47f0ee,'mentionSuggestionChar':_0x454574}},{'type':_0x440bf2(0x89),'text':'\x20'}])[_0x440bf2(0x77)](),(_0x39c3e=(_0x2f1f10=_0x1c9e49[_0x440bf2(0x87)][_0x440bf2(0x74)]['ownerDocument']['defaultView'])===null||_0x2f1f10===void 0x0?void 0x0:_0x2f1f10[_0x440bf2(0x9b)]())===null||_0x39c3e===void 0x0||_0x39c3e['collapseToEnd']();},'allow':({state:_0x2294ba,range:_0x29d076})=>{const _0x2b3f12=_0x4078,_0x205a73=_0x2294ba[_0x2b3f12(0x97)][_0x2b3f12(0x84)](_0x29d076[_0x2b3f12(0xa2)]),_0x23559b=_0x2294ba[_0x2b3f12(0x7e)][_0x2b3f12(0xa6)][_0x2e7fc7];return!!_0x205a73[_0x2b3f12(0xa0)][_0x2b3f12(0xa4)][_0x2b3f12(0x9a)][_0x2b3f12(0x9f)](_0x23559b);},..._0x22cdd9};}function h(_0x4461e8){const _0x1d71d3=_0x4078;return(_0x4461e8['options'][_0x1d71d3(0x80)][_0x1d71d3(0xa8)]?_0x4461e8['options']['suggestions']:[_0x4461e8[_0x1d71d3(0x85)]['suggestion']])[_0x1d71d3(0x81)](_0x32d3a1=>v({'editor':_0x4461e8['editor'],'overrideSuggestionOptions':_0x32d3a1,'extensionName':_0x4461e8[_0x1d71d3(0x9d)],'char':_0x32d3a1[_0x1d71d3(0x90)]}));}function g(_0x4dfaa8,_0x1d2c5b){const _0x212bf8=_0x4078,_0x17a0b8=h(_0x4dfaa8),_0x5c50d7=_0x17a0b8[_0x212bf8(0x8e)](_0x4dbaf3=>_0x4dbaf3[_0x212bf8(0x90)]===_0x1d2c5b);return _0x5c50d7||(_0x17a0b8[_0x212bf8(0xa8)]?_0x17a0b8[0x0]:null);}const w=_0x1105f3['create']({'name':'mention','priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x5bd5a6,suggestion:_0x453707}){const _0x2c6771=_0x4078;var _0x2b48b7,_0x26d932;return''+((_0x2b48b7=_0x453707==null?void 0x0:_0x453707[_0x2c6771(0x90)])!==null&&_0x2b48b7!==void 0x0?_0x2b48b7:'@')+((_0x26d932=_0x5bd5a6[_0x2c6771(0x8c)][_0x2c6771(0x8b)])!==null&&_0x26d932!==void 0x0?_0x26d932:_0x5bd5a6['attrs']['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x3b38d9,node:_0x34846c,suggestion:_0xab7af0}){const _0x237a83=_0x4078;var _0x47baaa,_0x421487;return['span',_0x17bc49(this[_0x237a83(0x7a)],_0x3b38d9[_0x237a83(0x7a)]),''+((_0x47baaa=_0xab7af0==null?void 0x0:_0xab7af0['char'])!==null&&_0x47baaa!==void 0x0?_0x47baaa:'@')+((_0x421487=_0x34846c[_0x237a83(0x8c)][_0x237a83(0x8b)])!==null&&_0x421487!==void 0x0?_0x421487:_0x34846c[_0x237a83(0x8c)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x577567(0x79),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x36eb0f=_0x577567;return{'id':{'default':null,'parseHTML':_0x4ac5bb=>_0x4ac5bb[_0x36eb0f(0x7d)](_0x36eb0f(0x73)),'renderHTML':_0x4b1c79=>_0x4b1c79['id']?{'data-id':_0x4b1c79['id']}:{}},'label':{'default':null,'parseHTML':_0x14ba12=>_0x14ba12[_0x36eb0f(0x7d)](_0x36eb0f(0x78)),'renderHTML':_0x14178e=>_0x14178e['label']?{'data-label':_0x14178e['label']}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x56f72f=>_0x56f72f[_0x36eb0f(0x7d)]('data-mention-suggestion-char'),'renderHTML':_0x4e3e2f=>({'data-mention-suggestion-char':_0x4e3e2f['mentionSuggestionChar']})}};},'parseHTML'(){const _0x5ba8a5=_0x577567;return[{'tag':'span[data-type=\x22'+this[_0x5ba8a5(0x9d)]+'\x22]'}];},'renderHTML'({node:_0x4fe04d,HTMLAttributes:_0x25b3db}){const _0x1af691=_0x577567,_0xf35d1a=g(this,_0x4fe04d[_0x1af691(0x8c)][_0x1af691(0x71)]);if(this[_0x1af691(0x85)][_0x1af691(0x99)]!==void 0x0)return[_0x1af691(0x94),_0x17bc49({'data-type':this[_0x1af691(0x9d)]},this[_0x1af691(0x85)][_0x1af691(0x7a)],_0x25b3db),this[_0x1af691(0x85)][_0x1af691(0x99)]({'options':this[_0x1af691(0x85)],'node':_0x4fe04d,'suggestion':_0xf35d1a})];const _0x15b134={...this[_0x1af691(0x85)]};_0x15b134['HTMLAttributes']=_0x17bc49({'data-type':this[_0x1af691(0x9d)]},this[_0x1af691(0x85)]['HTMLAttributes'],_0x25b3db);const _0x28a41c=this['options'][_0x1af691(0x95)]({'options':_0x15b134,'node':_0x4fe04d,'suggestion':_0xf35d1a});return typeof _0x28a41c=='string'?[_0x1af691(0x94),_0x17bc49({'data-type':this[_0x1af691(0x9d)]},this[_0x1af691(0x85)][_0x1af691(0x7a)],_0x25b3db),_0x28a41c]:_0x28a41c;},'renderText'({node:_0xb440cf}){const _0x46f9c0=_0x577567,_0x3a8478={'options':this[_0x46f9c0(0x85)],'node':_0xb440cf,'suggestion':g(this,_0xb440cf[_0x46f9c0(0x8c)][_0x46f9c0(0x71)])};return this[_0x46f9c0(0x85)][_0x46f9c0(0x99)]!==void 0x0?this[_0x46f9c0(0x85)][_0x46f9c0(0x99)](_0x3a8478):this['options'][_0x46f9c0(0xa3)](_0x3a8478);},'addKeyboardShortcuts'(){const _0xf9d4f6=_0x577567;return{'Backspace':()=>this[_0xf9d4f6(0x93)][_0xf9d4f6(0x92)]['command'](({tr:_0x3ce8db,state:_0x83c2cd})=>{const _0x445025=_0xf9d4f6;let _0x2edf52=!0x1;const {selection:_0x1be61e}=_0x83c2cd,{empty:_0x46ea7c,anchor:_0x3a053b}=_0x1be61e;if(!_0x46ea7c)return!0x1;_0x83c2cd[_0x445025(0x97)][_0x445025(0x7f)](_0x3a053b-0x1,_0x3a053b,(_0x2f7cd3,_0x2693fc)=>{const _0x2575b8=_0x445025;if(_0x2f7cd3['type'][_0x2575b8(0x9d)]===this[_0x2575b8(0x9d)])return _0x2edf52=!0x0,_0x3ce8db[_0x2575b8(0xa7)](this['options'][_0x2575b8(0x8a)]?'':this[_0x2575b8(0x85)][_0x2575b8(0x82)][_0x2575b8(0x90)]||'',_0x2693fc,_0x2693fc+_0x2f7cd3[_0x2575b8(0x9e)]),!0x1;});let _0x4a3f9a=new _0x57c515(),_0x3b7b1b=0x0;return _0x83c2cd[_0x445025(0x97)]['nodesBetween'](_0x3a053b-0x1,_0x3a053b,(_0x5b46a6,_0x5130a4)=>{const _0x320de6=_0x445025;if(_0x5b46a6['type'][_0x320de6(0x9d)]===this['name'])return _0x2edf52=!0x0,_0x4a3f9a=_0x5b46a6,_0x3b7b1b=_0x5130a4,!0x1;}),_0x2edf52&&_0x3ce8db[_0x445025(0xa7)](this[_0x445025(0x85)][_0x445025(0x8a)]?'':_0x4a3f9a[_0x445025(0x8c)][_0x445025(0x71)],_0x3b7b1b,_0x3b7b1b+_0x4a3f9a[_0x445025(0x9e)]),_0x2edf52;})};},'addProseMirrorPlugins'(){const _0x307b82=_0x577567;return h(this)[_0x307b82(0x81)](_0x469ea0);}});export{w as M};