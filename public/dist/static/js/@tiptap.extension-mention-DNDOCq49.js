const _0x32bb90=_0x451f;(function(_0x3b1097,_0x1775d1){const _0x520827=_0x451f,_0x1203e3=_0x3b1097();while(!![]){try{const _0xdcecc4=-parseInt(_0x520827(0x96))/0x1+parseInt(_0x520827(0x94))/0x2+parseInt(_0x520827(0xb5))/0x3*(parseInt(_0x520827(0xa3))/0x4)+parseInt(_0x520827(0x8b))/0x5*(parseInt(_0x520827(0x9c))/0x6)+-parseInt(_0x520827(0xa1))/0x7*(parseInt(_0x520827(0xb1))/0x8)+parseInt(_0x520827(0x8f))/0x9*(-parseInt(_0x520827(0xb9))/0xa)+-parseInt(_0x520827(0x92))/0xb;if(_0xdcecc4===_0x1775d1)break;else _0x1203e3['push'](_0x1203e3['shift']());}catch(_0x1476e0){_0x1203e3['push'](_0x1203e3['shift']());}}}(_0x3499,0x7f834));import{N as _0x305c5a,m as _0x57eea3}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x584797}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x125a25}from'./@tiptap.suggestion-D1eFLxRa.js';function _0x3499(){const _0x2e8999=['text','attrs','HTMLAttributes','dom','collapseToEnd','state','renderText','type','options','string','nodes','454056YqWJTu','nodeAfter','renderLabel','doc','39Hhlfbi','selection','deleteTriggerWithBackspace','length','20SQOKUi','mentionSuggestionChar','data-mention-suggestion-char','map','nodesBetween','span[data-type=\x22','label','resolve','command','5bHGUwF','inline','name','suggestions','3934341VDkWFK','defaultView','focus','3106488COqTkS','editor','1595012tYkqCO','contentMatch','165716jrMKDs','char','nodeSize','schema','view','$to','5541618XnoZDC','renderHTML','find','span','suggestion','7IQourX','getAttribute','55496dSNNVo','run','parent'];_0x3499=function(){return _0x2e8999;};return _0x3499();}import{a as _0x230e91}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x101a3f,overrideSuggestionOptions:_0x101d61,extensionName:_0x4952c4,char:_0x2bfc9d='@'}){const _0x5e323d=new _0x230e91();return{'editor':_0x101a3f,'char':_0x2bfc9d,'pluginKey':_0x5e323d,'command':({editor:_0x3ed00c,range:_0x424d1e,props:_0x418872})=>{const _0x9f4da9=_0x451f;var _0x1a9bfc,_0x17fa93,_0x4f1dc2;const _0x1888bd=_0x3ed00c[_0x9f4da9(0x9a)][_0x9f4da9(0xab)][_0x9f4da9(0xb6)][_0x9f4da9(0x9b)][_0x9f4da9(0xb2)];((_0x1a9bfc=_0x1888bd==null?void 0x0:_0x1888bd[_0x9f4da9(0xa6)])===null||_0x1a9bfc===void 0x0?void 0x0:_0x1a9bfc['startsWith']('\x20'))&&(_0x424d1e['to']+=0x1),_0x3ed00c['chain']()[_0x9f4da9(0x91)]()['insertContentAt'](_0x424d1e,[{'type':_0x4952c4,'attrs':{..._0x418872,'mentionSuggestionChar':_0x2bfc9d}},{'type':_0x9f4da9(0xa6),'text':'\x20'}])[_0x9f4da9(0xa4)](),(_0x4f1dc2=(_0x17fa93=_0x3ed00c['view'][_0x9f4da9(0xa9)]['ownerDocument'][_0x9f4da9(0x90)])===null||_0x17fa93===void 0x0?void 0x0:_0x17fa93['getSelection']())===null||_0x4f1dc2===void 0x0||_0x4f1dc2[_0x9f4da9(0xaa)]();},'allow':({state:_0x2f7acf,range:_0x2df200})=>{const _0x1df79a=_0x451f,_0x2c2754=_0x2f7acf[_0x1df79a(0xb4)][_0x1df79a(0x89)](_0x2df200['from']),_0x2ba888=_0x2f7acf[_0x1df79a(0x99)][_0x1df79a(0xb0)][_0x4952c4];return!!_0x2c2754[_0x1df79a(0xa5)][_0x1df79a(0xad)][_0x1df79a(0x95)]['matchType'](_0x2ba888);},..._0x101d61};}function _0x451f(_0x4ac3e0,_0x56ffaa){_0x4ac3e0=_0x4ac3e0-0x89;const _0x349938=_0x3499();let _0x451fe1=_0x349938[_0x4ac3e0];return _0x451fe1;}function h(_0x41fee7){const _0x43ebc0=_0x451f;return(_0x41fee7['options'][_0x43ebc0(0x8e)][_0x43ebc0(0xb8)]?_0x41fee7[_0x43ebc0(0xae)][_0x43ebc0(0x8e)]:[_0x41fee7[_0x43ebc0(0xae)][_0x43ebc0(0xa0)]])[_0x43ebc0(0xbc)](_0x47256c=>v({'editor':_0x41fee7[_0x43ebc0(0x93)],'overrideSuggestionOptions':_0x47256c,'extensionName':_0x41fee7['name'],'char':_0x47256c['char']}));}function g(_0x69ae91,_0x56af81){const _0x39bd45=_0x451f,_0x2e3a05=h(_0x69ae91),_0x44ceeb=_0x2e3a05[_0x39bd45(0x9e)](_0x5b3086=>_0x5b3086['char']===_0x56af81);return _0x44ceeb||(_0x2e3a05[_0x39bd45(0xb8)]?_0x2e3a05[0x0]:null);}const w=_0x305c5a['create']({'name':'mention','priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x2d1d40,suggestion:_0x5a5413}){const _0x264872=_0x451f;var _0x6339ab,_0x18dd92;return''+((_0x6339ab=_0x5a5413==null?void 0x0:_0x5a5413['char'])!==null&&_0x6339ab!==void 0x0?_0x6339ab:'@')+((_0x18dd92=_0x2d1d40[_0x264872(0xa7)]['label'])!==null&&_0x18dd92!==void 0x0?_0x18dd92:_0x2d1d40[_0x264872(0xa7)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0xe1b881,node:_0x446a1c,suggestion:_0x252a81}){const _0x318343=_0x451f;var _0x3636a3,_0x166ced;return[_0x318343(0x9f),_0x57eea3(this[_0x318343(0xa8)],_0xe1b881[_0x318343(0xa8)]),''+((_0x3636a3=_0x252a81==null?void 0x0:_0x252a81['char'])!==null&&_0x3636a3!==void 0x0?_0x3636a3:'@')+((_0x166ced=_0x446a1c[_0x318343(0xa7)]['label'])!==null&&_0x166ced!==void 0x0?_0x166ced:_0x446a1c['attrs']['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x32bb90(0x8c),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0xc6cf15=_0x32bb90;return{'id':{'default':null,'parseHTML':_0x1cc125=>_0x1cc125[_0xc6cf15(0xa2)]('data-id'),'renderHTML':_0x5c6dad=>_0x5c6dad['id']?{'data-id':_0x5c6dad['id']}:{}},'label':{'default':null,'parseHTML':_0x3202ab=>_0x3202ab[_0xc6cf15(0xa2)]('data-label'),'renderHTML':_0xdacf6c=>_0xdacf6c[_0xc6cf15(0xbf)]?{'data-label':_0xdacf6c[_0xc6cf15(0xbf)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x39fefd=>_0x39fefd[_0xc6cf15(0xa2)](_0xc6cf15(0xbb)),'renderHTML':_0x2f29f1=>({'data-mention-suggestion-char':_0x2f29f1['mentionSuggestionChar']})}};},'parseHTML'(){const _0x18fe00=_0x32bb90;return[{'tag':_0x18fe00(0xbe)+this[_0x18fe00(0x8d)]+'\x22]'}];},'renderHTML'({node:_0x4df961,HTMLAttributes:_0x42f20b}){const _0x245e59=_0x32bb90,_0x10e959=g(this,_0x4df961[_0x245e59(0xa7)][_0x245e59(0xba)]);if(this['options'][_0x245e59(0xb3)]!==void 0x0)return['span',_0x57eea3({'data-type':this[_0x245e59(0x8d)]},this[_0x245e59(0xae)]['HTMLAttributes'],_0x42f20b),this['options']['renderLabel']({'options':this[_0x245e59(0xae)],'node':_0x4df961,'suggestion':_0x10e959})];const _0x171279={...this['options']};_0x171279[_0x245e59(0xa8)]=_0x57eea3({'data-type':this[_0x245e59(0x8d)]},this[_0x245e59(0xae)]['HTMLAttributes'],_0x42f20b);const _0x4b92fa=this[_0x245e59(0xae)][_0x245e59(0x9d)]({'options':_0x171279,'node':_0x4df961,'suggestion':_0x10e959});return typeof _0x4b92fa==_0x245e59(0xaf)?[_0x245e59(0x9f),_0x57eea3({'data-type':this[_0x245e59(0x8d)]},this[_0x245e59(0xae)][_0x245e59(0xa8)],_0x42f20b),_0x4b92fa]:_0x4b92fa;},'renderText'({node:_0x154d62}){const _0x5c67fd=_0x32bb90,_0x516fb7={'options':this[_0x5c67fd(0xae)],'node':_0x154d62,'suggestion':g(this,_0x154d62[_0x5c67fd(0xa7)][_0x5c67fd(0xba)])};return this[_0x5c67fd(0xae)][_0x5c67fd(0xb3)]!==void 0x0?this['options'][_0x5c67fd(0xb3)](_0x516fb7):this['options'][_0x5c67fd(0xac)](_0x516fb7);},'addKeyboardShortcuts'(){const _0x8ffe7=_0x32bb90;return{'Backspace':()=>this['editor']['commands'][_0x8ffe7(0x8a)](({tr:_0x3931bc,state:_0x3be5e1})=>{const _0x2af495=_0x8ffe7;let _0x3bed7e=!0x1;const {selection:_0x58fc3b}=_0x3be5e1,{empty:_0x11d2e0,anchor:_0x4869b2}=_0x58fc3b;if(!_0x11d2e0)return!0x1;_0x3be5e1[_0x2af495(0xb4)][_0x2af495(0xbd)](_0x4869b2-0x1,_0x4869b2,(_0x24db17,_0x4216e6)=>{const _0x393400=_0x2af495;if(_0x24db17[_0x393400(0xad)][_0x393400(0x8d)]===this[_0x393400(0x8d)])return _0x3bed7e=!0x0,_0x3931bc['insertText'](this['options'][_0x393400(0xb7)]?'':this[_0x393400(0xae)]['suggestion'][_0x393400(0x97)]||'',_0x4216e6,_0x4216e6+_0x24db17[_0x393400(0x98)]),!0x1;});let _0x4af7fb=new _0x584797(),_0x39e58f=0x0;return _0x3be5e1['doc'][_0x2af495(0xbd)](_0x4869b2-0x1,_0x4869b2,(_0x379129,_0x105a5a)=>{const _0x180710=_0x2af495;if(_0x379129[_0x180710(0xad)][_0x180710(0x8d)]===this[_0x180710(0x8d)])return _0x3bed7e=!0x0,_0x4af7fb=_0x379129,_0x39e58f=_0x105a5a,!0x1;}),_0x3bed7e&&_0x3931bc['insertText'](this[_0x2af495(0xae)]['deleteTriggerWithBackspace']?'':_0x4af7fb[_0x2af495(0xa7)][_0x2af495(0xba)],_0x39e58f,_0x39e58f+_0x4af7fb['nodeSize']),_0x3bed7e;})};},'addProseMirrorPlugins'(){return h(this)['map'](_0x125a25);}});export{w as M};