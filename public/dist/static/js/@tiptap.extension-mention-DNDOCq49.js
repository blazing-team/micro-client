function _0x4807(_0xf00179,_0x21370c){_0xf00179=_0xf00179-0x130;const _0x31fd25=_0x31fd();let _0x4807a3=_0x31fd25[_0xf00179];return _0x4807a3;}function _0x31fd(){const _0x4e23e4=['data-id','data-label','132UILqNd','1353140zTudRS','contentMatch','attrs','length','mention','span[data-type=\x22','19130CeomSu','deleteTriggerWithBackspace','277224cjsMdu','selection','matchType','insertContentAt','nodes','12387720aFAxLy','focus','commands','data-mention-suggestion-char','renderLabel','29829pEqvsV','suggestion','242kKDsSV','startsWith','getSelection','command','125Igpanx','suggestions','ownerDocument','renderHTML','nodeSize','inline','text','844317dbAGmD','char','defaultView','schema','insertText','mentionSuggestionChar','run','from','472juvoId','view','collapseToEnd','doc','map','find','options','88GiVdbE','250607ynkdyU','nodesBetween','type','create','label','name','HTMLAttributes','getAttribute'];_0x31fd=function(){return _0x4e23e4;};return _0x31fd();}const _0x5c8aab=_0x4807;(function(_0x2de6f0,_0x46c859){const _0x47b3c4=_0x4807,_0x3b3253=_0x2de6f0();while(!![]){try{const _0x4b754d=-parseInt(_0x47b3c4(0x151))/0x1*(-parseInt(_0x47b3c4(0x13f))/0x2)+-parseInt(_0x47b3c4(0x14b))/0x3*(parseInt(_0x47b3c4(0x160))/0x4)+-parseInt(_0x47b3c4(0x139))/0x5+parseInt(_0x47b3c4(0x138))/0x6*(parseInt(_0x47b3c4(0x168))/0x7)+-parseInt(_0x47b3c4(0x167))/0x8*(-parseInt(_0x47b3c4(0x158))/0x9)+-parseInt(_0x47b3c4(0x146))/0xa+parseInt(_0x47b3c4(0x14d))/0xb*(parseInt(_0x47b3c4(0x141))/0xc);if(_0x4b754d===_0x46c859)break;else _0x3b3253['push'](_0x3b3253['shift']());}catch(_0x550cbe){_0x3b3253['push'](_0x3b3253['shift']());}}}(_0x31fd,0xcd438));import{N as _0x532149,m as _0x40989d}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x5af282}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x1c6996}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x173f4a}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x144be9,overrideSuggestionOptions:_0x388d88,extensionName:_0x235b74,char:_0x42e77e='@'}){const _0x515113=new _0x173f4a();return{'editor':_0x144be9,'char':_0x42e77e,'pluginKey':_0x515113,'command':({editor:_0x556cc3,range:_0x1f25cc,props:_0x4d5b43})=>{const _0x1ce0b3=_0x4807;var _0x36c82f,_0x1a4334,_0xcca495;const _0x183f12=_0x556cc3[_0x1ce0b3(0x161)]['state'][_0x1ce0b3(0x142)]['$to']['nodeAfter'];((_0x36c82f=_0x183f12==null?void 0x0:_0x183f12[_0x1ce0b3(0x157)])===null||_0x36c82f===void 0x0?void 0x0:_0x36c82f[_0x1ce0b3(0x14e)]('\x20'))&&(_0x1f25cc['to']+=0x1),_0x556cc3['chain']()[_0x1ce0b3(0x147)]()[_0x1ce0b3(0x144)](_0x1f25cc,[{'type':_0x235b74,'attrs':{..._0x4d5b43,'mentionSuggestionChar':_0x42e77e}},{'type':_0x1ce0b3(0x157),'text':'\x20'}])[_0x1ce0b3(0x15e)](),(_0xcca495=(_0x1a4334=_0x556cc3['view']['dom'][_0x1ce0b3(0x153)][_0x1ce0b3(0x15a)])===null||_0x1a4334===void 0x0?void 0x0:_0x1a4334[_0x1ce0b3(0x14f)]())===null||_0xcca495===void 0x0||_0xcca495[_0x1ce0b3(0x162)]();},'allow':({state:_0x521b1e,range:_0x174e6b})=>{const _0x1b4e99=_0x4807,_0x2dc0a0=_0x521b1e[_0x1b4e99(0x163)]['resolve'](_0x174e6b[_0x1b4e99(0x15f)]),_0x2f5f1f=_0x521b1e[_0x1b4e99(0x15b)][_0x1b4e99(0x145)][_0x235b74];return!!_0x2dc0a0['parent']['type'][_0x1b4e99(0x13a)][_0x1b4e99(0x143)](_0x2f5f1f);},..._0x388d88};}function h(_0x1ef32e){const _0x112edd=_0x4807;return(_0x1ef32e[_0x112edd(0x166)][_0x112edd(0x152)][_0x112edd(0x13c)]?_0x1ef32e[_0x112edd(0x166)][_0x112edd(0x152)]:[_0x1ef32e[_0x112edd(0x166)][_0x112edd(0x14c)]])['map'](_0x177e8a=>v({'editor':_0x1ef32e['editor'],'overrideSuggestionOptions':_0x177e8a,'extensionName':_0x1ef32e['name'],'char':_0x177e8a[_0x112edd(0x159)]}));}function g(_0x32dde4,_0x52b985){const _0x720369=_0x4807,_0x5b9cd6=h(_0x32dde4),_0x14f0ae=_0x5b9cd6[_0x720369(0x165)](_0x4e9728=>_0x4e9728['char']===_0x52b985);return _0x14f0ae||(_0x5b9cd6[_0x720369(0x13c)]?_0x5b9cd6[0x0]:null);}const w=_0x532149[_0x5c8aab(0x131)]({'name':_0x5c8aab(0x13d),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x5bfeb7,suggestion:_0x266565}){const _0x597b63=_0x4807;var _0xa76484,_0x1288e9;return''+((_0xa76484=_0x266565==null?void 0x0:_0x266565['char'])!==null&&_0xa76484!==void 0x0?_0xa76484:'@')+((_0x1288e9=_0x5bfeb7[_0x597b63(0x13b)][_0x597b63(0x132)])!==null&&_0x1288e9!==void 0x0?_0x1288e9:_0x5bfeb7[_0x597b63(0x13b)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x402e59,node:_0x4ee056,suggestion:_0x131573}){const _0x50585e=_0x4807;var _0x4fd5ee,_0x21aacf;return['span',_0x40989d(this[_0x50585e(0x134)],_0x402e59[_0x50585e(0x134)]),''+((_0x4fd5ee=_0x131573==null?void 0x0:_0x131573[_0x50585e(0x159)])!==null&&_0x4fd5ee!==void 0x0?_0x4fd5ee:'@')+((_0x21aacf=_0x4ee056['attrs'][_0x50585e(0x132)])!==null&&_0x21aacf!==void 0x0?_0x21aacf:_0x4ee056[_0x50585e(0x13b)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x5c8aab(0x156),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x4ba47f=_0x5c8aab;return{'id':{'default':null,'parseHTML':_0x5ebe03=>_0x5ebe03[_0x4ba47f(0x135)](_0x4ba47f(0x136)),'renderHTML':_0x3926d9=>_0x3926d9['id']?{'data-id':_0x3926d9['id']}:{}},'label':{'default':null,'parseHTML':_0x59a9a8=>_0x59a9a8[_0x4ba47f(0x135)](_0x4ba47f(0x137)),'renderHTML':_0x10d04a=>_0x10d04a[_0x4ba47f(0x132)]?{'data-label':_0x10d04a[_0x4ba47f(0x132)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x29e3b5=>_0x29e3b5[_0x4ba47f(0x135)](_0x4ba47f(0x149)),'renderHTML':_0x10975b=>({'data-mention-suggestion-char':_0x10975b[_0x4ba47f(0x15d)]})}};},'parseHTML'(){const _0x3ffd12=_0x5c8aab;return[{'tag':_0x3ffd12(0x13e)+this['name']+'\x22]'}];},'renderHTML'({node:_0x4fddb7,HTMLAttributes:_0x2866d9}){const _0x524857=_0x5c8aab,_0x22b85b=g(this,_0x4fddb7['attrs'][_0x524857(0x15d)]);if(this[_0x524857(0x166)]['renderLabel']!==void 0x0)return['span',_0x40989d({'data-type':this[_0x524857(0x133)]},this[_0x524857(0x166)][_0x524857(0x134)],_0x2866d9),this[_0x524857(0x166)]['renderLabel']({'options':this[_0x524857(0x166)],'node':_0x4fddb7,'suggestion':_0x22b85b})];const _0x3a8e6c={...this[_0x524857(0x166)]};_0x3a8e6c[_0x524857(0x134)]=_0x40989d({'data-type':this[_0x524857(0x133)]},this[_0x524857(0x166)][_0x524857(0x134)],_0x2866d9);const _0x326086=this[_0x524857(0x166)][_0x524857(0x154)]({'options':_0x3a8e6c,'node':_0x4fddb7,'suggestion':_0x22b85b});return typeof _0x326086=='string'?['span',_0x40989d({'data-type':this[_0x524857(0x133)]},this['options'][_0x524857(0x134)],_0x2866d9),_0x326086]:_0x326086;},'renderText'({node:_0x5940b7}){const _0x42217b=_0x5c8aab,_0x190363={'options':this[_0x42217b(0x166)],'node':_0x5940b7,'suggestion':g(this,_0x5940b7[_0x42217b(0x13b)][_0x42217b(0x15d)])};return this[_0x42217b(0x166)][_0x42217b(0x14a)]!==void 0x0?this[_0x42217b(0x166)][_0x42217b(0x14a)](_0x190363):this[_0x42217b(0x166)]['renderText'](_0x190363);},'addKeyboardShortcuts'(){const _0x57d4c0=_0x5c8aab;return{'Backspace':()=>this['editor'][_0x57d4c0(0x148)][_0x57d4c0(0x150)](({tr:_0xee17b2,state:_0x1a7870})=>{const _0x29bd99=_0x57d4c0;let _0x25173a=!0x1;const {selection:_0x5a4067}=_0x1a7870,{empty:_0x217e97,anchor:_0x15617b}=_0x5a4067;if(!_0x217e97)return!0x1;_0x1a7870['doc'][_0x29bd99(0x169)](_0x15617b-0x1,_0x15617b,(_0x514e87,_0x5da36c)=>{const _0x508773=_0x29bd99;if(_0x514e87[_0x508773(0x130)][_0x508773(0x133)]===this[_0x508773(0x133)])return _0x25173a=!0x0,_0xee17b2['insertText'](this[_0x508773(0x166)]['deleteTriggerWithBackspace']?'':this['options']['suggestion'][_0x508773(0x159)]||'',_0x5da36c,_0x5da36c+_0x514e87['nodeSize']),!0x1;});let _0x16108d=new _0x5af282(),_0x274670=0x0;return _0x1a7870[_0x29bd99(0x163)]['nodesBetween'](_0x15617b-0x1,_0x15617b,(_0xe26044,_0x28d33c)=>{const _0x5e66db=_0x29bd99;if(_0xe26044[_0x5e66db(0x130)][_0x5e66db(0x133)]===this['name'])return _0x25173a=!0x0,_0x16108d=_0xe26044,_0x274670=_0x28d33c,!0x1;}),_0x25173a&&_0xee17b2[_0x29bd99(0x15c)](this[_0x29bd99(0x166)][_0x29bd99(0x140)]?'':_0x16108d[_0x29bd99(0x13b)][_0x29bd99(0x15d)],_0x274670,_0x274670+_0x16108d[_0x29bd99(0x155)]),_0x25173a;})};},'addProseMirrorPlugins'(){const _0x2c62fd=_0x5c8aab;return h(this)[_0x2c62fd(0x164)](_0x1c6996);}});export{w as M};