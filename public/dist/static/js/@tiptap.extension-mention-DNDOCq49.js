function _0x27bc(){const _0x5c90a2=['74blLFyI','create','1570917wcFukp','matchType','text','299695vOWvfy','334792lPQvFU','HTMLAttributes','nodeSize','focus','string','run','nodesBetween','inline','suggestion','suggestions','state','attrs','insertText','getAttribute','name','defaultView','data-label','view','185703NpuGpv','renderHTML','parent','label','mentionSuggestionChar','insertContentAt','selection','54UwkHMc','1363860HBCIPg','map','command','options','925655LDWffK','schema','doc','4gyRCaX','data-id','editor','deleteTriggerWithBackspace','length','span','dom','chain','getSelection','data-mention-suggestion-char','contentMatch','nodeAfter','400ykcIDa','resolve','nodes','char','renderLabel','type','mention','94tHGvXP'];_0x27bc=function(){return _0x5c90a2;};return _0x27bc();}function _0x3022(_0x25cc11,_0x358577){_0x25cc11=_0x25cc11-0xdb;const _0x27bc2b=_0x27bc();let _0x302210=_0x27bc2b[_0x25cc11];return _0x302210;}const _0x16f132=_0x3022;(function(_0x44dac8,_0xaa0bca){const _0x104124=_0x3022,_0x940b31=_0x44dac8();while(!![]){try{const _0x196868=-parseInt(_0x104124(0xf0))/0x1*(-parseInt(_0x104124(0xef))/0x2)+-parseInt(_0x104124(0xf2))/0x3+-parseInt(_0x104124(0xdc))/0x4*(-parseInt(_0x104124(0x114))/0x5)+-parseInt(_0x104124(0x10f))/0x6*(parseInt(_0x104124(0x108))/0x7)+-parseInt(_0x104124(0xf6))/0x8+-parseInt(_0x104124(0x110))/0x9+-parseInt(_0x104124(0xe8))/0xa*(-parseInt(_0x104124(0xf5))/0xb);if(_0x196868===_0xaa0bca)break;else _0x940b31['push'](_0x940b31['shift']());}catch(_0x5f2b68){_0x940b31['push'](_0x940b31['shift']());}}}(_0x27bc,0x4ec3c));import{N as _0x1a94d1,m as _0xd85f36}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x4f7420}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x680cd8}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x315047}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x87bd91,overrideSuggestionOptions:_0x21c187,extensionName:_0x36c014,char:_0x28ec6f='@'}){const _0x357a51=new _0x315047();return{'editor':_0x87bd91,'char':_0x28ec6f,'pluginKey':_0x357a51,'command':({editor:_0xb90dbd,range:_0x1d0eda,props:_0x17de74})=>{const _0x444ee4=_0x3022;var _0x36b994,_0x42ad67,_0x43b88e;const _0x4f6ab7=_0xb90dbd[_0x444ee4(0x107)][_0x444ee4(0x100)][_0x444ee4(0x10e)]['$to'][_0x444ee4(0xe7)];((_0x36b994=_0x4f6ab7==null?void 0x0:_0x4f6ab7[_0x444ee4(0xf4)])===null||_0x36b994===void 0x0?void 0x0:_0x36b994['startsWith']('\x20'))&&(_0x1d0eda['to']+=0x1),_0xb90dbd[_0x444ee4(0xe3)]()[_0x444ee4(0xf9)]()[_0x444ee4(0x10d)](_0x1d0eda,[{'type':_0x36c014,'attrs':{..._0x17de74,'mentionSuggestionChar':_0x28ec6f}},{'type':'text','text':'\x20'}])[_0x444ee4(0xfb)](),(_0x43b88e=(_0x42ad67=_0xb90dbd[_0x444ee4(0x107)][_0x444ee4(0xe2)]['ownerDocument'][_0x444ee4(0x105)])===null||_0x42ad67===void 0x0?void 0x0:_0x42ad67[_0x444ee4(0xe4)]())===null||_0x43b88e===void 0x0||_0x43b88e['collapseToEnd']();},'allow':({state:_0x47c6fe,range:_0x27178b})=>{const _0x5b342b=_0x3022,_0x4702f3=_0x47c6fe[_0x5b342b(0xdb)][_0x5b342b(0xe9)](_0x27178b['from']),_0x24bbcd=_0x47c6fe[_0x5b342b(0x115)][_0x5b342b(0xea)][_0x36c014];return!!_0x4702f3[_0x5b342b(0x10a)][_0x5b342b(0xed)][_0x5b342b(0xe6)][_0x5b342b(0xf3)](_0x24bbcd);},..._0x21c187};}function h(_0x2d5caf){const _0x2ae5ad=_0x3022;return(_0x2d5caf[_0x2ae5ad(0x113)][_0x2ae5ad(0xff)][_0x2ae5ad(0xe0)]?_0x2d5caf[_0x2ae5ad(0x113)]['suggestions']:[_0x2d5caf['options'][_0x2ae5ad(0xfe)]])['map'](_0x4342b0=>v({'editor':_0x2d5caf[_0x2ae5ad(0xde)],'overrideSuggestionOptions':_0x4342b0,'extensionName':_0x2d5caf[_0x2ae5ad(0x104)],'char':_0x4342b0[_0x2ae5ad(0xeb)]}));}function g(_0x3fc8f4,_0x36d30a){const _0x2e207f=_0x3022,_0x12ca8a=h(_0x3fc8f4),_0xbf82d9=_0x12ca8a['find'](_0x4ecdd1=>_0x4ecdd1[_0x2e207f(0xeb)]===_0x36d30a);return _0xbf82d9||(_0x12ca8a[_0x2e207f(0xe0)]?_0x12ca8a[0x0]:null);}const w=_0x1a94d1[_0x16f132(0xf1)]({'name':_0x16f132(0xee),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x1af512,suggestion:_0x46df58}){const _0x3f9bbe=_0x3022;var _0x375451,_0x356f55;return''+((_0x375451=_0x46df58==null?void 0x0:_0x46df58['char'])!==null&&_0x375451!==void 0x0?_0x375451:'@')+((_0x356f55=_0x1af512[_0x3f9bbe(0x101)][_0x3f9bbe(0x10b)])!==null&&_0x356f55!==void 0x0?_0x356f55:_0x1af512[_0x3f9bbe(0x101)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x2251ab,node:_0x318f15,suggestion:_0x10154c}){const _0x410955=_0x3022;var _0x352b89,_0x1ab64c;return[_0x410955(0xe1),_0xd85f36(this['HTMLAttributes'],_0x2251ab[_0x410955(0xf7)]),''+((_0x352b89=_0x10154c==null?void 0x0:_0x10154c['char'])!==null&&_0x352b89!==void 0x0?_0x352b89:'@')+((_0x1ab64c=_0x318f15[_0x410955(0x101)]['label'])!==null&&_0x1ab64c!==void 0x0?_0x1ab64c:_0x318f15['attrs']['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x16f132(0xfd),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x39624e=_0x16f132;return{'id':{'default':null,'parseHTML':_0x3f3d9f=>_0x3f3d9f[_0x39624e(0x103)](_0x39624e(0xdd)),'renderHTML':_0x3fff04=>_0x3fff04['id']?{'data-id':_0x3fff04['id']}:{}},'label':{'default':null,'parseHTML':_0x22d54d=>_0x22d54d['getAttribute'](_0x39624e(0x106)),'renderHTML':_0x1d1a89=>_0x1d1a89[_0x39624e(0x10b)]?{'data-label':_0x1d1a89[_0x39624e(0x10b)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x484565=>_0x484565[_0x39624e(0x103)](_0x39624e(0xe5)),'renderHTML':_0x5bfb66=>({'data-mention-suggestion-char':_0x5bfb66['mentionSuggestionChar']})}};},'parseHTML'(){const _0x119784=_0x16f132;return[{'tag':'span[data-type=\x22'+this[_0x119784(0x104)]+'\x22]'}];},'renderHTML'({node:_0x52ad62,HTMLAttributes:_0x4a8818}){const _0x3dc542=_0x16f132,_0x13da5c=g(this,_0x52ad62[_0x3dc542(0x101)][_0x3dc542(0x10c)]);if(this['options'][_0x3dc542(0xec)]!==void 0x0)return['span',_0xd85f36({'data-type':this['name']},this['options'][_0x3dc542(0xf7)],_0x4a8818),this['options'][_0x3dc542(0xec)]({'options':this[_0x3dc542(0x113)],'node':_0x52ad62,'suggestion':_0x13da5c})];const _0x4d02eb={...this[_0x3dc542(0x113)]};_0x4d02eb[_0x3dc542(0xf7)]=_0xd85f36({'data-type':this[_0x3dc542(0x104)]},this[_0x3dc542(0x113)][_0x3dc542(0xf7)],_0x4a8818);const _0x19988c=this[_0x3dc542(0x113)][_0x3dc542(0x109)]({'options':_0x4d02eb,'node':_0x52ad62,'suggestion':_0x13da5c});return typeof _0x19988c==_0x3dc542(0xfa)?[_0x3dc542(0xe1),_0xd85f36({'data-type':this[_0x3dc542(0x104)]},this[_0x3dc542(0x113)]['HTMLAttributes'],_0x4a8818),_0x19988c]:_0x19988c;},'renderText'({node:_0x1803e5}){const _0x206bea=_0x16f132,_0xfa1706={'options':this[_0x206bea(0x113)],'node':_0x1803e5,'suggestion':g(this,_0x1803e5[_0x206bea(0x101)][_0x206bea(0x10c)])};return this[_0x206bea(0x113)][_0x206bea(0xec)]!==void 0x0?this[_0x206bea(0x113)][_0x206bea(0xec)](_0xfa1706):this[_0x206bea(0x113)]['renderText'](_0xfa1706);},'addKeyboardShortcuts'(){const _0x227cb7=_0x16f132;return{'Backspace':()=>this[_0x227cb7(0xde)]['commands'][_0x227cb7(0x112)](({tr:_0x3d6e61,state:_0x26fb84})=>{const _0x30bb82=_0x227cb7;let _0x28ee01=!0x1;const {selection:_0x422e3c}=_0x26fb84,{empty:_0xe4c5,anchor:_0x142099}=_0x422e3c;if(!_0xe4c5)return!0x1;_0x26fb84['doc'][_0x30bb82(0xfc)](_0x142099-0x1,_0x142099,(_0xa74fb7,_0x4dcfa7)=>{const _0x4a6e95=_0x30bb82;if(_0xa74fb7['type'][_0x4a6e95(0x104)]===this['name'])return _0x28ee01=!0x0,_0x3d6e61[_0x4a6e95(0x102)](this[_0x4a6e95(0x113)]['deleteTriggerWithBackspace']?'':this['options'][_0x4a6e95(0xfe)][_0x4a6e95(0xeb)]||'',_0x4dcfa7,_0x4dcfa7+_0xa74fb7[_0x4a6e95(0xf8)]),!0x1;});let _0x4f6a5e=new _0x4f7420(),_0x8a5bc7=0x0;return _0x26fb84[_0x30bb82(0xdb)]['nodesBetween'](_0x142099-0x1,_0x142099,(_0x4518e5,_0x300482)=>{const _0x487ba2=_0x30bb82;if(_0x4518e5[_0x487ba2(0xed)][_0x487ba2(0x104)]===this[_0x487ba2(0x104)])return _0x28ee01=!0x0,_0x4f6a5e=_0x4518e5,_0x8a5bc7=_0x300482,!0x1;}),_0x28ee01&&_0x3d6e61['insertText'](this[_0x30bb82(0x113)][_0x30bb82(0xdf)]?'':_0x4f6a5e[_0x30bb82(0x101)][_0x30bb82(0x10c)],_0x8a5bc7,_0x8a5bc7+_0x4f6a5e[_0x30bb82(0xf8)]),_0x28ee01;})};},'addProseMirrorPlugins'(){const _0xf2409=_0x16f132;return h(this)[_0xf2409(0x111)](_0x680cd8);}});export{w as M};