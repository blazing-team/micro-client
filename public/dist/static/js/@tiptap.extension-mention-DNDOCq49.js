const _0x344084=_0x5de2;(function(_0x38df2f,_0x182842){const _0xc13b9c=_0x5de2,_0x5daa1d=_0x38df2f();while(!![]){try{const _0x4f9ef5=parseInt(_0xc13b9c(0x149))/0x1+-parseInt(_0xc13b9c(0x15d))/0x2+-parseInt(_0xc13b9c(0x141))/0x3+-parseInt(_0xc13b9c(0x157))/0x4*(parseInt(_0xc13b9c(0x13a))/0x5)+parseInt(_0xc13b9c(0x155))/0x6*(-parseInt(_0xc13b9c(0x14a))/0x7)+-parseInt(_0xc13b9c(0x14c))/0x8*(-parseInt(_0xc13b9c(0x13e))/0x9)+-parseInt(_0xc13b9c(0x138))/0xa*(-parseInt(_0xc13b9c(0x145))/0xb);if(_0x4f9ef5===_0x182842)break;else _0x5daa1d['push'](_0x5daa1d['shift']());}catch(_0x1f0789){_0x5daa1d['push'](_0x5daa1d['shift']());}}}(_0x2c2d,0x91076));import{N as _0x369003,m as _0x268e80}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x4d212a}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x1d9445}from'./@tiptap.suggestion-D1eFLxRa.js';function _0x2c2d(){const _0xefc21e=['state','map','data-label','name','renderText','ownerDocument','parent','nodesBetween','renderHTML','label','renderLabel','insertText','options','focus','view','mentionSuggestionChar','110bRfIZU','suggestion','3180670dSOfUt','from','create','span[data-type=\x22','126QfGWdo','suggestions','defaultView','2787315AdTShr','nodeSize','deleteTriggerWithBackspace','span','1757877dhnniL','getAttribute','contentMatch','getSelection','499305mGSTgg','5182443YCjCPO','startsWith','495400oQfnJA','mention','nodeAfter','char','type','data-mention-suggestion-char','text','command','schema','6DtcLeF','matchType','4QehVed','HTMLAttributes','editor','attrs','$to','resolve','449012imccmN','insertContentAt','doc','dom','nodes'];_0x2c2d=function(){return _0xefc21e;};return _0x2c2d();}import{a as _0x24afff}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x2daefb,overrideSuggestionOptions:_0x390b08,extensionName:_0x359b18,char:_0x3f6bd3='@'}){const _0x9988ad=new _0x24afff();return{'editor':_0x2daefb,'char':_0x3f6bd3,'pluginKey':_0x9988ad,'command':({editor:_0x3f9613,range:_0x51435e,props:_0x3719a3})=>{const _0x2f1f7d=_0x5de2;var _0x4a935c,_0x3e3480,_0x4be907;const _0x569ed4=_0x3f9613[_0x2f1f7d(0x136)][_0x2f1f7d(0x162)]['selection'][_0x2f1f7d(0x15b)][_0x2f1f7d(0x14e)];((_0x4a935c=_0x569ed4==null?void 0x0:_0x569ed4[_0x2f1f7d(0x152)])===null||_0x4a935c===void 0x0?void 0x0:_0x4a935c[_0x2f1f7d(0x14b)]('\x20'))&&(_0x51435e['to']+=0x1),_0x3f9613['chain']()[_0x2f1f7d(0x16f)]()[_0x2f1f7d(0x15e)](_0x51435e,[{'type':_0x359b18,'attrs':{..._0x3719a3,'mentionSuggestionChar':_0x3f6bd3}},{'type':_0x2f1f7d(0x152),'text':'\x20'}])['run'](),(_0x4be907=(_0x3e3480=_0x3f9613['view'][_0x2f1f7d(0x160)][_0x2f1f7d(0x167)][_0x2f1f7d(0x140)])===null||_0x3e3480===void 0x0?void 0x0:_0x3e3480[_0x2f1f7d(0x148)]())===null||_0x4be907===void 0x0||_0x4be907['collapseToEnd']();},'allow':({state:_0x297055,range:_0xa9a3dc})=>{const _0x12439a=_0x5de2,_0x14dd67=_0x297055[_0x12439a(0x15f)][_0x12439a(0x15c)](_0xa9a3dc[_0x12439a(0x13b)]),_0x1681f6=_0x297055[_0x12439a(0x154)][_0x12439a(0x161)][_0x359b18];return!!_0x14dd67[_0x12439a(0x168)][_0x12439a(0x150)][_0x12439a(0x147)][_0x12439a(0x156)](_0x1681f6);},..._0x390b08};}function _0x5de2(_0x159ae0,_0x3ac39b){_0x159ae0=_0x159ae0-0x136;const _0x2c2d22=_0x2c2d();let _0x5de2ea=_0x2c2d22[_0x159ae0];return _0x5de2ea;}function h(_0x5d125c){const _0x5003cb=_0x5de2;return(_0x5d125c[_0x5003cb(0x16e)][_0x5003cb(0x13f)]['length']?_0x5d125c[_0x5003cb(0x16e)][_0x5003cb(0x13f)]:[_0x5d125c[_0x5003cb(0x16e)]['suggestion']])[_0x5003cb(0x163)](_0x4d8635=>v({'editor':_0x5d125c['editor'],'overrideSuggestionOptions':_0x4d8635,'extensionName':_0x5d125c[_0x5003cb(0x165)],'char':_0x4d8635[_0x5003cb(0x14f)]}));}function g(_0x4df403,_0x468b7a){const _0x496a25=h(_0x4df403),_0x5e85be=_0x496a25['find'](_0x3708c1=>_0x3708c1['char']===_0x468b7a);return _0x5e85be||(_0x496a25['length']?_0x496a25[0x0]:null);}const w=_0x369003[_0x344084(0x13c)]({'name':_0x344084(0x14d),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x54eea5,suggestion:_0x15f3e7}){const _0x412203=_0x5de2;var _0x1276d5,_0x36770;return''+((_0x1276d5=_0x15f3e7==null?void 0x0:_0x15f3e7[_0x412203(0x14f)])!==null&&_0x1276d5!==void 0x0?_0x1276d5:'@')+((_0x36770=_0x54eea5['attrs'][_0x412203(0x16b)])!==null&&_0x36770!==void 0x0?_0x36770:_0x54eea5['attrs']['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x3837d4,node:_0x5de82b,suggestion:_0x2586fb}){const _0x99e066=_0x5de2;var _0x41ecb1,_0x52c239;return['span',_0x268e80(this[_0x99e066(0x158)],_0x3837d4[_0x99e066(0x158)]),''+((_0x41ecb1=_0x2586fb==null?void 0x0:_0x2586fb[_0x99e066(0x14f)])!==null&&_0x41ecb1!==void 0x0?_0x41ecb1:'@')+((_0x52c239=_0x5de82b[_0x99e066(0x15a)]['label'])!==null&&_0x52c239!==void 0x0?_0x52c239:_0x5de82b[_0x99e066(0x15a)]['id'])];},'suggestions':[],'suggestion':{}};},'group':'inline','inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x11835b=_0x344084;return{'id':{'default':null,'parseHTML':_0x52654f=>_0x52654f[_0x11835b(0x146)]('data-id'),'renderHTML':_0xb44505=>_0xb44505['id']?{'data-id':_0xb44505['id']}:{}},'label':{'default':null,'parseHTML':_0x3db984=>_0x3db984[_0x11835b(0x146)](_0x11835b(0x164)),'renderHTML':_0x5d136e=>_0x5d136e[_0x11835b(0x16b)]?{'data-label':_0x5d136e[_0x11835b(0x16b)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x45c250=>_0x45c250[_0x11835b(0x146)](_0x11835b(0x151)),'renderHTML':_0x5366c7=>({'data-mention-suggestion-char':_0x5366c7[_0x11835b(0x137)]})}};},'parseHTML'(){const _0x1d2c9a=_0x344084;return[{'tag':_0x1d2c9a(0x13d)+this['name']+'\x22]'}];},'renderHTML'({node:_0x419545,HTMLAttributes:_0x181e98}){const _0x1ca42b=_0x344084,_0x4b03eb=g(this,_0x419545[_0x1ca42b(0x15a)]['mentionSuggestionChar']);if(this['options']['renderLabel']!==void 0x0)return[_0x1ca42b(0x144),_0x268e80({'data-type':this[_0x1ca42b(0x165)]},this[_0x1ca42b(0x16e)][_0x1ca42b(0x158)],_0x181e98),this['options'][_0x1ca42b(0x16c)]({'options':this[_0x1ca42b(0x16e)],'node':_0x419545,'suggestion':_0x4b03eb})];const _0x5c1faa={...this[_0x1ca42b(0x16e)]};_0x5c1faa[_0x1ca42b(0x158)]=_0x268e80({'data-type':this['name']},this[_0x1ca42b(0x16e)][_0x1ca42b(0x158)],_0x181e98);const _0x378c4b=this[_0x1ca42b(0x16e)][_0x1ca42b(0x16a)]({'options':_0x5c1faa,'node':_0x419545,'suggestion':_0x4b03eb});return typeof _0x378c4b=='string'?['span',_0x268e80({'data-type':this[_0x1ca42b(0x165)]},this['options']['HTMLAttributes'],_0x181e98),_0x378c4b]:_0x378c4b;},'renderText'({node:_0x2798b3}){const _0x5a105f=_0x344084,_0x230721={'options':this[_0x5a105f(0x16e)],'node':_0x2798b3,'suggestion':g(this,_0x2798b3['attrs']['mentionSuggestionChar'])};return this[_0x5a105f(0x16e)]['renderLabel']!==void 0x0?this['options']['renderLabel'](_0x230721):this[_0x5a105f(0x16e)][_0x5a105f(0x166)](_0x230721);},'addKeyboardShortcuts'(){const _0x3052cb=_0x344084;return{'Backspace':()=>this[_0x3052cb(0x159)]['commands'][_0x3052cb(0x153)](({tr:_0x225b77,state:_0x3fd7c8})=>{const _0x153dcb=_0x3052cb;let _0x31cdcf=!0x1;const {selection:_0x5e576f}=_0x3fd7c8,{empty:_0x166d3a,anchor:_0xdf4fdc}=_0x5e576f;if(!_0x166d3a)return!0x1;_0x3fd7c8[_0x153dcb(0x15f)][_0x153dcb(0x169)](_0xdf4fdc-0x1,_0xdf4fdc,(_0x2a2f9a,_0x51d568)=>{const _0x2ee0c1=_0x153dcb;if(_0x2a2f9a[_0x2ee0c1(0x150)]['name']===this[_0x2ee0c1(0x165)])return _0x31cdcf=!0x0,_0x225b77[_0x2ee0c1(0x16d)](this[_0x2ee0c1(0x16e)][_0x2ee0c1(0x143)]?'':this[_0x2ee0c1(0x16e)][_0x2ee0c1(0x139)]['char']||'',_0x51d568,_0x51d568+_0x2a2f9a['nodeSize']),!0x1;});let _0x5f580e=new _0x4d212a(),_0x338f1e=0x0;return _0x3fd7c8[_0x153dcb(0x15f)][_0x153dcb(0x169)](_0xdf4fdc-0x1,_0xdf4fdc,(_0x1ea271,_0x2f454f)=>{const _0x349b90=_0x153dcb;if(_0x1ea271[_0x349b90(0x150)][_0x349b90(0x165)]===this[_0x349b90(0x165)])return _0x31cdcf=!0x0,_0x5f580e=_0x1ea271,_0x338f1e=_0x2f454f,!0x1;}),_0x31cdcf&&_0x225b77[_0x153dcb(0x16d)](this[_0x153dcb(0x16e)][_0x153dcb(0x143)]?'':_0x5f580e[_0x153dcb(0x15a)][_0x153dcb(0x137)],_0x338f1e,_0x338f1e+_0x5f580e[_0x153dcb(0x142)]),_0x31cdcf;})};},'addProseMirrorPlugins'(){const _0x2c8622=_0x344084;return h(this)[_0x2c8622(0x163)](_0x1d9445);}});export{w as M};