const _0x57a630=_0x4b5f;(function(_0x4888af,_0xd93e32){const _0x33f331=_0x4b5f,_0x4b8e50=_0x4888af();while(!![]){try{const _0xc90d9c=parseInt(_0x33f331(0x17f))/0x1*(-parseInt(_0x33f331(0x193))/0x2)+-parseInt(_0x33f331(0x1a8))/0x3+parseInt(_0x33f331(0x190))/0x4*(parseInt(_0x33f331(0x180))/0x5)+parseInt(_0x33f331(0x181))/0x6*(parseInt(_0x33f331(0x18f))/0x7)+parseInt(_0x33f331(0x1ae))/0x8+parseInt(_0x33f331(0x19e))/0x9+-parseInt(_0x33f331(0x184))/0xa*(parseInt(_0x33f331(0x195))/0xb);if(_0xc90d9c===_0xd93e32)break;else _0x4b8e50['push'](_0x4b8e50['shift']());}catch(_0x36789c){_0x4b8e50['push'](_0x4b8e50['shift']());}}}(_0x597d,0x7181b));import{N as _0x59f76f,m as _0x96ec0b}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x2e9292}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x52de2f}from'./@tiptap.suggestion-D1eFLxRa.js';function _0x597d(){const _0x457280=['renderLabel','nodes','getAttribute','ownerDocument','attrs','run','commands','label','56RJCZEh','28CHEDmo','$to','nodeSize','86554zGCDxV','map','2189kESEpY','inline','state','HTMLAttributes','insertContentAt','data-label','getSelection','renderHTML','insertText','2955636TUegKW','mentionSuggestionChar','nodesBetween','name','dom','parent','char','options','selection','type','2028333haSWTV','data-mention-suggestion-char','editor','suggestions','contentMatch','startsWith','3427872lLTZBC','view','renderText','1QCToCD','642305TFueMx','169716awcJxZ','deleteTriggerWithBackspace','doc','35080hROkRo','length','chain'];_0x597d=function(){return _0x457280;};return _0x597d();}import{a as _0x18589a}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x4a5558,overrideSuggestionOptions:_0x422ac6,extensionName:_0x196560,char:_0x40a0a0='@'}){const _0x4acdb8=new _0x18589a();return{'editor':_0x4a5558,'char':_0x40a0a0,'pluginKey':_0x4acdb8,'command':({editor:_0x5023ba,range:_0x3fedff,props:_0x522ca8})=>{const _0x215d55=_0x4b5f;var _0x13297d,_0x10158e,_0x37595a;const _0x26577e=_0x5023ba[_0x215d55(0x1af)][_0x215d55(0x197)][_0x215d55(0x1a6)][_0x215d55(0x191)]['nodeAfter'];((_0x13297d=_0x26577e==null?void 0x0:_0x26577e['text'])===null||_0x13297d===void 0x0?void 0x0:_0x13297d[_0x215d55(0x1ad)]('\x20'))&&(_0x3fedff['to']+=0x1),_0x5023ba[_0x215d55(0x186)]()['focus']()[_0x215d55(0x199)](_0x3fedff,[{'type':_0x196560,'attrs':{..._0x522ca8,'mentionSuggestionChar':_0x40a0a0}},{'type':'text','text':'\x20'}])[_0x215d55(0x18c)](),(_0x37595a=(_0x10158e=_0x5023ba[_0x215d55(0x1af)][_0x215d55(0x1a2)][_0x215d55(0x18a)]['defaultView'])===null||_0x10158e===void 0x0?void 0x0:_0x10158e[_0x215d55(0x19b)]())===null||_0x37595a===void 0x0||_0x37595a['collapseToEnd']();},'allow':({state:_0x3feb2c,range:_0x4ee6f4})=>{const _0x1ff1c1=_0x4b5f,_0x2bb873=_0x3feb2c[_0x1ff1c1(0x183)]['resolve'](_0x4ee6f4['from']),_0x531365=_0x3feb2c['schema'][_0x1ff1c1(0x188)][_0x196560];return!!_0x2bb873[_0x1ff1c1(0x1a3)][_0x1ff1c1(0x1a7)][_0x1ff1c1(0x1ac)]['matchType'](_0x531365);},..._0x422ac6};}function h(_0x246d58){const _0x4c838a=_0x4b5f;return(_0x246d58['options'][_0x4c838a(0x1ab)]['length']?_0x246d58[_0x4c838a(0x1a5)][_0x4c838a(0x1ab)]:[_0x246d58['options']['suggestion']])[_0x4c838a(0x194)](_0x570cab=>v({'editor':_0x246d58[_0x4c838a(0x1aa)],'overrideSuggestionOptions':_0x570cab,'extensionName':_0x246d58[_0x4c838a(0x1a1)],'char':_0x570cab[_0x4c838a(0x1a4)]}));}function g(_0x1ee803,_0x45491b){const _0x167e81=_0x4b5f,_0x35765f=h(_0x1ee803),_0x181d65=_0x35765f['find'](_0x2865bb=>_0x2865bb['char']===_0x45491b);return _0x181d65||(_0x35765f[_0x167e81(0x185)]?_0x35765f[0x0]:null);}function _0x4b5f(_0x18d6f7,_0x4c22fc){_0x18d6f7=_0x18d6f7-0x17f;const _0x597d0d=_0x597d();let _0x4b5fbd=_0x597d0d[_0x18d6f7];return _0x4b5fbd;}const w=_0x59f76f['create']({'name':'mention','priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x8934f2,suggestion:_0x5e7016}){const _0x4e5cb3=_0x4b5f;var _0xfe621b,_0x2716fc;return''+((_0xfe621b=_0x5e7016==null?void 0x0:_0x5e7016[_0x4e5cb3(0x1a4)])!==null&&_0xfe621b!==void 0x0?_0xfe621b:'@')+((_0x2716fc=_0x8934f2[_0x4e5cb3(0x18b)]['label'])!==null&&_0x2716fc!==void 0x0?_0x2716fc:_0x8934f2['attrs']['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x1b732c,node:_0x47ce9b,suggestion:_0x197ba1}){const _0x382b4a=_0x4b5f;var _0x5a8dca,_0x2a2293;return['span',_0x96ec0b(this[_0x382b4a(0x198)],_0x1b732c[_0x382b4a(0x198)]),''+((_0x5a8dca=_0x197ba1==null?void 0x0:_0x197ba1[_0x382b4a(0x1a4)])!==null&&_0x5a8dca!==void 0x0?_0x5a8dca:'@')+((_0x2a2293=_0x47ce9b['attrs'][_0x382b4a(0x18e)])!==null&&_0x2a2293!==void 0x0?_0x2a2293:_0x47ce9b[_0x382b4a(0x18b)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x57a630(0x196),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x2a9529=_0x57a630;return{'id':{'default':null,'parseHTML':_0x5acc1f=>_0x5acc1f['getAttribute']('data-id'),'renderHTML':_0x10563b=>_0x10563b['id']?{'data-id':_0x10563b['id']}:{}},'label':{'default':null,'parseHTML':_0x16f651=>_0x16f651['getAttribute'](_0x2a9529(0x19a)),'renderHTML':_0x5c43ab=>_0x5c43ab[_0x2a9529(0x18e)]?{'data-label':_0x5c43ab['label']}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x2b99cd=>_0x2b99cd[_0x2a9529(0x189)](_0x2a9529(0x1a9)),'renderHTML':_0x4b742c=>({'data-mention-suggestion-char':_0x4b742c[_0x2a9529(0x19f)]})}};},'parseHTML'(){const _0x4fde40=_0x57a630;return[{'tag':'span[data-type=\x22'+this[_0x4fde40(0x1a1)]+'\x22]'}];},'renderHTML'({node:_0x31b8ae,HTMLAttributes:_0x34a057}){const _0x33fc82=_0x57a630,_0x2436af=g(this,_0x31b8ae['attrs']['mentionSuggestionChar']);if(this[_0x33fc82(0x1a5)][_0x33fc82(0x187)]!==void 0x0)return['span',_0x96ec0b({'data-type':this[_0x33fc82(0x1a1)]},this['options'][_0x33fc82(0x198)],_0x34a057),this['options'][_0x33fc82(0x187)]({'options':this[_0x33fc82(0x1a5)],'node':_0x31b8ae,'suggestion':_0x2436af})];const _0x333a47={...this[_0x33fc82(0x1a5)]};_0x333a47[_0x33fc82(0x198)]=_0x96ec0b({'data-type':this[_0x33fc82(0x1a1)]},this[_0x33fc82(0x1a5)][_0x33fc82(0x198)],_0x34a057);const _0x4da049=this[_0x33fc82(0x1a5)][_0x33fc82(0x19c)]({'options':_0x333a47,'node':_0x31b8ae,'suggestion':_0x2436af});return typeof _0x4da049=='string'?['span',_0x96ec0b({'data-type':this[_0x33fc82(0x1a1)]},this[_0x33fc82(0x1a5)][_0x33fc82(0x198)],_0x34a057),_0x4da049]:_0x4da049;},'renderText'({node:_0x14a690}){const _0x37a663=_0x57a630,_0x220b73={'options':this['options'],'node':_0x14a690,'suggestion':g(this,_0x14a690[_0x37a663(0x18b)][_0x37a663(0x19f)])};return this[_0x37a663(0x1a5)]['renderLabel']!==void 0x0?this['options'][_0x37a663(0x187)](_0x220b73):this[_0x37a663(0x1a5)][_0x37a663(0x1b0)](_0x220b73);},'addKeyboardShortcuts'(){const _0x137048=_0x57a630;return{'Backspace':()=>this[_0x137048(0x1aa)][_0x137048(0x18d)]['command'](({tr:_0x588de6,state:_0x6946fd})=>{const _0x2793e6=_0x137048;let _0x2fb0ce=!0x1;const {selection:_0x2bee54}=_0x6946fd,{empty:_0x69b906,anchor:_0x3c8f34}=_0x2bee54;if(!_0x69b906)return!0x1;_0x6946fd[_0x2793e6(0x183)][_0x2793e6(0x1a0)](_0x3c8f34-0x1,_0x3c8f34,(_0xb7b733,_0x2b8ed2)=>{const _0x4dca40=_0x2793e6;if(_0xb7b733[_0x4dca40(0x1a7)][_0x4dca40(0x1a1)]===this[_0x4dca40(0x1a1)])return _0x2fb0ce=!0x0,_0x588de6[_0x4dca40(0x19d)](this[_0x4dca40(0x1a5)][_0x4dca40(0x182)]?'':this[_0x4dca40(0x1a5)]['suggestion'][_0x4dca40(0x1a4)]||'',_0x2b8ed2,_0x2b8ed2+_0xb7b733[_0x4dca40(0x192)]),!0x1;});let _0x52b4d2=new _0x2e9292(),_0x599d2e=0x0;return _0x6946fd[_0x2793e6(0x183)]['nodesBetween'](_0x3c8f34-0x1,_0x3c8f34,(_0x123fb0,_0xe4e85f)=>{const _0x150b85=_0x2793e6;if(_0x123fb0['type'][_0x150b85(0x1a1)]===this[_0x150b85(0x1a1)])return _0x2fb0ce=!0x0,_0x52b4d2=_0x123fb0,_0x599d2e=_0xe4e85f,!0x1;}),_0x2fb0ce&&_0x588de6[_0x2793e6(0x19d)](this['options'][_0x2793e6(0x182)]?'':_0x52b4d2['attrs'][_0x2793e6(0x19f)],_0x599d2e,_0x599d2e+_0x52b4d2[_0x2793e6(0x192)]),_0x2fb0ce;})};},'addProseMirrorPlugins'(){const _0xaca751=_0x57a630;return h(this)[_0xaca751(0x194)](_0x52de2f);}});export{w as M};