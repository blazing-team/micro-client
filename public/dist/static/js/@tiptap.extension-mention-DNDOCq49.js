const _0x5dc839=_0x1bd5;(function(_0x113e81,_0x467b82){const _0xdf4043=_0x1bd5,_0x5730a9=_0x113e81();while(!![]){try{const _0xdfc6ed=-parseInt(_0xdf4043(0x202))/0x1+-parseInt(_0xdf4043(0x209))/0x2*(parseInt(_0xdf4043(0x1df))/0x3)+-parseInt(_0xdf4043(0x210))/0x4+parseInt(_0xdf4043(0x1e6))/0x5+-parseInt(_0xdf4043(0x201))/0x6*(parseInt(_0xdf4043(0x20d))/0x7)+-parseInt(_0xdf4043(0x1f9))/0x8*(-parseInt(_0xdf4043(0x1e9))/0x9)+parseInt(_0xdf4043(0x1ef))/0xa*(parseInt(_0xdf4043(0x1fd))/0xb);if(_0xdfc6ed===_0x467b82)break;else _0x5730a9['push'](_0x5730a9['shift']());}catch(_0x387452){_0x5730a9['push'](_0x5730a9['shift']());}}}(_0x394d,0xe7a61));import{N as _0x2e5d85,m as _0x2bbdc6}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x3ca294}from'./prosemirror-model-CRZLy2j9.js';import{S as _0xde6ac5}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x1b8038}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x37fd7e,overrideSuggestionOptions:_0x1a9d88,extensionName:_0x3bbce5,char:_0x197c5e='@'}){const _0x1afae3=new _0x1b8038();return{'editor':_0x37fd7e,'char':_0x197c5e,'pluginKey':_0x1afae3,'command':({editor:_0x54b4b1,range:_0x544ad3,props:_0x2a4cca})=>{const _0x7b4a48=_0x1bd5;var _0x47c0a8,_0x463dfa,_0x5e56ed;const _0x2ede22=_0x54b4b1[_0x7b4a48(0x200)][_0x7b4a48(0x1d8)][_0x7b4a48(0x20b)][_0x7b4a48(0x214)][_0x7b4a48(0x20f)];((_0x47c0a8=_0x2ede22==null?void 0x0:_0x2ede22['text'])===null||_0x47c0a8===void 0x0?void 0x0:_0x47c0a8[_0x7b4a48(0x208)]('\x20'))&&(_0x544ad3['to']+=0x1),_0x54b4b1[_0x7b4a48(0x1ee)]()['focus']()[_0x7b4a48(0x1ea)](_0x544ad3,[{'type':_0x3bbce5,'attrs':{..._0x2a4cca,'mentionSuggestionChar':_0x197c5e}},{'type':_0x7b4a48(0x1f6),'text':'\x20'}])[_0x7b4a48(0x1fb)](),(_0x5e56ed=(_0x463dfa=_0x54b4b1[_0x7b4a48(0x200)][_0x7b4a48(0x1ff)][_0x7b4a48(0x1f5)][_0x7b4a48(0x1e8)])===null||_0x463dfa===void 0x0?void 0x0:_0x463dfa[_0x7b4a48(0x1f7)]())===null||_0x5e56ed===void 0x0||_0x5e56ed[_0x7b4a48(0x212)]();},'allow':({state:_0x4064f5,range:_0xf1fa97})=>{const _0x393ba4=_0x1bd5,_0x3353bc=_0x4064f5['doc'][_0x393ba4(0x203)](_0xf1fa97[_0x393ba4(0x205)]),_0x40880e=_0x4064f5[_0x393ba4(0x1e1)][_0x393ba4(0x1f3)][_0x3bbce5];return!!_0x3353bc[_0x393ba4(0x1f2)]['type'][_0x393ba4(0x1de)][_0x393ba4(0x20e)](_0x40880e);},..._0x1a9d88};}function h(_0x403b04){const _0x574d26=_0x1bd5;return(_0x403b04['options'][_0x574d26(0x1fa)][_0x574d26(0x1e0)]?_0x403b04[_0x574d26(0x1ec)][_0x574d26(0x1fa)]:[_0x403b04[_0x574d26(0x1ec)][_0x574d26(0x1e2)]])[_0x574d26(0x211)](_0x2b7501=>v({'editor':_0x403b04[_0x574d26(0x1f4)],'overrideSuggestionOptions':_0x2b7501,'extensionName':_0x403b04[_0x574d26(0x1dc)],'char':_0x2b7501[_0x574d26(0x213)]}));}function _0x1bd5(_0x10df1b,_0x213b1d){_0x10df1b=_0x10df1b-0x1d4;const _0x394da7=_0x394d();let _0x1bd526=_0x394da7[_0x10df1b];return _0x1bd526;}function g(_0x38a9c4,_0x1a8da9){const _0x9b71c4=_0x1bd5,_0x402572=h(_0x38a9c4),_0x340cdf=_0x402572['find'](_0x1bb8f2=>_0x1bb8f2['char']===_0x1a8da9);return _0x340cdf||(_0x402572[_0x9b71c4(0x1e0)]?_0x402572[0x0]:null);}function _0x394d(){const _0x378e40=['doc','create','name','span','contentMatch','1263zHccGH','length','schema','suggestion','data-label','renderText','insertText','9047735rWvbkY','span[data-type=\x22','defaultView','18XGScmR','insertContentAt','nodeSize','options','commands','chain','470VEeSse','data-id','HTMLAttributes','parent','nodes','editor','ownerDocument','text','getSelection','inline','1904944WRAaSE','suggestions','run','deleteTriggerWithBackspace','416482IwktYl','type','dom','view','6wLOtMy','439767pvhXuX','resolve','string','from','renderLabel','command','startsWith','388aaFZmq','attrs','selection','data-mention-suggestion-char','12237099VoBObc','matchType','nodeAfter','3387464FtTzqX','map','collapseToEnd','char','$to','mentionSuggestionChar','label','nodesBetween','renderHTML','state','getAttribute'];_0x394d=function(){return _0x378e40;};return _0x394d();}const w=_0x2e5d85[_0x5dc839(0x1db)]({'name':'mention','priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x2739a4,suggestion:_0x36cae9}){const _0x4fa0bc=_0x1bd5;var _0x50161e,_0x1d5173;return''+((_0x50161e=_0x36cae9==null?void 0x0:_0x36cae9[_0x4fa0bc(0x213)])!==null&&_0x50161e!==void 0x0?_0x50161e:'@')+((_0x1d5173=_0x2739a4[_0x4fa0bc(0x20a)]['label'])!==null&&_0x1d5173!==void 0x0?_0x1d5173:_0x2739a4[_0x4fa0bc(0x20a)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x5c1138,node:_0x2ea680,suggestion:_0x5c99df}){const _0x42ed1f=_0x1bd5;var _0x5debd9,_0x4c5c36;return[_0x42ed1f(0x1dd),_0x2bbdc6(this[_0x42ed1f(0x1f1)],_0x5c1138[_0x42ed1f(0x1f1)]),''+((_0x5debd9=_0x5c99df==null?void 0x0:_0x5c99df[_0x42ed1f(0x213)])!==null&&_0x5debd9!==void 0x0?_0x5debd9:'@')+((_0x4c5c36=_0x2ea680[_0x42ed1f(0x20a)][_0x42ed1f(0x1d5)])!==null&&_0x4c5c36!==void 0x0?_0x4c5c36:_0x2ea680['attrs']['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x5dc839(0x1f8),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x3ac716=_0x5dc839;return{'id':{'default':null,'parseHTML':_0x47f583=>_0x47f583['getAttribute'](_0x3ac716(0x1f0)),'renderHTML':_0x166b9d=>_0x166b9d['id']?{'data-id':_0x166b9d['id']}:{}},'label':{'default':null,'parseHTML':_0x39052a=>_0x39052a[_0x3ac716(0x1d9)](_0x3ac716(0x1e3)),'renderHTML':_0x27ec20=>_0x27ec20[_0x3ac716(0x1d5)]?{'data-label':_0x27ec20[_0x3ac716(0x1d5)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x1ae8a0=>_0x1ae8a0[_0x3ac716(0x1d9)](_0x3ac716(0x20c)),'renderHTML':_0x1b2382=>({'data-mention-suggestion-char':_0x1b2382[_0x3ac716(0x1d4)]})}};},'parseHTML'(){const _0x2ab96f=_0x5dc839;return[{'tag':_0x2ab96f(0x1e7)+this[_0x2ab96f(0x1dc)]+'\x22]'}];},'renderHTML'({node:_0xe584a5,HTMLAttributes:_0x5bc3a6}){const _0x473601=_0x5dc839,_0x591793=g(this,_0xe584a5[_0x473601(0x20a)][_0x473601(0x1d4)]);if(this[_0x473601(0x1ec)][_0x473601(0x206)]!==void 0x0)return['span',_0x2bbdc6({'data-type':this[_0x473601(0x1dc)]},this[_0x473601(0x1ec)]['HTMLAttributes'],_0x5bc3a6),this['options'][_0x473601(0x206)]({'options':this[_0x473601(0x1ec)],'node':_0xe584a5,'suggestion':_0x591793})];const _0xed6242={...this[_0x473601(0x1ec)]};_0xed6242['HTMLAttributes']=_0x2bbdc6({'data-type':this[_0x473601(0x1dc)]},this[_0x473601(0x1ec)][_0x473601(0x1f1)],_0x5bc3a6);const _0x1f493d=this['options'][_0x473601(0x1d7)]({'options':_0xed6242,'node':_0xe584a5,'suggestion':_0x591793});return typeof _0x1f493d==_0x473601(0x204)?['span',_0x2bbdc6({'data-type':this[_0x473601(0x1dc)]},this['options'][_0x473601(0x1f1)],_0x5bc3a6),_0x1f493d]:_0x1f493d;},'renderText'({node:_0x37abb4}){const _0x3139bc=_0x5dc839,_0x31676b={'options':this[_0x3139bc(0x1ec)],'node':_0x37abb4,'suggestion':g(this,_0x37abb4[_0x3139bc(0x20a)][_0x3139bc(0x1d4)])};return this[_0x3139bc(0x1ec)][_0x3139bc(0x206)]!==void 0x0?this[_0x3139bc(0x1ec)][_0x3139bc(0x206)](_0x31676b):this['options'][_0x3139bc(0x1e4)](_0x31676b);},'addKeyboardShortcuts'(){const _0x277a0a=_0x5dc839;return{'Backspace':()=>this['editor'][_0x277a0a(0x1ed)][_0x277a0a(0x207)](({tr:_0x499d69,state:_0x48a9e6})=>{const _0x5ca835=_0x277a0a;let _0x27fc11=!0x1;const {selection:_0x4bcb26}=_0x48a9e6,{empty:_0x26b84e,anchor:_0x10fb35}=_0x4bcb26;if(!_0x26b84e)return!0x1;_0x48a9e6[_0x5ca835(0x1da)]['nodesBetween'](_0x10fb35-0x1,_0x10fb35,(_0x5c7df1,_0x3f6e11)=>{const _0x10d963=_0x5ca835;if(_0x5c7df1[_0x10d963(0x1fe)]['name']===this[_0x10d963(0x1dc)])return _0x27fc11=!0x0,_0x499d69[_0x10d963(0x1e5)](this[_0x10d963(0x1ec)]['deleteTriggerWithBackspace']?'':this[_0x10d963(0x1ec)]['suggestion'][_0x10d963(0x213)]||'',_0x3f6e11,_0x3f6e11+_0x5c7df1[_0x10d963(0x1eb)]),!0x1;});let _0x24826b=new _0x3ca294(),_0x523657=0x0;return _0x48a9e6['doc'][_0x5ca835(0x1d6)](_0x10fb35-0x1,_0x10fb35,(_0x2cd53b,_0xe4973d)=>{const _0x2abaed=_0x5ca835;if(_0x2cd53b['type'][_0x2abaed(0x1dc)]===this['name'])return _0x27fc11=!0x0,_0x24826b=_0x2cd53b,_0x523657=_0xe4973d,!0x1;}),_0x27fc11&&_0x499d69[_0x5ca835(0x1e5)](this[_0x5ca835(0x1ec)][_0x5ca835(0x1fc)]?'':_0x24826b[_0x5ca835(0x20a)]['mentionSuggestionChar'],_0x523657,_0x523657+_0x24826b[_0x5ca835(0x1eb)]),_0x27fc11;})};},'addProseMirrorPlugins'(){return h(this)['map'](_0xde6ac5);}});export{w as M};