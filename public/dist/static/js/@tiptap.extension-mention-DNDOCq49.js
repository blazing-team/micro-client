const _0x457fdb=_0x30cb;(function(_0x2621ba,_0x276966){const _0x3b6820=_0x30cb,_0x4ca2cb=_0x2621ba();while(!![]){try{const _0x4b40bc=parseInt(_0x3b6820(0x117))/0x1+-parseInt(_0x3b6820(0x127))/0x2+-parseInt(_0x3b6820(0x132))/0x3*(-parseInt(_0x3b6820(0x130))/0x4)+parseInt(_0x3b6820(0x137))/0x5+-parseInt(_0x3b6820(0x10a))/0x6+-parseInt(_0x3b6820(0x107))/0x7*(parseInt(_0x3b6820(0x12e))/0x8)+parseInt(_0x3b6820(0x11e))/0x9;if(_0x4b40bc===_0x276966)break;else _0x4ca2cb['push'](_0x4ca2cb['shift']());}catch(_0x3b55ca){_0x4ca2cb['push'](_0x4ca2cb['shift']());}}}(_0x4cc1,0x5428a));import{N as _0x10a480,m as _0x2edd87}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x3ef411}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x4c0e75}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x515653}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x54bf60,overrideSuggestionOptions:_0x551d59,extensionName:_0x5db8b3,char:_0x5ad81a='@'}){const _0x4e8001=new _0x515653();return{'editor':_0x54bf60,'char':_0x5ad81a,'pluginKey':_0x4e8001,'command':({editor:_0x278ff5,range:_0x363b6d,props:_0x48481b})=>{const _0x5b53c2=_0x30cb;var _0x3c2632,_0x4e8b69,_0x55abbd;const _0x2a1e18=_0x278ff5['view'][_0x5b53c2(0x109)][_0x5b53c2(0x11f)][_0x5b53c2(0x11b)][_0x5b53c2(0x133)];((_0x3c2632=_0x2a1e18==null?void 0x0:_0x2a1e18[_0x5b53c2(0x125)])===null||_0x3c2632===void 0x0?void 0x0:_0x3c2632[_0x5b53c2(0x126)]('\x20'))&&(_0x363b6d['to']+=0x1),_0x278ff5[_0x5b53c2(0x110)]()[_0x5b53c2(0x128)]()['insertContentAt'](_0x363b6d,[{'type':_0x5db8b3,'attrs':{..._0x48481b,'mentionSuggestionChar':_0x5ad81a}},{'type':_0x5b53c2(0x125),'text':'\x20'}])['run'](),(_0x55abbd=(_0x4e8b69=_0x278ff5[_0x5b53c2(0x10c)]['dom'][_0x5b53c2(0x11d)][_0x5b53c2(0x135)])===null||_0x4e8b69===void 0x0?void 0x0:_0x4e8b69['getSelection']())===null||_0x55abbd===void 0x0||_0x55abbd[_0x5b53c2(0x121)]();},'allow':({state:_0xed64d5,range:_0x9fe803})=>{const _0x253778=_0x30cb,_0x5d9aeb=_0xed64d5[_0x253778(0x10d)][_0x253778(0x11c)](_0x9fe803['from']),_0x85177d=_0xed64d5['schema'][_0x253778(0x115)][_0x5db8b3];return!!_0x5d9aeb['parent'][_0x253778(0x108)]['contentMatch'][_0x253778(0x131)](_0x85177d);},..._0x551d59};}function _0x4cc1(){const _0x32cf77=['renderLabel','span','getAttribute','$to','resolve','ownerDocument','913122MddfXE','selection','data-label','collapseToEnd','span[data-type=\x22','string','insertText','text','startsWith','582882IZGAds','focus','char','editor','label','deleteTriggerWithBackspace','attrs','32hITglW','command','1282760zqVste','matchType','3ZRiJnK','nodeAfter','suggestion','defaultView','name','1598965pfLHFA','map','inline','515802fLIZaB','type','state','1244310ZwlTsZ','mention','view','doc','nodeSize','renderHTML','chain','mentionSuggestionChar','data-id','HTMLAttributes','length','nodes','options','396343kZfAoO'];_0x4cc1=function(){return _0x32cf77;};return _0x4cc1();}function h(_0x2e40e3){const _0x225387=_0x30cb;return(_0x2e40e3[_0x225387(0x116)]['suggestions'][_0x225387(0x114)]?_0x2e40e3[_0x225387(0x116)]['suggestions']:[_0x2e40e3[_0x225387(0x116)][_0x225387(0x134)]])[_0x225387(0x105)](_0x4d0b5d=>v({'editor':_0x2e40e3[_0x225387(0x12a)],'overrideSuggestionOptions':_0x4d0b5d,'extensionName':_0x2e40e3[_0x225387(0x136)],'char':_0x4d0b5d[_0x225387(0x129)]}));}function _0x30cb(_0x2f4bd2,_0x31c4a2){_0x2f4bd2=_0x2f4bd2-0x105;const _0x4cc157=_0x4cc1();let _0x30cb90=_0x4cc157[_0x2f4bd2];return _0x30cb90;}function g(_0x2e6737,_0x4f675f){const _0x18b774=_0x30cb,_0x5937d9=h(_0x2e6737),_0x2f4ac4=_0x5937d9['find'](_0x262267=>_0x262267[_0x18b774(0x129)]===_0x4f675f);return _0x2f4ac4||(_0x5937d9[_0x18b774(0x114)]?_0x5937d9[0x0]:null);}const w=_0x10a480['create']({'name':_0x457fdb(0x10b),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x352088,suggestion:_0x14d72d}){const _0x523c27=_0x30cb;var _0x2057a4,_0x17ec5f;return''+((_0x2057a4=_0x14d72d==null?void 0x0:_0x14d72d[_0x523c27(0x129)])!==null&&_0x2057a4!==void 0x0?_0x2057a4:'@')+((_0x17ec5f=_0x352088[_0x523c27(0x12d)][_0x523c27(0x12b)])!==null&&_0x17ec5f!==void 0x0?_0x17ec5f:_0x352088['attrs']['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x47de53,node:_0x5ee118,suggestion:_0xc9f5cb}){const _0x41cc74=_0x30cb;var _0x51e383,_0x4b816b;return[_0x41cc74(0x119),_0x2edd87(this['HTMLAttributes'],_0x47de53['HTMLAttributes']),''+((_0x51e383=_0xc9f5cb==null?void 0x0:_0xc9f5cb[_0x41cc74(0x129)])!==null&&_0x51e383!==void 0x0?_0x51e383:'@')+((_0x4b816b=_0x5ee118['attrs']['label'])!==null&&_0x4b816b!==void 0x0?_0x4b816b:_0x5ee118[_0x41cc74(0x12d)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x457fdb(0x106),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x58dc01=_0x457fdb;return{'id':{'default':null,'parseHTML':_0x1011ae=>_0x1011ae[_0x58dc01(0x11a)](_0x58dc01(0x112)),'renderHTML':_0x218f71=>_0x218f71['id']?{'data-id':_0x218f71['id']}:{}},'label':{'default':null,'parseHTML':_0x218aff=>_0x218aff[_0x58dc01(0x11a)](_0x58dc01(0x120)),'renderHTML':_0x26e4ef=>_0x26e4ef['label']?{'data-label':_0x26e4ef[_0x58dc01(0x12b)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x1e367a=>_0x1e367a[_0x58dc01(0x11a)]('data-mention-suggestion-char'),'renderHTML':_0x7daa07=>({'data-mention-suggestion-char':_0x7daa07['mentionSuggestionChar']})}};},'parseHTML'(){const _0x20a6a4=_0x457fdb;return[{'tag':_0x20a6a4(0x122)+this[_0x20a6a4(0x136)]+'\x22]'}];},'renderHTML'({node:_0x5eed92,HTMLAttributes:_0x3c216d}){const _0xc76590=_0x457fdb,_0x4aa873=g(this,_0x5eed92[_0xc76590(0x12d)]['mentionSuggestionChar']);if(this[_0xc76590(0x116)][_0xc76590(0x118)]!==void 0x0)return[_0xc76590(0x119),_0x2edd87({'data-type':this[_0xc76590(0x136)]},this['options'][_0xc76590(0x113)],_0x3c216d),this[_0xc76590(0x116)][_0xc76590(0x118)]({'options':this[_0xc76590(0x116)],'node':_0x5eed92,'suggestion':_0x4aa873})];const _0x1bc7ac={...this[_0xc76590(0x116)]};_0x1bc7ac[_0xc76590(0x113)]=_0x2edd87({'data-type':this[_0xc76590(0x136)]},this[_0xc76590(0x116)][_0xc76590(0x113)],_0x3c216d);const _0x359cbd=this[_0xc76590(0x116)][_0xc76590(0x10f)]({'options':_0x1bc7ac,'node':_0x5eed92,'suggestion':_0x4aa873});return typeof _0x359cbd==_0xc76590(0x123)?[_0xc76590(0x119),_0x2edd87({'data-type':this[_0xc76590(0x136)]},this['options'][_0xc76590(0x113)],_0x3c216d),_0x359cbd]:_0x359cbd;},'renderText'({node:_0x303d05}){const _0x2122c3=_0x457fdb,_0xa93baf={'options':this[_0x2122c3(0x116)],'node':_0x303d05,'suggestion':g(this,_0x303d05[_0x2122c3(0x12d)][_0x2122c3(0x111)])};return this[_0x2122c3(0x116)][_0x2122c3(0x118)]!==void 0x0?this['options'][_0x2122c3(0x118)](_0xa93baf):this[_0x2122c3(0x116)]['renderText'](_0xa93baf);},'addKeyboardShortcuts'(){const _0x502320=_0x457fdb;return{'Backspace':()=>this[_0x502320(0x12a)]['commands'][_0x502320(0x12f)](({tr:_0x3b2006,state:_0x43bd31})=>{const _0x143c5d=_0x502320;let _0x20ace0=!0x1;const {selection:_0x59344d}=_0x43bd31,{empty:_0x3faba1,anchor:_0x474b18}=_0x59344d;if(!_0x3faba1)return!0x1;_0x43bd31['doc']['nodesBetween'](_0x474b18-0x1,_0x474b18,(_0x44f484,_0x4d9e6a)=>{const _0x4ae0a4=_0x30cb;if(_0x44f484[_0x4ae0a4(0x108)]['name']===this['name'])return _0x20ace0=!0x0,_0x3b2006[_0x4ae0a4(0x124)](this[_0x4ae0a4(0x116)][_0x4ae0a4(0x12c)]?'':this[_0x4ae0a4(0x116)][_0x4ae0a4(0x134)][_0x4ae0a4(0x129)]||'',_0x4d9e6a,_0x4d9e6a+_0x44f484[_0x4ae0a4(0x10e)]),!0x1;});let _0x4cf580=new _0x3ef411(),_0x5e26e8=0x0;return _0x43bd31[_0x143c5d(0x10d)]['nodesBetween'](_0x474b18-0x1,_0x474b18,(_0x9f4ecc,_0x2b1876)=>{const _0x373183=_0x143c5d;if(_0x9f4ecc[_0x373183(0x108)][_0x373183(0x136)]===this[_0x373183(0x136)])return _0x20ace0=!0x0,_0x4cf580=_0x9f4ecc,_0x5e26e8=_0x2b1876,!0x1;}),_0x20ace0&&_0x3b2006[_0x143c5d(0x124)](this[_0x143c5d(0x116)]['deleteTriggerWithBackspace']?'':_0x4cf580[_0x143c5d(0x12d)][_0x143c5d(0x111)],_0x5e26e8,_0x5e26e8+_0x4cf580[_0x143c5d(0x10e)]),_0x20ace0;})};},'addProseMirrorPlugins'(){const _0x5038ab=_0x457fdb;return h(this)[_0x5038ab(0x105)](_0x4c0e75);}});export{w as M};