function _0x4839(_0x37e80d,_0x4c5825){_0x37e80d=_0x37e80d-0x172;const _0x1204c7=_0x1204();let _0x483926=_0x1204c7[_0x37e80d];return _0x483926;}const _0x2fed9a=_0x4839;(function(_0x517b0d,_0x3d3f9d){const _0x1a5a61=_0x4839,_0x534299=_0x517b0d();while(!![]){try{const _0x16c378=-parseInt(_0x1a5a61(0x182))/0x1*(parseInt(_0x1a5a61(0x1ae))/0x2)+parseInt(_0x1a5a61(0x1a1))/0x3*(-parseInt(_0x1a5a61(0x18d))/0x4)+parseInt(_0x1a5a61(0x189))/0x5*(parseInt(_0x1a5a61(0x179))/0x6)+parseInt(_0x1a5a61(0x1a4))/0x7*(parseInt(_0x1a5a61(0x191))/0x8)+parseInt(_0x1a5a61(0x18b))/0x9+parseInt(_0x1a5a61(0x193))/0xa*(-parseInt(_0x1a5a61(0x17d))/0xb)+-parseInt(_0x1a5a61(0x17e))/0xc;if(_0x16c378===_0x3d3f9d)break;else _0x534299['push'](_0x534299['shift']());}catch(_0x236cf4){_0x534299['push'](_0x534299['shift']());}}}(_0x1204,0x286d5));import{N as _0x301d42,m as _0x2f91df}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x1f59d5}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x35479a}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x28d94f}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x13dc32,overrideSuggestionOptions:_0x157977,extensionName:_0x20ed2a,char:_0x1e4423='@'}){const _0x2584ec=new _0x28d94f();return{'editor':_0x13dc32,'char':_0x1e4423,'pluginKey':_0x2584ec,'command':({editor:_0xa1622e,range:_0x16d8ae,props:_0x18c1cb})=>{const _0xb8f2d9=_0x4839;var _0x98c5e5,_0x26efe9,_0x1d11f8;const _0x3e14ac=_0xa1622e['view'][_0xb8f2d9(0x188)][_0xb8f2d9(0x197)][_0xb8f2d9(0x17c)][_0xb8f2d9(0x1ad)];((_0x98c5e5=_0x3e14ac==null?void 0x0:_0x3e14ac[_0xb8f2d9(0x177)])===null||_0x98c5e5===void 0x0?void 0x0:_0x98c5e5[_0xb8f2d9(0x18a)]('\x20'))&&(_0x16d8ae['to']+=0x1),_0xa1622e[_0xb8f2d9(0x195)]()[_0xb8f2d9(0x1a7)]()[_0xb8f2d9(0x1a2)](_0x16d8ae,[{'type':_0x20ed2a,'attrs':{..._0x18c1cb,'mentionSuggestionChar':_0x1e4423}},{'type':_0xb8f2d9(0x177),'text':'\x20'}])[_0xb8f2d9(0x194)](),(_0x1d11f8=(_0x26efe9=_0xa1622e[_0xb8f2d9(0x1af)]['dom'][_0xb8f2d9(0x192)][_0xb8f2d9(0x173)])===null||_0x26efe9===void 0x0?void 0x0:_0x26efe9['getSelection']())===null||_0x1d11f8===void 0x0||_0x1d11f8[_0xb8f2d9(0x19e)]();},'allow':({state:_0x5e2cf7,range:_0x233f97})=>{const _0x2fe5aa=_0x4839,_0x596518=_0x5e2cf7[_0x2fe5aa(0x1ac)]['resolve'](_0x233f97[_0x2fe5aa(0x1a5)]),_0x2fc1ee=_0x5e2cf7['schema'][_0x2fe5aa(0x181)][_0x20ed2a];return!!_0x596518[_0x2fe5aa(0x18e)][_0x2fe5aa(0x19d)][_0x2fe5aa(0x185)][_0x2fe5aa(0x184)](_0x2fc1ee);},..._0x157977};}function h(_0x320257){const _0x281a66=_0x4839;return(_0x320257[_0x281a66(0x19c)][_0x281a66(0x1a8)][_0x281a66(0x187)]?_0x320257['options']['suggestions']:[_0x320257[_0x281a66(0x19c)][_0x281a66(0x19b)]])[_0x281a66(0x175)](_0x502690=>v({'editor':_0x320257[_0x281a66(0x19f)],'overrideSuggestionOptions':_0x502690,'extensionName':_0x320257[_0x281a66(0x176)],'char':_0x502690['char']}));}function g(_0x516c51,_0x15394a){const _0x52a585=_0x4839,_0x33fc95=h(_0x516c51),_0x41948d=_0x33fc95[_0x52a585(0x19a)](_0x1bdd71=>_0x1bdd71['char']===_0x15394a);return _0x41948d||(_0x33fc95[_0x52a585(0x187)]?_0x33fc95[0x0]:null);}const w=_0x301d42['create']({'name':_0x2fed9a(0x17f),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x19d5c9,suggestion:_0x2d018c}){const _0xef9b97=_0x4839;var _0x6bdb24,_0x5f5866;return''+((_0x6bdb24=_0x2d018c==null?void 0x0:_0x2d018c['char'])!==null&&_0x6bdb24!==void 0x0?_0x6bdb24:'@')+((_0x5f5866=_0x19d5c9['attrs']['label'])!==null&&_0x5f5866!==void 0x0?_0x5f5866:_0x19d5c9[_0xef9b97(0x1ab)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x1fec0c,node:_0x58fe58,suggestion:_0x4b775e}){const _0x11622a=_0x4839;var _0x4abe6b,_0x34b8ea;return[_0x11622a(0x186),_0x2f91df(this[_0x11622a(0x18c)],_0x1fec0c['HTMLAttributes']),''+((_0x4abe6b=_0x4b775e==null?void 0x0:_0x4b775e[_0x11622a(0x190)])!==null&&_0x4abe6b!==void 0x0?_0x4abe6b:'@')+((_0x34b8ea=_0x58fe58[_0x11622a(0x1ab)][_0x11622a(0x1a3)])!==null&&_0x34b8ea!==void 0x0?_0x34b8ea:_0x58fe58[_0x11622a(0x1ab)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x2fed9a(0x174),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x75424d=_0x2fed9a;return{'id':{'default':null,'parseHTML':_0xd5d016=>_0xd5d016['getAttribute'](_0x75424d(0x180)),'renderHTML':_0x5ef40d=>_0x5ef40d['id']?{'data-id':_0x5ef40d['id']}:{}},'label':{'default':null,'parseHTML':_0x26109e=>_0x26109e[_0x75424d(0x183)](_0x75424d(0x198)),'renderHTML':_0x34765f=>_0x34765f[_0x75424d(0x1a3)]?{'data-label':_0x34765f[_0x75424d(0x1a3)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x3fb920=>_0x3fb920[_0x75424d(0x183)](_0x75424d(0x17b)),'renderHTML':_0x24b893=>({'data-mention-suggestion-char':_0x24b893[_0x75424d(0x172)]})}};},'parseHTML'(){const _0x3f1034=_0x2fed9a;return[{'tag':_0x3f1034(0x199)+this[_0x3f1034(0x176)]+'\x22]'}];},'renderHTML'({node:_0xe4953e,HTMLAttributes:_0xb3f5e}){const _0x55a212=_0x2fed9a,_0x32de87=g(this,_0xe4953e['attrs'][_0x55a212(0x172)]);if(this[_0x55a212(0x19c)][_0x55a212(0x178)]!==void 0x0)return[_0x55a212(0x186),_0x2f91df({'data-type':this[_0x55a212(0x176)]},this['options'][_0x55a212(0x18c)],_0xb3f5e),this['options'][_0x55a212(0x178)]({'options':this[_0x55a212(0x19c)],'node':_0xe4953e,'suggestion':_0x32de87})];const _0x39db10={...this['options']};_0x39db10['HTMLAttributes']=_0x2f91df({'data-type':this[_0x55a212(0x176)]},this['options'][_0x55a212(0x18c)],_0xb3f5e);const _0x4713a9=this[_0x55a212(0x19c)][_0x55a212(0x1a0)]({'options':_0x39db10,'node':_0xe4953e,'suggestion':_0x32de87});return typeof _0x4713a9==_0x55a212(0x1a6)?[_0x55a212(0x186),_0x2f91df({'data-type':this[_0x55a212(0x176)]},this[_0x55a212(0x19c)]['HTMLAttributes'],_0xb3f5e),_0x4713a9]:_0x4713a9;},'renderText'({node:_0x56dc7b}){const _0x554eae=_0x2fed9a,_0x339808={'options':this[_0x554eae(0x19c)],'node':_0x56dc7b,'suggestion':g(this,_0x56dc7b[_0x554eae(0x1ab)]['mentionSuggestionChar'])};return this[_0x554eae(0x19c)][_0x554eae(0x178)]!==void 0x0?this['options']['renderLabel'](_0x339808):this[_0x554eae(0x19c)][_0x554eae(0x196)](_0x339808);},'addKeyboardShortcuts'(){const _0x4be15a=_0x2fed9a;return{'Backspace':()=>this[_0x4be15a(0x19f)][_0x4be15a(0x18f)][_0x4be15a(0x1b0)](({tr:_0x216cd4,state:_0x54cd3a})=>{const _0xd066c4=_0x4be15a;let _0x4ce14d=!0x1;const {selection:_0x2d6d83}=_0x54cd3a,{empty:_0x1b94cd,anchor:_0x4bcf01}=_0x2d6d83;if(!_0x1b94cd)return!0x1;_0x54cd3a['doc'][_0xd066c4(0x1aa)](_0x4bcf01-0x1,_0x4bcf01,(_0x2dfc13,_0x2775a9)=>{const _0x46389c=_0xd066c4;if(_0x2dfc13['type'][_0x46389c(0x176)]===this[_0x46389c(0x176)])return _0x4ce14d=!0x0,_0x216cd4[_0x46389c(0x1a9)](this[_0x46389c(0x19c)]['deleteTriggerWithBackspace']?'':this[_0x46389c(0x19c)][_0x46389c(0x19b)][_0x46389c(0x190)]||'',_0x2775a9,_0x2775a9+_0x2dfc13['nodeSize']),!0x1;});let _0x5c6ed5=new _0x1f59d5(),_0xfd00f2=0x0;return _0x54cd3a[_0xd066c4(0x1ac)][_0xd066c4(0x1aa)](_0x4bcf01-0x1,_0x4bcf01,(_0x36e33b,_0x47f068)=>{const _0x3c138a=_0xd066c4;if(_0x36e33b['type'][_0x3c138a(0x176)]===this[_0x3c138a(0x176)])return _0x4ce14d=!0x0,_0x5c6ed5=_0x36e33b,_0xfd00f2=_0x47f068,!0x1;}),_0x4ce14d&&_0x216cd4['insertText'](this[_0xd066c4(0x19c)]['deleteTriggerWithBackspace']?'':_0x5c6ed5[_0xd066c4(0x1ab)]['mentionSuggestionChar'],_0xfd00f2,_0xfd00f2+_0x5c6ed5[_0xd066c4(0x17a)]),_0x4ce14d;})};},'addProseMirrorPlugins'(){const _0x1e652b=_0x2fed9a;return h(this)[_0x1e652b(0x175)](_0x35479a);}});function _0x1204(){const _0x35c27c=['data-label','span[data-type=\x22','find','suggestion','options','type','collapseToEnd','editor','renderHTML','3xYfpgQ','insertContentAt','label','18564yuiYJE','from','string','focus','suggestions','insertText','nodesBetween','attrs','doc','nodeAfter','2VyOUId','view','command','mentionSuggestionChar','defaultView','inline','map','name','text','renderLabel','132VDfhFz','nodeSize','data-mention-suggestion-char','$to','92257qjcHOJ','341172qzpgvk','mention','data-id','nodes','108184sqbPvZ','getAttribute','matchType','contentMatch','span','length','state','58315FFWTBC','startsWith','2456190UioEeU','HTMLAttributes','768872beHHrT','parent','commands','char','552WEcfgS','ownerDocument','260EbCWSu','run','chain','renderText','selection'];_0x1204=function(){return _0x35c27c;};return _0x1204();}export{w as M};