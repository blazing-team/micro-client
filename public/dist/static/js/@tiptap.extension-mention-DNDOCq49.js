const _0x3690c4=_0x363f;(function(_0x198531,_0x4778c7){const _0xb16c49=_0x363f,_0x377da8=_0x198531();while(!![]){try{const _0x1d7e9c=parseInt(_0xb16c49(0xee))/0x1+-parseInt(_0xb16c49(0xe6))/0x2*(-parseInt(_0xb16c49(0xfa))/0x3)+-parseInt(_0xb16c49(0xf4))/0x4*(parseInt(_0xb16c49(0xf9))/0x5)+-parseInt(_0xb16c49(0xdd))/0x6+-parseInt(_0xb16c49(0xde))/0x7+-parseInt(_0xb16c49(0xf5))/0x8+parseInt(_0xb16c49(0xe5))/0x9*(parseInt(_0xb16c49(0xe7))/0xa);if(_0x1d7e9c===_0x4778c7)break;else _0x377da8['push'](_0x377da8['shift']());}catch(_0x39a233){_0x377da8['push'](_0x377da8['shift']());}}}(_0x3bf8,0x63355));import{N as _0x2985cd,m as _0x3644db}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x593de1}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x1910c0}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x3add20}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x22d66a,overrideSuggestionOptions:_0x49893f,extensionName:_0x268867,char:_0x28c7f8='@'}){const _0x517e2e=new _0x3add20();return{'editor':_0x22d66a,'char':_0x28c7f8,'pluginKey':_0x517e2e,'command':({editor:_0x2340d7,range:_0x58a81a,props:_0x2a7e92})=>{const _0x2ee8a1=_0x363f;var _0x35ea66,_0xb6ddee,_0xa08ace;const _0xccd12b=_0x2340d7[_0x2ee8a1(0xf0)]['state'][_0x2ee8a1(0xd3)][_0x2ee8a1(0xea)][_0x2ee8a1(0xe9)];((_0x35ea66=_0xccd12b==null?void 0x0:_0xccd12b['text'])===null||_0x35ea66===void 0x0?void 0x0:_0x35ea66['startsWith']('\x20'))&&(_0x58a81a['to']+=0x1),_0x2340d7[_0x2ee8a1(0x101)]()['focus']()[_0x2ee8a1(0xd7)](_0x58a81a,[{'type':_0x268867,'attrs':{..._0x2a7e92,'mentionSuggestionChar':_0x28c7f8}},{'type':_0x2ee8a1(0xd5),'text':'\x20'}])[_0x2ee8a1(0xfc)](),(_0xa08ace=(_0xb6ddee=_0x2340d7[_0x2ee8a1(0xf0)][_0x2ee8a1(0xfe)][_0x2ee8a1(0xeb)]['defaultView'])===null||_0xb6ddee===void 0x0?void 0x0:_0xb6ddee['getSelection']())===null||_0xa08ace===void 0x0||_0xa08ace[_0x2ee8a1(0xfb)]();},'allow':({state:_0x36f018,range:_0x2549ea})=>{const _0x4f52c0=_0x363f,_0x279baa=_0x36f018[_0x4f52c0(0xdb)][_0x4f52c0(0xf7)](_0x2549ea['from']),_0x6c0ae7=_0x36f018[_0x4f52c0(0xf2)]['nodes'][_0x268867];return!!_0x279baa['parent'][_0x4f52c0(0xfd)][_0x4f52c0(0xe0)][_0x4f52c0(0xef)](_0x6c0ae7);},..._0x49893f};}function h(_0x147b61){const _0x258864=_0x363f;return(_0x147b61[_0x258864(0xd4)][_0x258864(0xe3)]['length']?_0x147b61[_0x258864(0xd4)][_0x258864(0xe3)]:[_0x147b61[_0x258864(0xd4)][_0x258864(0xcc)]])[_0x258864(0xed)](_0x2ecdd8=>v({'editor':_0x147b61[_0x258864(0xf8)],'overrideSuggestionOptions':_0x2ecdd8,'extensionName':_0x147b61[_0x258864(0xd8)],'char':_0x2ecdd8['char']}));}function g(_0x41a181,_0x1cd46e){const _0x47b422=_0x363f,_0x4ccc71=h(_0x41a181),_0x39e059=_0x4ccc71[_0x47b422(0xcb)](_0x91cf51=>_0x91cf51[_0x47b422(0xd2)]===_0x1cd46e);return _0x39e059||(_0x4ccc71['length']?_0x4ccc71[0x0]:null);}const w=_0x2985cd['create']({'name':_0x3690c4(0xe2),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x1ec5d6,suggestion:_0x55ec31}){const _0x13c781=_0x363f;var _0x4bc4e0,_0x17c06c;return''+((_0x4bc4e0=_0x55ec31==null?void 0x0:_0x55ec31[_0x13c781(0xd2)])!==null&&_0x4bc4e0!==void 0x0?_0x4bc4e0:'@')+((_0x17c06c=_0x1ec5d6[_0x13c781(0xd1)]['label'])!==null&&_0x17c06c!==void 0x0?_0x17c06c:_0x1ec5d6[_0x13c781(0xd1)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x1c4b08,node:_0x60902b,suggestion:_0x5c85fe}){const _0x4cf120=_0x363f;var _0x3627b6,_0x37ee5b;return[_0x4cf120(0xdc),_0x3644db(this[_0x4cf120(0xe1)],_0x1c4b08[_0x4cf120(0xe1)]),''+((_0x3627b6=_0x5c85fe==null?void 0x0:_0x5c85fe[_0x4cf120(0xd2)])!==null&&_0x3627b6!==void 0x0?_0x3627b6:'@')+((_0x37ee5b=_0x60902b[_0x4cf120(0xd1)]['label'])!==null&&_0x37ee5b!==void 0x0?_0x37ee5b:_0x60902b[_0x4cf120(0xd1)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x3690c4(0xec),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0xcf21a2=_0x3690c4;return{'id':{'default':null,'parseHTML':_0x4964e2=>_0x4964e2['getAttribute'](_0xcf21a2(0xd9)),'renderHTML':_0x59eb29=>_0x59eb29['id']?{'data-id':_0x59eb29['id']}:{}},'label':{'default':null,'parseHTML':_0x175b4c=>_0x175b4c[_0xcf21a2(0xd0)](_0xcf21a2(0xda)),'renderHTML':_0x5f45bc=>_0x5f45bc[_0xcf21a2(0xf3)]?{'data-label':_0x5f45bc['label']}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x41acb2=>_0x41acb2['getAttribute']('data-mention-suggestion-char'),'renderHTML':_0x5d0c27=>({'data-mention-suggestion-char':_0x5d0c27['mentionSuggestionChar']})}};},'parseHTML'(){const _0x2e1e1d=_0x3690c4;return[{'tag':_0x2e1e1d(0xdf)+this[_0x2e1e1d(0xd8)]+'\x22]'}];},'renderHTML'({node:_0x301a8e,HTMLAttributes:_0x34ddad}){const _0x32bbcd=_0x3690c4,_0x28e09f=g(this,_0x301a8e[_0x32bbcd(0xd1)][_0x32bbcd(0xd6)]);if(this[_0x32bbcd(0xd4)][_0x32bbcd(0xff)]!==void 0x0)return[_0x32bbcd(0xdc),_0x3644db({'data-type':this['name']},this[_0x32bbcd(0xd4)][_0x32bbcd(0xe1)],_0x34ddad),this[_0x32bbcd(0xd4)]['renderLabel']({'options':this[_0x32bbcd(0xd4)],'node':_0x301a8e,'suggestion':_0x28e09f})];const _0x418359={...this['options']};_0x418359[_0x32bbcd(0xe1)]=_0x3644db({'data-type':this[_0x32bbcd(0xd8)]},this[_0x32bbcd(0xd4)][_0x32bbcd(0xe1)],_0x34ddad);const _0x21e166=this['options'][_0x32bbcd(0xcf)]({'options':_0x418359,'node':_0x301a8e,'suggestion':_0x28e09f});return typeof _0x21e166==_0x32bbcd(0x100)?[_0x32bbcd(0xdc),_0x3644db({'data-type':this[_0x32bbcd(0xd8)]},this[_0x32bbcd(0xd4)][_0x32bbcd(0xe1)],_0x34ddad),_0x21e166]:_0x21e166;},'renderText'({node:_0x2b6436}){const _0x503671=_0x3690c4,_0x1a4e97={'options':this[_0x503671(0xd4)],'node':_0x2b6436,'suggestion':g(this,_0x2b6436[_0x503671(0xd1)][_0x503671(0xd6)])};return this[_0x503671(0xd4)][_0x503671(0xff)]!==void 0x0?this[_0x503671(0xd4)][_0x503671(0xff)](_0x1a4e97):this[_0x503671(0xd4)][_0x503671(0xf6)](_0x1a4e97);},'addKeyboardShortcuts'(){const _0x18fbef=_0x3690c4;return{'Backspace':()=>this[_0x18fbef(0xf8)][_0x18fbef(0xe8)][_0x18fbef(0xce)](({tr:_0x2658c8,state:_0x20a068})=>{const _0x3f9f80=_0x18fbef;let _0x483b05=!0x1;const {selection:_0x5c22ef}=_0x20a068,{empty:_0x84387b,anchor:_0x4019a6}=_0x5c22ef;if(!_0x84387b)return!0x1;_0x20a068[_0x3f9f80(0xdb)][_0x3f9f80(0xcd)](_0x4019a6-0x1,_0x4019a6,(_0x1f0a70,_0x2bf803)=>{const _0x1a4227=_0x3f9f80;if(_0x1f0a70[_0x1a4227(0xfd)][_0x1a4227(0xd8)]===this[_0x1a4227(0xd8)])return _0x483b05=!0x0,_0x2658c8[_0x1a4227(0xe4)](this[_0x1a4227(0xd4)]['deleteTriggerWithBackspace']?'':this[_0x1a4227(0xd4)]['suggestion'][_0x1a4227(0xd2)]||'',_0x2bf803,_0x2bf803+_0x1f0a70[_0x1a4227(0x102)]),!0x1;});let _0x43f59a=new _0x593de1(),_0x38eca7=0x0;return _0x20a068[_0x3f9f80(0xdb)][_0x3f9f80(0xcd)](_0x4019a6-0x1,_0x4019a6,(_0x5de93e,_0x30decc)=>{const _0xafec9d=_0x3f9f80;if(_0x5de93e[_0xafec9d(0xfd)][_0xafec9d(0xd8)]===this[_0xafec9d(0xd8)])return _0x483b05=!0x0,_0x43f59a=_0x5de93e,_0x38eca7=_0x30decc,!0x1;}),_0x483b05&&_0x2658c8['insertText'](this[_0x3f9f80(0xd4)][_0x3f9f80(0xf1)]?'':_0x43f59a[_0x3f9f80(0xd1)][_0x3f9f80(0xd6)],_0x38eca7,_0x38eca7+_0x43f59a['nodeSize']),_0x483b05;})};},'addProseMirrorPlugins'(){const _0x52b140=_0x3690c4;return h(this)[_0x52b140(0xed)](_0x1910c0);}});function _0x363f(_0x4340d0,_0xe66244){_0x4340d0=_0x4340d0-0xcb;const _0x3bf8ae=_0x3bf8();let _0x363fd1=_0x3bf8ae[_0x4340d0];return _0x363fd1;}export{w as M};function _0x3bf8(){const _0xfa0d27=['2CcBciR','90EFmyTP','commands','nodeAfter','$to','ownerDocument','inline','map','85865MRZgcG','matchType','view','deleteTriggerWithBackspace','schema','label','357824GNLFLs','5580680AusPle','renderText','resolve','editor','5BGOjJf','2361549nLQypf','collapseToEnd','run','type','dom','renderLabel','string','chain','nodeSize','find','suggestion','nodesBetween','command','renderHTML','getAttribute','attrs','char','selection','options','text','mentionSuggestionChar','insertContentAt','name','data-id','data-label','doc','span','2259822mrfFok','2104830uGDAas','span[data-type=\x22','contentMatch','HTMLAttributes','mention','suggestions','insertText','997677yxsZcF'];_0x3bf8=function(){return _0xfa0d27;};return _0x3bf8();}