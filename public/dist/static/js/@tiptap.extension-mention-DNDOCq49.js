const _0x44112d=_0x2490;function _0x2490(_0x4277ce,_0x1b452d){_0x4277ce=_0x4277ce-0x1ba;const _0x159f9b=_0x159f();let _0x249027=_0x159f9b[_0x4277ce];return _0x249027;}function _0x159f(){const _0x35bafd=['inline','renderLabel','mention','name','state','8665608LLAXUQ','length','83146bXYLJt','map','attrs','text','renderText','renderHTML','from','char','span','nodesBetween','deleteTriggerWithBackspace','suggestions','focus','suggestion','type','nodeAfter','collapseToEnd','HTMLAttributes','commands','run','insertText','data-mention-suggestion-char','mentionSuggestionChar','parent','978vOYWxV','5365920MhXNnE','3261718UvEWlK','schema','data-id','ownerDocument','selection','options','resolve','1atmOhh','label','command','view','chain','doc','editor','394200OGJEpD','getAttribute','startsWith','41697108BMuGjx','insertContentAt','defaultView','879018HQjHln'];_0x159f=function(){return _0x35bafd;};return _0x159f();}(function(_0x12a456,_0x36edc4){const _0x59e915=_0x2490,_0x48e45b=_0x12a456();while(!![]){try{const _0x189223=-parseInt(_0x59e915(0x1c8))/0x1*(-parseInt(_0x59e915(0x1c1))/0x2)+-parseInt(_0x59e915(0x1d5))/0x3+parseInt(_0x59e915(0x1c0))/0x4+-parseInt(_0x59e915(0x1cf))/0x5+-parseInt(_0x59e915(0x1bf))/0x6*(-parseInt(_0x59e915(0x1dd))/0x7)+parseInt(_0x59e915(0x1db))/0x8+-parseInt(_0x59e915(0x1d2))/0x9;if(_0x189223===_0x36edc4)break;else _0x48e45b['push'](_0x48e45b['shift']());}catch(_0x1b48eb){_0x48e45b['push'](_0x48e45b['shift']());}}}(_0x159f,0xf0eac));import{N as _0x513abc,m as _0x307bbe}from'./@tiptap.core-HsqG-hEX.js';import{N as _0xd952cb}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x25415a}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x18082e}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x162e9f,overrideSuggestionOptions:_0x52d2f1,extensionName:_0x1e11f4,char:_0x179f33='@'}){const _0x3bde55=new _0x18082e();return{'editor':_0x162e9f,'char':_0x179f33,'pluginKey':_0x3bde55,'command':({editor:_0x550bea,range:_0x3f2170,props:_0x184342})=>{const _0x207bf3=_0x2490;var _0x8779cc,_0x5cef70,_0x18711c;const _0x5ec18a=_0x550bea[_0x207bf3(0x1cb)][_0x207bf3(0x1da)][_0x207bf3(0x1c5)]['$to'][_0x207bf3(0x1ec)];((_0x8779cc=_0x5ec18a==null?void 0x0:_0x5ec18a[_0x207bf3(0x1e0)])===null||_0x8779cc===void 0x0?void 0x0:_0x8779cc[_0x207bf3(0x1d1)]('\x20'))&&(_0x3f2170['to']+=0x1),_0x550bea[_0x207bf3(0x1cc)]()[_0x207bf3(0x1e9)]()[_0x207bf3(0x1d3)](_0x3f2170,[{'type':_0x1e11f4,'attrs':{..._0x184342,'mentionSuggestionChar':_0x179f33}},{'type':_0x207bf3(0x1e0),'text':'\x20'}])[_0x207bf3(0x1ba)](),(_0x18711c=(_0x5cef70=_0x550bea['view']['dom'][_0x207bf3(0x1c4)][_0x207bf3(0x1d4)])===null||_0x5cef70===void 0x0?void 0x0:_0x5cef70['getSelection']())===null||_0x18711c===void 0x0||_0x18711c[_0x207bf3(0x1ed)]();},'allow':({state:_0x450b1a,range:_0x42e380})=>{const _0x51b060=_0x2490,_0xeedf32=_0x450b1a['doc'][_0x51b060(0x1c7)](_0x42e380[_0x51b060(0x1e3)]),_0x74eeed=_0x450b1a[_0x51b060(0x1c2)]['nodes'][_0x1e11f4];return!!_0xeedf32[_0x51b060(0x1be)][_0x51b060(0x1eb)]['contentMatch']['matchType'](_0x74eeed);},..._0x52d2f1};}function h(_0x39001f){const _0x405ca5=_0x2490;return(_0x39001f['options'][_0x405ca5(0x1e8)]['length']?_0x39001f[_0x405ca5(0x1c6)][_0x405ca5(0x1e8)]:[_0x39001f[_0x405ca5(0x1c6)][_0x405ca5(0x1ea)]])[_0x405ca5(0x1de)](_0x1d4c3d=>v({'editor':_0x39001f['editor'],'overrideSuggestionOptions':_0x1d4c3d,'extensionName':_0x39001f[_0x405ca5(0x1d9)],'char':_0x1d4c3d[_0x405ca5(0x1e4)]}));}function g(_0x15bdec,_0x50baa1){const _0x1032ba=_0x2490,_0x66f181=h(_0x15bdec),_0x1c2b95=_0x66f181['find'](_0x4cca14=>_0x4cca14[_0x1032ba(0x1e4)]===_0x50baa1);return _0x1c2b95||(_0x66f181[_0x1032ba(0x1dc)]?_0x66f181[0x0]:null);}const w=_0x513abc['create']({'name':_0x44112d(0x1d8),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x5be68c,suggestion:_0x432b70}){const _0x31a86c=_0x2490;var _0x998356,_0x1f9642;return''+((_0x998356=_0x432b70==null?void 0x0:_0x432b70[_0x31a86c(0x1e4)])!==null&&_0x998356!==void 0x0?_0x998356:'@')+((_0x1f9642=_0x5be68c[_0x31a86c(0x1df)][_0x31a86c(0x1c9)])!==null&&_0x1f9642!==void 0x0?_0x1f9642:_0x5be68c[_0x31a86c(0x1df)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x2cc41e,node:_0x33756d,suggestion:_0x12b9f0}){const _0x327577=_0x2490;var _0x40e10a,_0x28228a;return[_0x327577(0x1e5),_0x307bbe(this['HTMLAttributes'],_0x2cc41e[_0x327577(0x1ee)]),''+((_0x40e10a=_0x12b9f0==null?void 0x0:_0x12b9f0[_0x327577(0x1e4)])!==null&&_0x40e10a!==void 0x0?_0x40e10a:'@')+((_0x28228a=_0x33756d[_0x327577(0x1df)][_0x327577(0x1c9)])!==null&&_0x28228a!==void 0x0?_0x28228a:_0x33756d[_0x327577(0x1df)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x44112d(0x1d6),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x3a4b09=_0x44112d;return{'id':{'default':null,'parseHTML':_0x25f84=>_0x25f84[_0x3a4b09(0x1d0)](_0x3a4b09(0x1c3)),'renderHTML':_0x4e856b=>_0x4e856b['id']?{'data-id':_0x4e856b['id']}:{}},'label':{'default':null,'parseHTML':_0x309428=>_0x309428['getAttribute']('data-label'),'renderHTML':_0x2254ca=>_0x2254ca[_0x3a4b09(0x1c9)]?{'data-label':_0x2254ca[_0x3a4b09(0x1c9)]}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x586c0e=>_0x586c0e['getAttribute'](_0x3a4b09(0x1bc)),'renderHTML':_0x25ee9a=>({'data-mention-suggestion-char':_0x25ee9a['mentionSuggestionChar']})}};},'parseHTML'(){const _0x3e45ca=_0x44112d;return[{'tag':'span[data-type=\x22'+this[_0x3e45ca(0x1d9)]+'\x22]'}];},'renderHTML'({node:_0x1b362b,HTMLAttributes:_0x5c8834}){const _0x354037=_0x44112d,_0x3c69be=g(this,_0x1b362b[_0x354037(0x1df)][_0x354037(0x1bd)]);if(this[_0x354037(0x1c6)][_0x354037(0x1d7)]!==void 0x0)return[_0x354037(0x1e5),_0x307bbe({'data-type':this[_0x354037(0x1d9)]},this['options'][_0x354037(0x1ee)],_0x5c8834),this[_0x354037(0x1c6)][_0x354037(0x1d7)]({'options':this['options'],'node':_0x1b362b,'suggestion':_0x3c69be})];const _0x2f2000={...this['options']};_0x2f2000[_0x354037(0x1ee)]=_0x307bbe({'data-type':this[_0x354037(0x1d9)]},this[_0x354037(0x1c6)][_0x354037(0x1ee)],_0x5c8834);const _0x355549=this[_0x354037(0x1c6)][_0x354037(0x1e2)]({'options':_0x2f2000,'node':_0x1b362b,'suggestion':_0x3c69be});return typeof _0x355549=='string'?[_0x354037(0x1e5),_0x307bbe({'data-type':this[_0x354037(0x1d9)]},this[_0x354037(0x1c6)]['HTMLAttributes'],_0x5c8834),_0x355549]:_0x355549;},'renderText'({node:_0x469a5f}){const _0xa9d95d=_0x44112d,_0x5c0596={'options':this['options'],'node':_0x469a5f,'suggestion':g(this,_0x469a5f[_0xa9d95d(0x1df)][_0xa9d95d(0x1bd)])};return this['options'][_0xa9d95d(0x1d7)]!==void 0x0?this[_0xa9d95d(0x1c6)]['renderLabel'](_0x5c0596):this[_0xa9d95d(0x1c6)][_0xa9d95d(0x1e1)](_0x5c0596);},'addKeyboardShortcuts'(){const _0x3621a1=_0x44112d;return{'Backspace':()=>this[_0x3621a1(0x1ce)][_0x3621a1(0x1ef)][_0x3621a1(0x1ca)](({tr:_0x2b3d84,state:_0x8acd34})=>{const _0x4f648b=_0x3621a1;let _0x3217b6=!0x1;const {selection:_0x5efafb}=_0x8acd34,{empty:_0x884dc1,anchor:_0x3a347b}=_0x5efafb;if(!_0x884dc1)return!0x1;_0x8acd34[_0x4f648b(0x1cd)][_0x4f648b(0x1e6)](_0x3a347b-0x1,_0x3a347b,(_0x3582fa,_0x54f186)=>{const _0x4fac49=_0x4f648b;if(_0x3582fa['type'][_0x4fac49(0x1d9)]===this[_0x4fac49(0x1d9)])return _0x3217b6=!0x0,_0x2b3d84[_0x4fac49(0x1bb)](this[_0x4fac49(0x1c6)][_0x4fac49(0x1e7)]?'':this[_0x4fac49(0x1c6)][_0x4fac49(0x1ea)][_0x4fac49(0x1e4)]||'',_0x54f186,_0x54f186+_0x3582fa['nodeSize']),!0x1;});let _0x5b8dc6=new _0xd952cb(),_0x433491=0x0;return _0x8acd34[_0x4f648b(0x1cd)]['nodesBetween'](_0x3a347b-0x1,_0x3a347b,(_0x11e863,_0x4d2dbf)=>{const _0x287b33=_0x4f648b;if(_0x11e863['type'][_0x287b33(0x1d9)]===this[_0x287b33(0x1d9)])return _0x3217b6=!0x0,_0x5b8dc6=_0x11e863,_0x433491=_0x4d2dbf,!0x1;}),_0x3217b6&&_0x2b3d84['insertText'](this[_0x4f648b(0x1c6)][_0x4f648b(0x1e7)]?'':_0x5b8dc6[_0x4f648b(0x1df)]['mentionSuggestionChar'],_0x433491,_0x433491+_0x5b8dc6['nodeSize']),_0x3217b6;})};},'addProseMirrorPlugins'(){const _0x4d146a=_0x44112d;return h(this)[_0x4d146a(0x1de)](_0x25415a);}});export{w as M};