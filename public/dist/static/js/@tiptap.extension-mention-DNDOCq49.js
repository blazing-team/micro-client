function _0x498e(){const _0x372f9f=['focus','mention','from','HTMLAttributes','437508iEqxVR','2184tuGUmk','matchType','resolve','view','string','parent','deleteTriggerWithBackspace','label','2iUmKTs','create','6957jdewim','nodesBetween','dom','command','run','data-label','589740VQmxzu','ownerDocument','renderLabel','getAttribute','renderText','contentMatch','suggestion','inline','mentionSuggestionChar','options','map','chain','nodeSize','20690BDCrWf','name','span','attrs','3360rVbEKi','nodeAfter','startsWith','selection','getSelection','renderHTML','insertContentAt','1974TSxeET','state','suggestions','data-mention-suggestion-char','insertText','editor','text','doc','314970CFOTAt','1146770qohxOk','type','char'];_0x498e=function(){return _0x372f9f;};return _0x498e();}const _0xe8a52a=_0x57ab;(function(_0x5d6f53,_0x194ffb){const _0x9b210f=_0x57ab,_0x497207=_0x5d6f53();while(!![]){try{const _0x3931ae=-parseInt(_0x9b210f(0x1b0))/0x1*(-parseInt(_0x9b210f(0x1c5))/0x2)+-parseInt(_0x9b210f(0x19f))/0x3+parseInt(_0x9b210f(0x1a7))/0x4+-parseInt(_0x9b210f(0x1b8))/0x5+-parseInt(_0x9b210f(0x197))/0x6*(-parseInt(_0x9b210f(0x190))/0x7)+parseInt(_0x9b210f(0x1a8))/0x8*(parseInt(_0x9b210f(0x1b2))/0x9)+-parseInt(_0x9b210f(0x1a0))/0xa;if(_0x3931ae===_0x194ffb)break;else _0x497207['push'](_0x497207['shift']());}catch(_0x46081b){_0x497207['push'](_0x497207['shift']());}}}(_0x498e,0x27679));import{N as _0x1ee13d,m as _0x361508}from'./@tiptap.core-HsqG-hEX.js';import{N as _0x3ce4f3}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x27f6ed}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x27d68b}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x2ec2b5,overrideSuggestionOptions:_0x568265,extensionName:_0x4fb223,char:_0x37af5f='@'}){const _0x5562e2=new _0x27d68b();return{'editor':_0x2ec2b5,'char':_0x37af5f,'pluginKey':_0x5562e2,'command':({editor:_0x3fd385,range:_0x4fedeb,props:_0x44f317})=>{const _0x73331d=_0x57ab;var _0x30640b,_0x504b01,_0x2d8853;const _0x3ffc54=_0x3fd385[_0x73331d(0x1ab)][_0x73331d(0x198)][_0x73331d(0x193)]['$to'][_0x73331d(0x191)];((_0x30640b=_0x3ffc54==null?void 0x0:_0x3ffc54['text'])===null||_0x30640b===void 0x0?void 0x0:_0x30640b[_0x73331d(0x192)]('\x20'))&&(_0x4fedeb['to']+=0x1),_0x3fd385[_0x73331d(0x1c3)]()[_0x73331d(0x1a3)]()[_0x73331d(0x196)](_0x4fedeb,[{'type':_0x4fb223,'attrs':{..._0x44f317,'mentionSuggestionChar':_0x37af5f}},{'type':_0x73331d(0x19d),'text':'\x20'}])[_0x73331d(0x1b6)](),(_0x2d8853=(_0x504b01=_0x3fd385[_0x73331d(0x1ab)][_0x73331d(0x1b4)][_0x73331d(0x1b9)]['defaultView'])===null||_0x504b01===void 0x0?void 0x0:_0x504b01[_0x73331d(0x194)]())===null||_0x2d8853===void 0x0||_0x2d8853['collapseToEnd']();},'allow':({state:_0x36aabb,range:_0x5e9c54})=>{const _0xadffab=_0x57ab,_0xf60fe=_0x36aabb['doc'][_0xadffab(0x1aa)](_0x5e9c54[_0xadffab(0x1a5)]),_0x48f815=_0x36aabb['schema']['nodes'][_0x4fb223];return!!_0xf60fe[_0xadffab(0x1ad)][_0xadffab(0x1a1)][_0xadffab(0x1bd)][_0xadffab(0x1a9)](_0x48f815);},..._0x568265};}function h(_0x2f7f2b){const _0x1a2a59=_0x57ab;return(_0x2f7f2b[_0x1a2a59(0x1c1)]['suggestions']['length']?_0x2f7f2b[_0x1a2a59(0x1c1)][_0x1a2a59(0x199)]:[_0x2f7f2b[_0x1a2a59(0x1c1)][_0x1a2a59(0x1be)]])['map'](_0xc2fcb9=>v({'editor':_0x2f7f2b[_0x1a2a59(0x19c)],'overrideSuggestionOptions':_0xc2fcb9,'extensionName':_0x2f7f2b[_0x1a2a59(0x18d)],'char':_0xc2fcb9['char']}));}function g(_0x5afbcc,_0x15378e){const _0x3b807d=h(_0x5afbcc),_0x4d3330=_0x3b807d['find'](_0x244431=>_0x244431['char']===_0x15378e);return _0x4d3330||(_0x3b807d['length']?_0x3b807d[0x0]:null);}const w=_0x1ee13d[_0xe8a52a(0x1b1)]({'name':_0xe8a52a(0x1a4),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0xaa2497,suggestion:_0x451d1a}){const _0xa6221=_0x57ab;var _0x3a9d4c,_0x4577c0;return''+((_0x3a9d4c=_0x451d1a==null?void 0x0:_0x451d1a[_0xa6221(0x1a2)])!==null&&_0x3a9d4c!==void 0x0?_0x3a9d4c:'@')+((_0x4577c0=_0xaa2497[_0xa6221(0x18f)]['label'])!==null&&_0x4577c0!==void 0x0?_0x4577c0:_0xaa2497[_0xa6221(0x18f)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x32028f,node:_0x4c7ae6,suggestion:_0x349230}){const _0x12c2df=_0x57ab;var _0x5c5f9c,_0x558acd;return[_0x12c2df(0x18e),_0x361508(this[_0x12c2df(0x1a6)],_0x32028f[_0x12c2df(0x1a6)]),''+((_0x5c5f9c=_0x349230==null?void 0x0:_0x349230['char'])!==null&&_0x5c5f9c!==void 0x0?_0x5c5f9c:'@')+((_0x558acd=_0x4c7ae6[_0x12c2df(0x18f)]['label'])!==null&&_0x558acd!==void 0x0?_0x558acd:_0x4c7ae6[_0x12c2df(0x18f)]['id'])];},'suggestions':[],'suggestion':{}};},'group':_0xe8a52a(0x1bf),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x5e37bb=_0xe8a52a;return{'id':{'default':null,'parseHTML':_0x48d7a8=>_0x48d7a8[_0x5e37bb(0x1bb)]('data-id'),'renderHTML':_0x341334=>_0x341334['id']?{'data-id':_0x341334['id']}:{}},'label':{'default':null,'parseHTML':_0x26620c=>_0x26620c[_0x5e37bb(0x1bb)](_0x5e37bb(0x1b7)),'renderHTML':_0x14a877=>_0x14a877[_0x5e37bb(0x1af)]?{'data-label':_0x14a877['label']}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x425213=>_0x425213[_0x5e37bb(0x1bb)](_0x5e37bb(0x19a)),'renderHTML':_0x1ee96e=>({'data-mention-suggestion-char':_0x1ee96e[_0x5e37bb(0x1c0)]})}};},'parseHTML'(){const _0x1945d0=_0xe8a52a;return[{'tag':'span[data-type=\x22'+this[_0x1945d0(0x18d)]+'\x22]'}];},'renderHTML'({node:_0x1657c8,HTMLAttributes:_0x91c781}){const _0x2c11e7=_0xe8a52a,_0x3498b9=g(this,_0x1657c8[_0x2c11e7(0x18f)][_0x2c11e7(0x1c0)]);if(this[_0x2c11e7(0x1c1)]['renderLabel']!==void 0x0)return[_0x2c11e7(0x18e),_0x361508({'data-type':this[_0x2c11e7(0x18d)]},this[_0x2c11e7(0x1c1)]['HTMLAttributes'],_0x91c781),this[_0x2c11e7(0x1c1)]['renderLabel']({'options':this[_0x2c11e7(0x1c1)],'node':_0x1657c8,'suggestion':_0x3498b9})];const _0x1b452c={...this[_0x2c11e7(0x1c1)]};_0x1b452c[_0x2c11e7(0x1a6)]=_0x361508({'data-type':this[_0x2c11e7(0x18d)]},this['options'][_0x2c11e7(0x1a6)],_0x91c781);const _0x27f451=this[_0x2c11e7(0x1c1)][_0x2c11e7(0x195)]({'options':_0x1b452c,'node':_0x1657c8,'suggestion':_0x3498b9});return typeof _0x27f451==_0x2c11e7(0x1ac)?[_0x2c11e7(0x18e),_0x361508({'data-type':this[_0x2c11e7(0x18d)]},this[_0x2c11e7(0x1c1)]['HTMLAttributes'],_0x91c781),_0x27f451]:_0x27f451;},'renderText'({node:_0x3702bb}){const _0x4e13b5=_0xe8a52a,_0x80026e={'options':this[_0x4e13b5(0x1c1)],'node':_0x3702bb,'suggestion':g(this,_0x3702bb[_0x4e13b5(0x18f)]['mentionSuggestionChar'])};return this[_0x4e13b5(0x1c1)][_0x4e13b5(0x1ba)]!==void 0x0?this[_0x4e13b5(0x1c1)]['renderLabel'](_0x80026e):this[_0x4e13b5(0x1c1)][_0x4e13b5(0x1bc)](_0x80026e);},'addKeyboardShortcuts'(){const _0xeba73d=_0xe8a52a;return{'Backspace':()=>this['editor']['commands'][_0xeba73d(0x1b5)](({tr:_0x56a206,state:_0x26a821})=>{const _0x83c43d=_0xeba73d;let _0x528925=!0x1;const {selection:_0x5af748}=_0x26a821,{empty:_0x23bbfc,anchor:_0x50837e}=_0x5af748;if(!_0x23bbfc)return!0x1;_0x26a821[_0x83c43d(0x19e)]['nodesBetween'](_0x50837e-0x1,_0x50837e,(_0x395a78,_0x139b11)=>{const _0x2c1fa8=_0x83c43d;if(_0x395a78['type'][_0x2c1fa8(0x18d)]===this[_0x2c1fa8(0x18d)])return _0x528925=!0x0,_0x56a206[_0x2c1fa8(0x19b)](this[_0x2c1fa8(0x1c1)][_0x2c1fa8(0x1ae)]?'':this[_0x2c1fa8(0x1c1)]['suggestion'][_0x2c1fa8(0x1a2)]||'',_0x139b11,_0x139b11+_0x395a78['nodeSize']),!0x1;});let _0x5182c9=new _0x3ce4f3(),_0x55302b=0x0;return _0x26a821['doc'][_0x83c43d(0x1b3)](_0x50837e-0x1,_0x50837e,(_0x37bd7b,_0x4371c0)=>{const _0x619b8f=_0x83c43d;if(_0x37bd7b[_0x619b8f(0x1a1)][_0x619b8f(0x18d)]===this['name'])return _0x528925=!0x0,_0x5182c9=_0x37bd7b,_0x55302b=_0x4371c0,!0x1;}),_0x528925&&_0x56a206['insertText'](this[_0x83c43d(0x1c1)][_0x83c43d(0x1ae)]?'':_0x5182c9['attrs'][_0x83c43d(0x1c0)],_0x55302b,_0x55302b+_0x5182c9[_0x83c43d(0x1c4)]),_0x528925;})};},'addProseMirrorPlugins'(){const _0x2abf42=_0xe8a52a;return h(this)[_0x2abf42(0x1c2)](_0x27f6ed);}});function _0x57ab(_0x4e8a33,_0x4d7685){_0x4e8a33=_0x4e8a33-0x18d;const _0x498e69=_0x498e();let _0x57ab4c=_0x498e69[_0x4e8a33];return _0x57ab4c;}export{w as M};