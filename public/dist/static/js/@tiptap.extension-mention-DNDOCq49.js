const _0x31c289=_0xf4b1;(function(_0x5c8aea,_0x1af03b){const _0x15201a=_0xf4b1,_0x312557=_0x5c8aea();while(!![]){try{const _0x1327e0=parseInt(_0x15201a(0x167))/0x1+parseInt(_0x15201a(0x152))/0x2*(parseInt(_0x15201a(0x165))/0x3)+-parseInt(_0x15201a(0x16d))/0x4+-parseInt(_0x15201a(0x157))/0x5+parseInt(_0x15201a(0x168))/0x6*(parseInt(_0x15201a(0x179))/0x7)+parseInt(_0x15201a(0x174))/0x8+parseInt(_0x15201a(0x161))/0x9*(-parseInt(_0x15201a(0x156))/0xa);if(_0x1327e0===_0x1af03b)break;else _0x312557['push'](_0x312557['shift']());}catch(_0x106c50){_0x312557['push'](_0x312557['shift']());}}}(_0x51c8,0x4cd5c));function _0x51c8(){const _0x15780c=['110266lrAnmb','42aAoHGF','suggestion','matchType','doc','contentMatch','203320tSLEqr','attrs','options','state','commands','resolve','chain','2219200XWlQla','char','nodeAfter','create','startsWith','529739yKdReb','mentionSuggestionChar','label','data-mention-suggestion-char','ownerDocument','getSelection','HTMLAttributes','schema','mention','view','type','map','nodeSize','find','deleteTriggerWithBackspace','312674nUXKio','nodesBetween','data-id','collapseToEnd','2210aCjLDM','1106665GcvAHM','name','text','inline','parent','defaultView','getAttribute','editor','suggestions','run','19827waMPFf','span','insertText','string','3FQWcfV','renderLabel'];_0x51c8=function(){return _0x15780c;};return _0x51c8();}import{N as _0x12f395,m as _0x170607}from'./@tiptap.core-HsqG-hEX.js';function _0xf4b1(_0x2685da,_0x216030){_0x2685da=_0x2685da-0x148;const _0x51c8c0=_0x51c8();let _0xf4b1ef=_0x51c8c0[_0x2685da];return _0xf4b1ef;}import{N as _0x349b78}from'./prosemirror-model-CRZLy2j9.js';import{S as _0x16f514}from'./@tiptap.suggestion-D1eFLxRa.js';import{a as _0x5e0fb9}from'./prosemirror-state-DcLGimL2.js';function v({editor:_0x3e6cc7,overrideSuggestionOptions:_0x49bd62,extensionName:_0x287f1f,char:_0x3460fd='@'}){const _0x3aab10=new _0x5e0fb9();return{'editor':_0x3e6cc7,'char':_0x3460fd,'pluginKey':_0x3aab10,'command':({editor:_0x5e0a3e,range:_0x345f49,props:_0x2c0e2d})=>{const _0x242fdc=_0xf4b1;var _0x44e5a1,_0x1e205a,_0xbaf892;const _0x1fbd8f=_0x5e0a3e[_0x242fdc(0x14c)][_0x242fdc(0x170)]['selection']['$to'][_0x242fdc(0x176)];((_0x44e5a1=_0x1fbd8f==null?void 0x0:_0x1fbd8f['text'])===null||_0x44e5a1===void 0x0?void 0x0:_0x44e5a1[_0x242fdc(0x178)]('\x20'))&&(_0x345f49['to']+=0x1),_0x5e0a3e[_0x242fdc(0x173)]()['focus']()['insertContentAt'](_0x345f49,[{'type':_0x287f1f,'attrs':{..._0x2c0e2d,'mentionSuggestionChar':_0x3460fd}},{'type':_0x242fdc(0x159),'text':'\x20'}])[_0x242fdc(0x160)](),(_0xbaf892=(_0x1e205a=_0x5e0a3e[_0x242fdc(0x14c)]['dom'][_0x242fdc(0x17d)][_0x242fdc(0x15c)])===null||_0x1e205a===void 0x0?void 0x0:_0x1e205a[_0x242fdc(0x148)]())===null||_0xbaf892===void 0x0||_0xbaf892[_0x242fdc(0x155)]();},'allow':({state:_0x250ea4,range:_0x52e155})=>{const _0x1557e6=_0xf4b1,_0x4816cb=_0x250ea4['doc'][_0x1557e6(0x172)](_0x52e155['from']),_0x4ddb99=_0x250ea4[_0x1557e6(0x14a)]['nodes'][_0x287f1f];return!!_0x4816cb[_0x1557e6(0x15b)]['type'][_0x1557e6(0x16c)][_0x1557e6(0x16a)](_0x4ddb99);},..._0x49bd62};}function h(_0x815407){const _0x3c38c7=_0xf4b1;return(_0x815407[_0x3c38c7(0x16f)][_0x3c38c7(0x15f)]['length']?_0x815407[_0x3c38c7(0x16f)][_0x3c38c7(0x15f)]:[_0x815407[_0x3c38c7(0x16f)][_0x3c38c7(0x169)]])[_0x3c38c7(0x14e)](_0x2b22c1=>v({'editor':_0x815407['editor'],'overrideSuggestionOptions':_0x2b22c1,'extensionName':_0x815407['name'],'char':_0x2b22c1[_0x3c38c7(0x175)]}));}function g(_0x49fa1f,_0x2a59d5){const _0x2923ba=_0xf4b1,_0x2f4ce0=h(_0x49fa1f),_0x49cc41=_0x2f4ce0[_0x2923ba(0x150)](_0x405818=>_0x405818['char']===_0x2a59d5);return _0x49cc41||(_0x2f4ce0['length']?_0x2f4ce0[0x0]:null);}const w=_0x12f395[_0x31c289(0x177)]({'name':_0x31c289(0x14b),'priority':0x65,'addOptions'(){return{'HTMLAttributes':{},'renderText'({node:_0x3c729c,suggestion:_0x28c0e3}){const _0x7b6875=_0xf4b1;var _0x5e5cb3,_0x18a47e;return''+((_0x5e5cb3=_0x28c0e3==null?void 0x0:_0x28c0e3[_0x7b6875(0x175)])!==null&&_0x5e5cb3!==void 0x0?_0x5e5cb3:'@')+((_0x18a47e=_0x3c729c[_0x7b6875(0x16e)][_0x7b6875(0x17b)])!==null&&_0x18a47e!==void 0x0?_0x18a47e:_0x3c729c[_0x7b6875(0x16e)]['id']);},'deleteTriggerWithBackspace':!0x1,'renderHTML'({options:_0x2f641f,node:_0x2764e6,suggestion:_0x6fbe26}){const _0x16bf99=_0xf4b1;var _0x2fb936,_0x20976a;return[_0x16bf99(0x162),_0x170607(this['HTMLAttributes'],_0x2f641f[_0x16bf99(0x149)]),''+((_0x2fb936=_0x6fbe26==null?void 0x0:_0x6fbe26[_0x16bf99(0x175)])!==null&&_0x2fb936!==void 0x0?_0x2fb936:'@')+((_0x20976a=_0x2764e6[_0x16bf99(0x16e)][_0x16bf99(0x17b)])!==null&&_0x20976a!==void 0x0?_0x20976a:_0x2764e6['attrs']['id'])];},'suggestions':[],'suggestion':{}};},'group':_0x31c289(0x15a),'inline':!0x0,'selectable':!0x1,'atom':!0x0,'addAttributes'(){const _0x2126be=_0x31c289;return{'id':{'default':null,'parseHTML':_0x2dc1ee=>_0x2dc1ee['getAttribute'](_0x2126be(0x154)),'renderHTML':_0x4d7d98=>_0x4d7d98['id']?{'data-id':_0x4d7d98['id']}:{}},'label':{'default':null,'parseHTML':_0x49147a=>_0x49147a['getAttribute']('data-label'),'renderHTML':_0x11fa03=>_0x11fa03[_0x2126be(0x17b)]?{'data-label':_0x11fa03['label']}:{}},'mentionSuggestionChar':{'default':'@','parseHTML':_0x502c5f=>_0x502c5f[_0x2126be(0x15d)](_0x2126be(0x17c)),'renderHTML':_0x178b03=>({'data-mention-suggestion-char':_0x178b03[_0x2126be(0x17a)]})}};},'parseHTML'(){const _0x4862f3=_0x31c289;return[{'tag':'span[data-type=\x22'+this[_0x4862f3(0x158)]+'\x22]'}];},'renderHTML'({node:_0x43e440,HTMLAttributes:_0x2036b4}){const _0x2c2459=_0x31c289,_0xb5a997=g(this,_0x43e440['attrs'][_0x2c2459(0x17a)]);if(this['options']['renderLabel']!==void 0x0)return[_0x2c2459(0x162),_0x170607({'data-type':this['name']},this[_0x2c2459(0x16f)][_0x2c2459(0x149)],_0x2036b4),this[_0x2c2459(0x16f)][_0x2c2459(0x166)]({'options':this[_0x2c2459(0x16f)],'node':_0x43e440,'suggestion':_0xb5a997})];const _0x94165f={...this[_0x2c2459(0x16f)]};_0x94165f['HTMLAttributes']=_0x170607({'data-type':this['name']},this[_0x2c2459(0x16f)]['HTMLAttributes'],_0x2036b4);const _0x112b8d=this[_0x2c2459(0x16f)]['renderHTML']({'options':_0x94165f,'node':_0x43e440,'suggestion':_0xb5a997});return typeof _0x112b8d==_0x2c2459(0x164)?['span',_0x170607({'data-type':this[_0x2c2459(0x158)]},this[_0x2c2459(0x16f)][_0x2c2459(0x149)],_0x2036b4),_0x112b8d]:_0x112b8d;},'renderText'({node:_0x8f8e7f}){const _0x58ad0e=_0x31c289,_0x218b87={'options':this['options'],'node':_0x8f8e7f,'suggestion':g(this,_0x8f8e7f[_0x58ad0e(0x16e)]['mentionSuggestionChar'])};return this[_0x58ad0e(0x16f)][_0x58ad0e(0x166)]!==void 0x0?this[_0x58ad0e(0x16f)][_0x58ad0e(0x166)](_0x218b87):this[_0x58ad0e(0x16f)]['renderText'](_0x218b87);},'addKeyboardShortcuts'(){const _0x736b1c=_0x31c289;return{'Backspace':()=>this[_0x736b1c(0x15e)][_0x736b1c(0x171)]['command'](({tr:_0x52913e,state:_0x140b22})=>{const _0xcdb998=_0x736b1c;let _0xe35db6=!0x1;const {selection:_0x1e97a5}=_0x140b22,{empty:_0x3d5d51,anchor:_0x2acba3}=_0x1e97a5;if(!_0x3d5d51)return!0x1;_0x140b22['doc'][_0xcdb998(0x153)](_0x2acba3-0x1,_0x2acba3,(_0x21cae1,_0x130b7d)=>{const _0x8749c4=_0xcdb998;if(_0x21cae1[_0x8749c4(0x14d)]['name']===this[_0x8749c4(0x158)])return _0xe35db6=!0x0,_0x52913e[_0x8749c4(0x163)](this['options'][_0x8749c4(0x151)]?'':this['options'][_0x8749c4(0x169)]['char']||'',_0x130b7d,_0x130b7d+_0x21cae1[_0x8749c4(0x14f)]),!0x1;});let _0x3bc6b0=new _0x349b78(),_0x8ccafd=0x0;return _0x140b22[_0xcdb998(0x16b)][_0xcdb998(0x153)](_0x2acba3-0x1,_0x2acba3,(_0x1238e4,_0xff5913)=>{const _0x4218a8=_0xcdb998;if(_0x1238e4[_0x4218a8(0x14d)]['name']===this[_0x4218a8(0x158)])return _0xe35db6=!0x0,_0x3bc6b0=_0x1238e4,_0x8ccafd=_0xff5913,!0x1;}),_0xe35db6&&_0x52913e[_0xcdb998(0x163)](this[_0xcdb998(0x16f)][_0xcdb998(0x151)]?'':_0x3bc6b0['attrs'][_0xcdb998(0x17a)],_0x8ccafd,_0x8ccafd+_0x3bc6b0[_0xcdb998(0x14f)]),_0xe35db6;})};},'addProseMirrorPlugins'(){const _0x19363a=_0x31c289;return h(this)[_0x19363a(0x14e)](_0x16f514);}});export{w as M};