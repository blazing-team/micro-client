import{N as f,n as m,d as h,i as A,m as T}from"./@tiptap.core-HsqG-hEX.js";import{T as i,N as y}from"./prosemirror-state-DcLGimL2.js";const M=f.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",T(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:s})=>{if(!h(s,s.schema.nodes[this.name]))return!1;const{selection:a}=s,{$from:c,$to:l}=a,o=n();return c.parentOffset===0?o.insertContentAt({from:Math.max(c.pos-1,0),to:l.pos},{type:this.name}):A(a)?o.insertContentAt(l.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:e,dispatch:u})=>{var r;if(u){const{$to:t}=e.selection,d=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(i.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(y.create(e.doc,t.pos)):e.setSelection(i.create(e.doc,t.pos));else{const p=(r=t.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();p&&(e.insert(d,p),e.setSelection(i.create(e.doc,d+1)))}e.scrollIntoView()}return!0}).run()}}},addInputRules(){return[m({find:/^(?:---|â€”-|___\s|\*\*\*\s)$/,type:this.type})]}});export{M as H};
